'use strict';

var _should = require('should');

var _should2 = _interopRequireDefault(_should);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _metatraderAccountApi = require('./metatraderAccountApi');

var _metatraderAccountApi2 = _interopRequireDefault(_metatraderAccountApi);

var _metatraderAccount = require('./metatraderAccount');

var _metatraderAccount2 = _interopRequireDefault(_metatraderAccount);

var _errorHandler = require('../clients/errorHandler');

var _index = require('./historyFileManager/index');

var _index2 = _interopRequireDefault(_index);

var _expertAdvisor = require('./expertAdvisor');

var _expertAdvisor2 = _interopRequireDefault(_expertAdvisor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @test {MetatraderAccountApi}
 * @test {MetatraderAccount}
 */
describe('MetatraderAccountApi', () => {

  let sandbox;
  let api;
  let client = {
    getAccounts: () => {},
    getAccount: () => {},
    getAccountByToken: () => {},
    createAccount: () => {},
    deleteAccount: () => {},
    deployAccount: () => {},
    undeployAccount: () => {},
    redeployAccount: () => {},
    updateAccount: () => {},
    increaseReliability: () => {}
  };
  let eaClient = {
    getExpertAdvisors: () => {},
    getExpertAdvisor: () => {},
    updateExpertAdvisor: () => {},
    uploadExpertAdvisorFile: () => {},
    deleteExpertAdvisor: () => {}
  };
  let metaApiWebsocketClient = {
    addSynchronizationListener: () => {},
    addReconnectListener: () => {},
    subscribe: () => {}
  };
  let connectionRegistry = {
    connect: () => {},
    remove: () => {}
  };

  before(() => {
    api = new _metatraderAccountApi2.default(client, metaApiWebsocketClient, connectionRegistry, eaClient);
    sandbox = _sinon2.default.createSandbox();
  });

  afterEach(() => {
    sandbox.restore();
  });

  /**
   * @test {MetatraderAccountApi#getAccounts}
   */
  it('should retrieve MT accounts', async () => {
    sandbox.stub(client, 'getAccounts').resolves([{ _id: 'id' }]);
    let accounts = await api.getAccounts({ provisioningProfileId: 'profileId' });
    accounts.map(a => a.id).should.match(['id']);
    accounts.forEach(a => (a instanceof _metatraderAccount2.default).should.be.true());
    _sinon2.default.assert.calledWithMatch(client.getAccounts, { provisioningProfileId: 'profileId' });
  });

  /**
   * @test {MetatraderAccountApi#getAccount}
   */
  it('should retrieve MT account by id', async () => {
    sandbox.stub(client, 'getAccount').resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYED',
      type: 'cloud',
      accessToken: '2RUnoH1ldGbnEneCoqRTgI4QO1XOmVzbH5EVoQsA'
    });
    let account = await api.getAccount('id');
    account.id.should.equal('id');
    account.login.should.equal('50194988');
    account.name.should.equal('mt5a');
    account.server.should.equal('ICMarketsSC-Demo');
    account.provisioningProfileId.should.equal('f9ce1f12-e720-4b9a-9477-c2d4cb25f076');
    account.magic.should.equal(123456);
    account.application.should.equal('MetaApi');
    account.connectionStatus.should.equal('DISCONNECTED');
    account.state.should.equal('DEPLOYED');
    account.type.should.equal('cloud');
    account.accessToken.should.equal('2RUnoH1ldGbnEneCoqRTgI4QO1XOmVzbH5EVoQsA');
    (account instanceof _metatraderAccount2.default).should.be.true();
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
  });

  /**
   * @test {MetatraderAccountApi#getAccountByToken}
   */
  it('should retrieve MT account by token', async () => {
    sandbox.stub(client, 'getAccountByToken').resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYED',
      type: 'cloud',
      accessToken: '2RUnoH1ldGbnEneCoqRTgI4QO1XOmVzbH5EVoQsA'
    });
    let account = await api.getAccountByToken();
    account.id.should.equal('id');
    account.login.should.equal('50194988');
    account.name.should.equal('mt5a');
    account.server.should.equal('ICMarketsSC-Demo');
    account.provisioningProfileId.should.equal('f9ce1f12-e720-4b9a-9477-c2d4cb25f076');
    account.magic.should.equal(123456);
    account.application.should.equal('MetaApi');
    account.connectionStatus.should.equal('DISCONNECTED');
    account.state.should.equal('DEPLOYED');
    account.type.should.equal('cloud');
    account.accessToken.should.equal('2RUnoH1ldGbnEneCoqRTgI4QO1XOmVzbH5EVoQsA');
    (account instanceof _metatraderAccount2.default).should.be.true();
    _sinon2.default.assert.calledWith(client.getAccountByToken);
  });

  /**
   * @test {MetatraderAccountApi#createAccount}
   */
  it('should create MT account', async () => {
    sandbox.stub(client, 'createAccount').resolves({ id: 'id' });
    sandbox.stub(client, 'getAccount').resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYED',
      type: 'cloud',
      accessToken: '2RUnoH1ldGbnEneCoqRTgI4QO1XOmVzbH5EVoQsA'
    });
    let newAccountData = {
      login: '50194988',
      password: 'Test1234',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      type: 'cloud',
      accessToken: 'NyV5no9TMffJyUts2FjI80wly0so3rVCz4xOqiDx'
    };
    let account = await api.createAccount(newAccountData);
    account.id.should.equal('id');
    account.login.should.equal('50194988');
    account.name.should.equal('mt5a');
    account.server.should.equal('ICMarketsSC-Demo');
    account.provisioningProfileId.should.equal('f9ce1f12-e720-4b9a-9477-c2d4cb25f076');
    account.magic.should.equal(123456);
    account.application.should.equal('MetaApi');
    account.connectionStatus.should.equal('DISCONNECTED');
    account.state.should.equal('DEPLOYED');
    account.type.should.equal('cloud');
    account.accessToken.should.equal('2RUnoH1ldGbnEneCoqRTgI4QO1XOmVzbH5EVoQsA');
    (account instanceof _metatraderAccount2.default).should.be.true();
    _sinon2.default.assert.calledWith(client.createAccount, newAccountData);
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
  });

  /**
   * @test {MetatraderAccount#reload}
   */
  it('should reload MT account', async () => {
    sandbox.stub(client, 'getAccount').onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYING',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    });
    let account = await api.getAccount('id');
    await account.reload();
    account.connectionStatus.should.equal('CONNECTED');
    account.state.should.equal('DEPLOYED');
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  /**
   * @test {MetatraderAccount#remove}
   */
  it('should remove MT account', async () => {
    sandbox.stub(connectionRegistry, 'remove').resolves();
    sandbox.stub(client, 'getAccount').onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'DELETING',
      type: 'cloud'
    });
    sandbox.stub(client, 'deleteAccount').resolves();
    sandbox.stub(_index2.default.prototype, 'deleteStorageFromDisk').returns();
    let account = await api.getAccount('id');
    await account.remove();
    _sinon2.default.assert.calledWith(connectionRegistry.remove, 'id');
    _sinon2.default.assert.calledOnce(_index2.default.prototype.deleteStorageFromDisk);
    account.state.should.equal('DELETING');
    _sinon2.default.assert.calledWith(client.deleteAccount, 'id');
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  /**
   * @test {MetatraderAccount#deploy}
   */
  it('should deploy MT account', async () => {
    sandbox.stub(client, 'getAccount').onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'UNDEPLOYED',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'DEPLOYING',
      type: 'cloud'
    });
    sandbox.stub(client, 'deployAccount').resolves();
    let account = await api.getAccount('id');
    await account.deploy();
    account.state.should.equal('DEPLOYING');
    _sinon2.default.assert.calledWith(client.deployAccount, 'id');
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  /**
   * @test {MetatraderAccount#undeploy}
   */
  it('should undeploy MT account', async () => {
    sandbox.stub(connectionRegistry, 'remove').resolves();
    sandbox.stub(client, 'getAccount').onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'UNDEPLOYING',
      type: 'cloud'
    });
    sandbox.stub(client, 'undeployAccount').resolves();
    let account = await api.getAccount('id');
    await account.undeploy();
    _sinon2.default.assert.calledWith(connectionRegistry.remove, 'id');
    account.state.should.equal('UNDEPLOYING');
    _sinon2.default.assert.calledWith(client.undeployAccount, 'id');
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  /**
   * @test {MetatraderAccount#redeploy}
   */
  it('should redeploy MT account', async () => {
    sandbox.stub(client, 'getAccount').onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'UNDEPLOYING',
      type: 'cloud'
    });
    sandbox.stub(client, 'redeployAccount').resolves();
    let account = await api.getAccount('id');
    await account.redeploy();
    account.state.should.equal('UNDEPLOYING');
    _sinon2.default.assert.calledWith(client.redeployAccount, 'id');
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  /**
   * @test {MetatraderAccount#increaseReliability}
   */
  it('should increase MT account reliability', async () => {
    sandbox.stub(client, 'getAccount').onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'UNDEPLOYING',
      type: 'cloud',
      reliability: 'high'
    });
    sandbox.stub(client, 'increaseReliability').resolves();
    let account = await api.getAccount('id');
    await account.increaseReliability();
    account.reliability.should.equal('high');
    _sinon2.default.assert.calledWith(client.increaseReliability, 'id');
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  describe('MetatraderAccount.waitDeployed', () => {

    /**
     * @test {MetatraderAccount#waitDeployed}
     */
    it('should wait for deployment', async () => {
      let deployingAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'DEPLOYING',
        type: 'cloud'
      };
      sandbox.stub(client, 'getAccount').onFirstCall().resolves(deployingAccount).onSecondCall().resolves(deployingAccount).onThirdCall().resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud'
      });
      let account = await api.getAccount('id');
      await account.waitDeployed(1, 50);
      account.state.should.equal('DEPLOYED');
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledThrice(client.getAccount);
    });

    /**
     * @test {MetatraderAccount#waitDeployed}
     */
    it('should time out waiting for deployment', async () => {
      let deployingAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'DEPLOYING',
        type: 'cloud'
      };
      sandbox.stub(client, 'getAccount').resolves(deployingAccount);
      let account = await api.getAccount('id');
      try {
        await account.waitDeployed(1, 50);
        throw new Error('TimeoutError is expected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
        account.state.should.equal('DEPLOYING');
      }
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
    });
  });

  describe('MetatraderAccount.waitUndeployed', () => {

    /**
     * @test {MetatraderAccount#waitUndeployed}
     */
    it('should wait for undeployment', async () => {
      let undeployingAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'UNDEPLOYING',
        type: 'cloud'
      };
      sandbox.stub(client, 'getAccount').onFirstCall().resolves(undeployingAccount).onSecondCall().resolves(undeployingAccount).onThirdCall().resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'UNDEPLOYED',
        type: 'cloud'
      });
      let account = await api.getAccount('id');
      await account.waitUndeployed(1, 50);
      account.state.should.equal('UNDEPLOYED');
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledThrice(client.getAccount);
    });

    /**
     * @test {MetatraderAccount#waitUndeployed}
     */
    it('should time out waiting for undeployment', async () => {
      let undeployingAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'UNDEPLOYING',
        type: 'cloud'
      };
      sandbox.stub(client, 'getAccount').resolves(undeployingAccount);
      let account = await api.getAccount('id');
      try {
        await account.waitUndeployed(1, 50);
        throw new Error('TimeoutError is expected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
        account.state.should.equal('UNDEPLOYING');
      }
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
    });
  });

  describe('MetatraderAccount.waitRemoved', () => {

    /**
     * @test {MetatraderAccount#waitRemoved}
     */
    it('should wait until removed', async () => {
      let deletingAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'DELETING',
        type: 'cloud'
      };
      sandbox.stub(client, 'getAccount').onFirstCall().resolves(deletingAccount).onSecondCall().resolves(deletingAccount).onThirdCall().throws(new _errorHandler.NotFoundError());
      let account = await api.getAccount('id');
      await account.waitRemoved(1, 50);
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledThrice(client.getAccount);
    });

    /**
     * @test {MetatraderAccount#waitRemoved}
     */
    it('should time out waiting until removed', async () => {
      let deletingAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'DELETING',
        type: 'cloud'
      };
      sandbox.stub(client, 'getAccount').resolves(deletingAccount);
      let account = await api.getAccount('id');
      try {
        await account.waitRemoved(1, 50);
        throw new Error('TimeoutError is expected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
      }
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
    });
  });

  describe('MetatraderAccount.waitConnected', () => {

    /**
     * @test {MetatraderAccount#waitConnected}
     */
    it('should wait until broker connection', async () => {
      let disconnectedAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'DEPLOYED',
        type: 'cloud'
      };
      sandbox.stub(client, 'getAccount').onFirstCall().resolves(disconnectedAccount).onSecondCall().resolves(disconnectedAccount).onThirdCall().resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud'
      });
      let account = await api.getAccount('id');
      await account.waitConnected(1, 50);
      account.connectionStatus.should.equal('CONNECTED');
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledThrice(client.getAccount);
    });

    /**
     * @test {MetatraderAccount#waitConnected}
     */
    it('should time out waiting for broker connection', async () => {
      let disconnectedAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'DEPLOYED',
        type: 'cloud'
      };
      sandbox.stub(client, 'getAccount').resolves(disconnectedAccount);
      let account = await api.getAccount('id');
      try {
        await account.waitConnected(1, 50);
        throw new Error('TimeoutError is expected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
        account.connectionStatus.should.equal('DISCONNECTED');
      }
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
    });
  });

  /**
   * @test {MetatraderAccount#connect}
   */
  it('should connect to an MT terminal', async () => {
    sandbox.stub(metaApiWebsocketClient, 'addSynchronizationListener').returns();
    sandbox.stub(metaApiWebsocketClient, 'subscribe').resolves();
    sandbox.stub(client, 'getAccount').resolves({ _id: 'id' });
    let account = await api.getAccount();
    let storage = {
      lastHistoryOrderTime: () => new Date('2020-01-01T00:00:00.000Z'),
      lastDealTime: () => new Date('2020-01-02T00:00:00.000Z'),
      loadDataFromDisk: () => ({ deals: [], historyOrders: [] })
    };
    sandbox.spy(connectionRegistry, 'connect');
    await account.connect(storage);
    _sinon2.default.assert.calledWith(connectionRegistry.connect, account, storage);
  });

  /**
   * @test {MetatraderAccount#update}
   */
  it('should update MT account', async () => {
    sandbox.stub(client, 'getAccount').onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a__',
      server: 'OtherMarkets-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    });
    sandbox.stub(client, 'updateAccount').resolves();
    let account = await api.getAccount('id');
    await account.update({
      name: 'mt5a__',
      password: 'moreSecurePass',
      server: 'OtherMarkets-Demo'
    });
    account.name.should.equal('mt5a__');
    account.server.should.equal('OtherMarkets-Demo');
    _sinon2.default.assert.calledWith(client.updateAccount, 'id', {
      name: 'mt5a__',
      password: 'moreSecurePass',
      server: 'OtherMarkets-Demo'
    });
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  /**
   * @test {MetatraderAccount#getExpertAdvisors}
   */
  it('should retrieve expert advisors', async () => {
    sandbox.stub(client, 'getAccount').resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisors').resolves([{ expertId: 'ea' }]);
    const account = await api.getAccount();
    const experts = await account.getExpertAdvisors();
    experts.map(e => e.expertId).should.match(['ea']);
    experts.forEach(e => (e instanceof _expertAdvisor2.default).should.be.true());
    _sinon2.default.assert.calledWithMatch(eaClient.getExpertAdvisors, 'id');
  });

  /**
   * @test {MetatraderAccount#getExpertAdvisor}
   */
  it('should retrieve expert advisor by expert id', async () => {
    sandbox.stub(client, 'getAccount').resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisor').resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    const account = await api.getAccount('id');
    const expert = await account.getExpertAdvisor('ea');
    expert.expertId.should.match('ea');
    expert.period.should.match('1H');
    expert.symbol.should.match('EURUSD');
    expert.fileUploaded.should.be.false();
    (expert instanceof _expertAdvisor2.default).should.be.true();
    _sinon2.default.assert.calledWithMatch(eaClient.getExpertAdvisor, 'id', 'ea');
  });

  /**
   * @test {MetatraderAccount#getExpertAdvisor}
   */
  it('should validate account version', async () => {
    sandbox.stub(client, 'getAccount').resolves({ _id: 'id', version: 5, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisors').resolves([{
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    }]);
    sandbox.stub(eaClient, 'getExpertAdvisor').resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    sandbox.stub(eaClient, 'updateExpertAdvisor').resolves();
    let newExpertAdvisor = {
      period: '1H',
      symbol: 'EURUSD',
      preset: 'preset'
    };
    const account = await api.getAccount('id');
    await (0, _should2.default)(account.getExpertAdvisors()).rejected();
    await (0, _should2.default)(account.getExpertAdvisor('ea')).rejected();
    await (0, _should2.default)(account.createExpertAdvisor('ea', newExpertAdvisor)).rejected();
  });

  /**
   * @test {MetatraderAccount#getExpertAdvisor}
   */
  it('should validate account type', async () => {
    sandbox.stub(client, 'getAccount').resolves({ _id: 'id', version: 4, type: 'cloud-g2' });
    sandbox.stub(eaClient, 'getExpertAdvisors').resolves([{
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    }]);
    sandbox.stub(eaClient, 'getExpertAdvisor').resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    sandbox.stub(eaClient, 'updateExpertAdvisor').resolves();
    let newExpertAdvisor = {
      period: '1H',
      symbol: 'EURUSD',
      preset: 'preset'
    };
    const account = await api.getAccount('id');
    await (0, _should2.default)(account.getExpertAdvisors()).rejected();
    await (0, _should2.default)(account.getExpertAdvisor('ea')).rejected();
    await (0, _should2.default)(account.createExpertAdvisor('ea', newExpertAdvisor)).rejected();
  });

  /**
   * @test {MetatraderAccount#createExpertAdvisor}
   */
  it('should create expert advisor', async () => {
    sandbox.stub(client, 'getAccount').resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'updateExpertAdvisor').resolves();
    sandbox.stub(eaClient, 'getExpertAdvisor').resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    let newExpertAdvisor = {
      period: '1H',
      symbol: 'EURUSD',
      preset: 'preset'
    };
    const account = await api.getAccount('id');
    const expert = await account.createExpertAdvisor('ea', newExpertAdvisor);
    expert.expertId.should.match('ea');
    expert.period.should.match('1H');
    expert.symbol.should.match('EURUSD');
    expert.fileUploaded.should.be.false();
    (expert instanceof _expertAdvisor2.default).should.be.true();
    _sinon2.default.assert.calledWith(eaClient.updateExpertAdvisor, 'id', 'ea', newExpertAdvisor);
    _sinon2.default.assert.calledWith(eaClient.getExpertAdvisor, 'id', 'ea');
  });

  /**
   * @test {ExpertAdvisor#reload}
   */
  it('should reload expert advisor', async () => {
    sandbox.stub(client, 'getAccount').resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisor').onFirstCall().resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    }).onSecondCall().resolves({
      expertId: 'ea',
      period: '4H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    const account = await api.getAccount('id');
    const expert = await account.getExpertAdvisor('ea');
    await expert.reload();
    expert.period.should.eql('4H');
    _sinon2.default.assert.calledWith(eaClient.getExpertAdvisor, 'id', 'ea');
    _sinon2.default.assert.calledTwice(eaClient.getExpertAdvisor);
  });

  /**
   * @test {ExpertAdvisor#update}
   */
  it('should update expert advisor', async () => {
    sandbox.stub(client, 'getAccount').resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisor').onFirstCall().resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    }).onSecondCall().resolves({
      expertId: 'ea',
      period: '4H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    let newExpertAdvisor = {
      period: '4H',
      symbol: 'EURUSD',
      preset: 'preset'
    };
    sandbox.stub(eaClient, 'updateExpertAdvisor').resolves();
    const account = await api.getAccount('id');
    const expert = await account.getExpertAdvisor('ea');
    await expert.update(newExpertAdvisor);
    expert.period.should.eql('4H');
    _sinon2.default.assert.calledWith(eaClient.updateExpertAdvisor, 'id', 'ea', newExpertAdvisor);
    _sinon2.default.assert.calledTwice(eaClient.getExpertAdvisor);
    _sinon2.default.assert.calledWith(eaClient.getExpertAdvisor, 'id', 'ea');
  });

  /**
   * @test {ExpertAdvisor#uploadFile}
   */
  it('should upload expert advisor file', async () => {
    sandbox.stub(client, 'getAccount').resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisor').onFirstCall().resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    }).onSecondCall().resolves({
      expertId: 'ea',
      period: '4H',
      symbol: 'EURUSD',
      fileUploaded: true
    });
    sandbox.stub(eaClient, 'uploadExpertAdvisorFile').resolves();
    const account = await api.getAccount('id');
    const expert = await account.getExpertAdvisor('ea');
    await expert.uploadFile('/path/to/file');
    expert.fileUploaded.should.be.true();
    _sinon2.default.assert.calledWith(eaClient.uploadExpertAdvisorFile, 'id', 'ea', '/path/to/file');
    _sinon2.default.assert.calledTwice(eaClient.getExpertAdvisor);
    _sinon2.default.assert.calledWith(eaClient.getExpertAdvisor, 'id', 'ea');
  });

  /**
   * @test {ExpertAdvisor#remove}
   */
  it('should remove expert advisor', async () => {
    sandbox.stub(client, 'getAccount').resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisor').resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    sandbox.stub(eaClient, 'deleteExpertAdvisor').resolves({ _id: 'id' });
    const account = await api.getAccount('id');
    const expert = await account.getExpertAdvisor('ea');
    await expert.remove();
    _sinon2.default.assert.calledWith(eaClient.deleteExpertAdvisor, 'id', 'ea');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tZXRhQXBpL21ldGF0cmFkZXJBY2NvdW50QXBpLnNwZWMuZXM2Il0sIm5hbWVzIjpbImRlc2NyaWJlIiwic2FuZGJveCIsImFwaSIsImNsaWVudCIsImdldEFjY291bnRzIiwiZ2V0QWNjb3VudCIsImdldEFjY291bnRCeVRva2VuIiwiY3JlYXRlQWNjb3VudCIsImRlbGV0ZUFjY291bnQiLCJkZXBsb3lBY2NvdW50IiwidW5kZXBsb3lBY2NvdW50IiwicmVkZXBsb3lBY2NvdW50IiwidXBkYXRlQWNjb3VudCIsImluY3JlYXNlUmVsaWFiaWxpdHkiLCJlYUNsaWVudCIsImdldEV4cGVydEFkdmlzb3JzIiwiZ2V0RXhwZXJ0QWR2aXNvciIsInVwZGF0ZUV4cGVydEFkdmlzb3IiLCJ1cGxvYWRFeHBlcnRBZHZpc29yRmlsZSIsImRlbGV0ZUV4cGVydEFkdmlzb3IiLCJtZXRhQXBpV2Vic29ja2V0Q2xpZW50IiwiYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIiLCJhZGRSZWNvbm5lY3RMaXN0ZW5lciIsInN1YnNjcmliZSIsImNvbm5lY3Rpb25SZWdpc3RyeSIsImNvbm5lY3QiLCJyZW1vdmUiLCJiZWZvcmUiLCJNZXRhdHJhZGVyQWNjb3VudEFwaSIsInNpbm9uIiwiY3JlYXRlU2FuZGJveCIsImFmdGVyRWFjaCIsInJlc3RvcmUiLCJpdCIsInN0dWIiLCJyZXNvbHZlcyIsIl9pZCIsImFjY291bnRzIiwicHJvdmlzaW9uaW5nUHJvZmlsZUlkIiwibWFwIiwiYSIsImlkIiwic2hvdWxkIiwibWF0Y2giLCJmb3JFYWNoIiwiTWV0YXRyYWRlckFjY291bnQiLCJiZSIsInRydWUiLCJhc3NlcnQiLCJjYWxsZWRXaXRoTWF0Y2giLCJsb2dpbiIsIm5hbWUiLCJzZXJ2ZXIiLCJtYWdpYyIsImFwcGxpY2F0aW9uIiwiY29ubmVjdGlvblN0YXR1cyIsInN0YXRlIiwidHlwZSIsImFjY2Vzc1Rva2VuIiwiYWNjb3VudCIsImVxdWFsIiwiY2FsbGVkV2l0aCIsIm5ld0FjY291bnREYXRhIiwicGFzc3dvcmQiLCJvbkZpcnN0Q2FsbCIsIm9uU2Vjb25kQ2FsbCIsInJlbG9hZCIsImNhbGxlZFR3aWNlIiwiSGlzdG9yeUZpbGVNYW5hZ2VyIiwicHJvdG90eXBlIiwicmV0dXJucyIsImNhbGxlZE9uY2UiLCJkZWxldGVTdG9yYWdlRnJvbURpc2siLCJkZXBsb3kiLCJ1bmRlcGxveSIsInJlZGVwbG95IiwicmVsaWFiaWxpdHkiLCJkZXBsb3lpbmdBY2NvdW50Iiwib25UaGlyZENhbGwiLCJ3YWl0RGVwbG95ZWQiLCJjYWxsZWRUaHJpY2UiLCJFcnJvciIsImVyciIsInVuZGVwbG95aW5nQWNjb3VudCIsIndhaXRVbmRlcGxveWVkIiwiZGVsZXRpbmdBY2NvdW50IiwidGhyb3dzIiwiTm90Rm91bmRFcnJvciIsIndhaXRSZW1vdmVkIiwiZGlzY29ubmVjdGVkQWNjb3VudCIsIndhaXRDb25uZWN0ZWQiLCJzdG9yYWdlIiwibGFzdEhpc3RvcnlPcmRlclRpbWUiLCJEYXRlIiwibGFzdERlYWxUaW1lIiwibG9hZERhdGFGcm9tRGlzayIsImRlYWxzIiwiaGlzdG9yeU9yZGVycyIsInNweSIsInVwZGF0ZSIsInZlcnNpb24iLCJleHBlcnRJZCIsImV4cGVydHMiLCJlIiwiRXhwZXJ0QWR2aXNvciIsInBlcmlvZCIsInN5bWJvbCIsImZpbGVVcGxvYWRlZCIsImV4cGVydCIsImZhbHNlIiwibmV3RXhwZXJ0QWR2aXNvciIsInByZXNldCIsInJlamVjdGVkIiwiY3JlYXRlRXhwZXJ0QWR2aXNvciIsImVxbCIsInVwbG9hZEZpbGUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUE7Ozs7QUFJQUEsU0FBUyxzQkFBVCxFQUFpQyxNQUFNOztBQUVyQyxNQUFJQyxPQUFKO0FBQ0EsTUFBSUMsR0FBSjtBQUNBLE1BQUlDLFNBQVM7QUFDWEMsaUJBQWEsTUFBTSxDQUFFLENBRFY7QUFFWEMsZ0JBQVksTUFBTSxDQUFFLENBRlQ7QUFHWEMsdUJBQW1CLE1BQU0sQ0FBRSxDQUhoQjtBQUlYQyxtQkFBZSxNQUFNLENBQUUsQ0FKWjtBQUtYQyxtQkFBZSxNQUFNLENBQUUsQ0FMWjtBQU1YQyxtQkFBZSxNQUFNLENBQUUsQ0FOWjtBQU9YQyxxQkFBaUIsTUFBTSxDQUFFLENBUGQ7QUFRWEMscUJBQWlCLE1BQU0sQ0FBRSxDQVJkO0FBU1hDLG1CQUFlLE1BQU0sQ0FBRSxDQVRaO0FBVVhDLHlCQUFxQixNQUFNLENBQUU7QUFWbEIsR0FBYjtBQVlBLE1BQUlDLFdBQVc7QUFDYkMsdUJBQW1CLE1BQU0sQ0FBRSxDQURkO0FBRWJDLHNCQUFrQixNQUFNLENBQUUsQ0FGYjtBQUdiQyx5QkFBcUIsTUFBTSxDQUFFLENBSGhCO0FBSWJDLDZCQUF5QixNQUFNLENBQUUsQ0FKcEI7QUFLYkMseUJBQXFCLE1BQU0sQ0FBRTtBQUxoQixHQUFmO0FBT0EsTUFBSUMseUJBQXlCO0FBQzNCQyxnQ0FBNEIsTUFBTSxDQUFFLENBRFQ7QUFFM0JDLDBCQUFzQixNQUFNLENBQUUsQ0FGSDtBQUczQkMsZUFBVyxNQUFNLENBQUU7QUFIUSxHQUE3QjtBQUtBLE1BQUlDLHFCQUFxQjtBQUN2QkMsYUFBUyxNQUFNLENBQUUsQ0FETTtBQUV2QkMsWUFBUSxNQUFNLENBQUU7QUFGTyxHQUF6Qjs7QUFLQUMsU0FBTyxNQUFNO0FBQ1h6QixVQUFNLElBQUkwQiw4QkFBSixDQUF5QnpCLE1BQXpCLEVBQWlDaUIsc0JBQWpDLEVBQXlESSxrQkFBekQsRUFBNkVWLFFBQTdFLENBQU47QUFDQWIsY0FBVTRCLGdCQUFNQyxhQUFOLEVBQVY7QUFDRCxHQUhEOztBQUtBQyxZQUFVLE1BQU07QUFDZDlCLFlBQVErQixPQUFSO0FBQ0QsR0FGRDs7QUFJQTs7O0FBR0FDLEtBQUcsNkJBQUgsRUFBa0MsWUFBWTtBQUM1Q2hDLFlBQVFpQyxJQUFSLENBQWEvQixNQUFiLEVBQXFCLGFBQXJCLEVBQW9DZ0MsUUFBcEMsQ0FBNkMsQ0FBQyxFQUFDQyxLQUFLLElBQU4sRUFBRCxDQUE3QztBQUNBLFFBQUlDLFdBQVcsTUFBTW5DLElBQUlFLFdBQUosQ0FBZ0IsRUFBQ2tDLHVCQUF1QixXQUF4QixFQUFoQixDQUFyQjtBQUNBRCxhQUFTRSxHQUFULENBQWFDLEtBQUtBLEVBQUVDLEVBQXBCLEVBQXdCQyxNQUF4QixDQUErQkMsS0FBL0IsQ0FBcUMsQ0FBQyxJQUFELENBQXJDO0FBQ0FOLGFBQVNPLE9BQVQsQ0FBaUJKLEtBQUssQ0FBQ0EsYUFBYUssMkJBQWQsRUFBaUNILE1BQWpDLENBQXdDSSxFQUF4QyxDQUEyQ0MsSUFBM0MsRUFBdEI7QUFDQWxCLG9CQUFNbUIsTUFBTixDQUFhQyxlQUFiLENBQTZCOUMsT0FBT0MsV0FBcEMsRUFBaUQsRUFBQ2tDLHVCQUF1QixXQUF4QixFQUFqRDtBQUNELEdBTkQ7O0FBUUE7OztBQUdBTCxLQUFHLGtDQUFILEVBQXVDLFlBQVk7QUFDakRoQyxZQUFRaUMsSUFBUixDQUFhL0IsTUFBYixFQUFxQixZQUFyQixFQUFtQ2dDLFFBQW5DLENBQTRDO0FBQzFDQyxXQUFLLElBRHFDO0FBRTFDYyxhQUFPLFVBRm1DO0FBRzFDQyxZQUFNLE1BSG9DO0FBSTFDQyxjQUFRLGtCQUprQztBQUsxQ2QsNkJBQXVCLHNDQUxtQjtBQU0xQ2UsYUFBTyxNQU5tQztBQU8xQ0MsbUJBQWEsU0FQNkI7QUFRMUNDLHdCQUFrQixjQVJ3QjtBQVMxQ0MsYUFBTyxVQVRtQztBQVUxQ0MsWUFBTSxPQVZvQztBQVcxQ0MsbUJBQWE7QUFYNkIsS0FBNUM7QUFhQSxRQUFJQyxVQUFVLE1BQU16RCxJQUFJRyxVQUFKLENBQWUsSUFBZixDQUFwQjtBQUNBc0QsWUFBUWxCLEVBQVIsQ0FBV0MsTUFBWCxDQUFrQmtCLEtBQWxCLENBQXdCLElBQXhCO0FBQ0FELFlBQVFULEtBQVIsQ0FBY1IsTUFBZCxDQUFxQmtCLEtBQXJCLENBQTJCLFVBQTNCO0FBQ0FELFlBQVFSLElBQVIsQ0FBYVQsTUFBYixDQUFvQmtCLEtBQXBCLENBQTBCLE1BQTFCO0FBQ0FELFlBQVFQLE1BQVIsQ0FBZVYsTUFBZixDQUFzQmtCLEtBQXRCLENBQTRCLGtCQUE1QjtBQUNBRCxZQUFRckIscUJBQVIsQ0FBOEJJLE1BQTlCLENBQXFDa0IsS0FBckMsQ0FBMkMsc0NBQTNDO0FBQ0FELFlBQVFOLEtBQVIsQ0FBY1gsTUFBZCxDQUFxQmtCLEtBQXJCLENBQTJCLE1BQTNCO0FBQ0FELFlBQVFMLFdBQVIsQ0FBb0JaLE1BQXBCLENBQTJCa0IsS0FBM0IsQ0FBaUMsU0FBakM7QUFDQUQsWUFBUUosZ0JBQVIsQ0FBeUJiLE1BQXpCLENBQWdDa0IsS0FBaEMsQ0FBc0MsY0FBdEM7QUFDQUQsWUFBUUgsS0FBUixDQUFjZCxNQUFkLENBQXFCa0IsS0FBckIsQ0FBMkIsVUFBM0I7QUFDQUQsWUFBUUYsSUFBUixDQUFhZixNQUFiLENBQW9Ca0IsS0FBcEIsQ0FBMEIsT0FBMUI7QUFDQUQsWUFBUUQsV0FBUixDQUFvQmhCLE1BQXBCLENBQTJCa0IsS0FBM0IsQ0FBaUMsMENBQWpDO0FBQ0EsS0FBQ0QsbUJBQW1CZCwyQkFBcEIsRUFBdUNILE1BQXZDLENBQThDSSxFQUE5QyxDQUFpREMsSUFBakQ7QUFDQWxCLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDRCxHQTVCRDs7QUE4QkE7OztBQUdBNEIsS0FBRyxxQ0FBSCxFQUEwQyxZQUFZO0FBQ3BEaEMsWUFBUWlDLElBQVIsQ0FBYS9CLE1BQWIsRUFBcUIsbUJBQXJCLEVBQTBDZ0MsUUFBMUMsQ0FBbUQ7QUFDakRDLFdBQUssSUFENEM7QUFFakRjLGFBQU8sVUFGMEM7QUFHakRDLFlBQU0sTUFIMkM7QUFJakRDLGNBQVEsa0JBSnlDO0FBS2pEZCw2QkFBdUIsc0NBTDBCO0FBTWpEZSxhQUFPLE1BTjBDO0FBT2pEQyxtQkFBYSxTQVBvQztBQVFqREMsd0JBQWtCLGNBUitCO0FBU2pEQyxhQUFPLFVBVDBDO0FBVWpEQyxZQUFNLE9BVjJDO0FBV2pEQyxtQkFBYTtBQVhvQyxLQUFuRDtBQWFBLFFBQUlDLFVBQVUsTUFBTXpELElBQUlJLGlCQUFKLEVBQXBCO0FBQ0FxRCxZQUFRbEIsRUFBUixDQUFXQyxNQUFYLENBQWtCa0IsS0FBbEIsQ0FBd0IsSUFBeEI7QUFDQUQsWUFBUVQsS0FBUixDQUFjUixNQUFkLENBQXFCa0IsS0FBckIsQ0FBMkIsVUFBM0I7QUFDQUQsWUFBUVIsSUFBUixDQUFhVCxNQUFiLENBQW9Ca0IsS0FBcEIsQ0FBMEIsTUFBMUI7QUFDQUQsWUFBUVAsTUFBUixDQUFlVixNQUFmLENBQXNCa0IsS0FBdEIsQ0FBNEIsa0JBQTVCO0FBQ0FELFlBQVFyQixxQkFBUixDQUE4QkksTUFBOUIsQ0FBcUNrQixLQUFyQyxDQUEyQyxzQ0FBM0M7QUFDQUQsWUFBUU4sS0FBUixDQUFjWCxNQUFkLENBQXFCa0IsS0FBckIsQ0FBMkIsTUFBM0I7QUFDQUQsWUFBUUwsV0FBUixDQUFvQlosTUFBcEIsQ0FBMkJrQixLQUEzQixDQUFpQyxTQUFqQztBQUNBRCxZQUFRSixnQkFBUixDQUF5QmIsTUFBekIsQ0FBZ0NrQixLQUFoQyxDQUFzQyxjQUF0QztBQUNBRCxZQUFRSCxLQUFSLENBQWNkLE1BQWQsQ0FBcUJrQixLQUFyQixDQUEyQixVQUEzQjtBQUNBRCxZQUFRRixJQUFSLENBQWFmLE1BQWIsQ0FBb0JrQixLQUFwQixDQUEwQixPQUExQjtBQUNBRCxZQUFRRCxXQUFSLENBQW9CaEIsTUFBcEIsQ0FBMkJrQixLQUEzQixDQUFpQywwQ0FBakM7QUFDQSxLQUFDRCxtQkFBbUJkLDJCQUFwQixFQUF1Q0gsTUFBdkMsQ0FBOENJLEVBQTlDLENBQWlEQyxJQUFqRDtBQUNBbEIsb0JBQU1tQixNQUFOLENBQWFhLFVBQWIsQ0FBd0IxRCxPQUFPRyxpQkFBL0I7QUFDRCxHQTVCRDs7QUE4QkE7OztBQUdBMkIsS0FBRywwQkFBSCxFQUErQixZQUFZO0FBQ3pDaEMsWUFBUWlDLElBQVIsQ0FBYS9CLE1BQWIsRUFBcUIsZUFBckIsRUFBc0NnQyxRQUF0QyxDQUErQyxFQUFDTSxJQUFJLElBQUwsRUFBL0M7QUFDQXhDLFlBQVFpQyxJQUFSLENBQWEvQixNQUFiLEVBQXFCLFlBQXJCLEVBQW1DZ0MsUUFBbkMsQ0FBNEM7QUFDMUNDLFdBQUssSUFEcUM7QUFFMUNjLGFBQU8sVUFGbUM7QUFHMUNDLFlBQU0sTUFIb0M7QUFJMUNDLGNBQVEsa0JBSmtDO0FBSzFDZCw2QkFBdUIsc0NBTG1CO0FBTTFDZSxhQUFPLE1BTm1DO0FBTzFDQyxtQkFBYSxTQVA2QjtBQVExQ0Msd0JBQWtCLGNBUndCO0FBUzFDQyxhQUFPLFVBVG1DO0FBVTFDQyxZQUFNLE9BVm9DO0FBVzFDQyxtQkFBYTtBQVg2QixLQUE1QztBQWFBLFFBQUlJLGlCQUFpQjtBQUNuQlosYUFBTyxVQURZO0FBRW5CYSxnQkFBVSxVQUZTO0FBR25CWixZQUFNLE1BSGE7QUFJbkJDLGNBQVEsa0JBSlc7QUFLbkJkLDZCQUF1QixzQ0FMSjtBQU1uQmUsYUFBTyxNQU5ZO0FBT25CQyxtQkFBYSxTQVBNO0FBUW5CRyxZQUFNLE9BUmE7QUFTbkJDLG1CQUFhO0FBVE0sS0FBckI7QUFXQSxRQUFJQyxVQUFVLE1BQU16RCxJQUFJSyxhQUFKLENBQWtCdUQsY0FBbEIsQ0FBcEI7QUFDQUgsWUFBUWxCLEVBQVIsQ0FBV0MsTUFBWCxDQUFrQmtCLEtBQWxCLENBQXdCLElBQXhCO0FBQ0FELFlBQVFULEtBQVIsQ0FBY1IsTUFBZCxDQUFxQmtCLEtBQXJCLENBQTJCLFVBQTNCO0FBQ0FELFlBQVFSLElBQVIsQ0FBYVQsTUFBYixDQUFvQmtCLEtBQXBCLENBQTBCLE1BQTFCO0FBQ0FELFlBQVFQLE1BQVIsQ0FBZVYsTUFBZixDQUFzQmtCLEtBQXRCLENBQTRCLGtCQUE1QjtBQUNBRCxZQUFRckIscUJBQVIsQ0FBOEJJLE1BQTlCLENBQXFDa0IsS0FBckMsQ0FBMkMsc0NBQTNDO0FBQ0FELFlBQVFOLEtBQVIsQ0FBY1gsTUFBZCxDQUFxQmtCLEtBQXJCLENBQTJCLE1BQTNCO0FBQ0FELFlBQVFMLFdBQVIsQ0FBb0JaLE1BQXBCLENBQTJCa0IsS0FBM0IsQ0FBaUMsU0FBakM7QUFDQUQsWUFBUUosZ0JBQVIsQ0FBeUJiLE1BQXpCLENBQWdDa0IsS0FBaEMsQ0FBc0MsY0FBdEM7QUFDQUQsWUFBUUgsS0FBUixDQUFjZCxNQUFkLENBQXFCa0IsS0FBckIsQ0FBMkIsVUFBM0I7QUFDQUQsWUFBUUYsSUFBUixDQUFhZixNQUFiLENBQW9Ca0IsS0FBcEIsQ0FBMEIsT0FBMUI7QUFDQUQsWUFBUUQsV0FBUixDQUFvQmhCLE1BQXBCLENBQTJCa0IsS0FBM0IsQ0FBaUMsMENBQWpDO0FBQ0EsS0FBQ0QsbUJBQW1CZCwyQkFBcEIsRUFBdUNILE1BQXZDLENBQThDSSxFQUE5QyxDQUFpREMsSUFBakQ7QUFDQWxCLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0ksYUFBL0IsRUFBOEN1RCxjQUE5QztBQUNBakMsb0JBQU1tQixNQUFOLENBQWFhLFVBQWIsQ0FBd0IxRCxPQUFPRSxVQUEvQixFQUEyQyxJQUEzQztBQUNELEdBekNEOztBQTJDQTs7O0FBR0E0QixLQUFHLDBCQUFILEVBQStCLFlBQVk7QUFDekNoQyxZQUFRaUMsSUFBUixDQUFhL0IsTUFBYixFQUFxQixZQUFyQixFQUNHNkQsV0FESCxHQUNpQjdCLFFBRGpCLENBQzBCO0FBQ3RCQyxXQUFLLElBRGlCO0FBRXRCYyxhQUFPLFVBRmU7QUFHdEJDLFlBQU0sTUFIZ0I7QUFJdEJDLGNBQVEsa0JBSmM7QUFLdEJkLDZCQUF1QixzQ0FMRDtBQU10QmUsYUFBTyxNQU5lO0FBT3RCQyxtQkFBYSxTQVBTO0FBUXRCQyx3QkFBa0IsY0FSSTtBQVN0QkMsYUFBTyxXQVRlO0FBVXRCQyxZQUFNO0FBVmdCLEtBRDFCLEVBYUdRLFlBYkgsR0Fha0I5QixRQWJsQixDQWEyQjtBQUN2QkMsV0FBSyxJQURrQjtBQUV2QmMsYUFBTyxVQUZnQjtBQUd2QkMsWUFBTSxNQUhpQjtBQUl2QkMsY0FBUSxrQkFKZTtBQUt2QmQsNkJBQXVCLHNDQUxBO0FBTXZCZSxhQUFPLE1BTmdCO0FBT3ZCQyxtQkFBYSxTQVBVO0FBUXZCQyx3QkFBa0IsV0FSSztBQVN2QkMsYUFBTyxVQVRnQjtBQVV2QkMsWUFBTTtBQVZpQixLQWIzQjtBQXlCQSxRQUFJRSxVQUFVLE1BQU16RCxJQUFJRyxVQUFKLENBQWUsSUFBZixDQUFwQjtBQUNBLFVBQU1zRCxRQUFRTyxNQUFSLEVBQU47QUFDQVAsWUFBUUosZ0JBQVIsQ0FBeUJiLE1BQXpCLENBQWdDa0IsS0FBaEMsQ0FBc0MsV0FBdEM7QUFDQUQsWUFBUUgsS0FBUixDQUFjZCxNQUFkLENBQXFCa0IsS0FBckIsQ0FBMkIsVUFBM0I7QUFDQS9CLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDQXdCLG9CQUFNbUIsTUFBTixDQUFhbUIsV0FBYixDQUF5QmhFLE9BQU9FLFVBQWhDO0FBQ0QsR0FoQ0Q7O0FBa0NBOzs7QUFHQTRCLEtBQUcsMEJBQUgsRUFBK0IsWUFBWTtBQUN6Q2hDLFlBQVFpQyxJQUFSLENBQWFWLGtCQUFiLEVBQWlDLFFBQWpDLEVBQTJDVyxRQUEzQztBQUNBbEMsWUFBUWlDLElBQVIsQ0FBYS9CLE1BQWIsRUFBcUIsWUFBckIsRUFDRzZELFdBREgsR0FDaUI3QixRQURqQixDQUMwQjtBQUN0QkMsV0FBSyxJQURpQjtBQUV0QmMsYUFBTyxVQUZlO0FBR3RCQyxZQUFNLE1BSGdCO0FBSXRCQyxjQUFRLGtCQUpjO0FBS3RCZCw2QkFBdUIsc0NBTEQ7QUFNdEJlLGFBQU8sTUFOZTtBQU90QkMsbUJBQWEsU0FQUztBQVF0QkMsd0JBQWtCLFdBUkk7QUFTdEJDLGFBQU8sVUFUZTtBQVV0QkMsWUFBTTtBQVZnQixLQUQxQixFQWFHUSxZQWJILEdBYWtCOUIsUUFibEIsQ0FhMkI7QUFDdkJDLFdBQUssSUFEa0I7QUFFdkJjLGFBQU8sVUFGZ0I7QUFHdkJDLFlBQU0sTUFIaUI7QUFJdkJDLGNBQVEsa0JBSmU7QUFLdkJkLDZCQUF1QixzQ0FMQTtBQU12QmUsYUFBTyxNQU5nQjtBQU92QkMsbUJBQWEsU0FQVTtBQVF2QkMsd0JBQWtCLFdBUks7QUFTdkJDLGFBQU8sVUFUZ0I7QUFVdkJDLFlBQU07QUFWaUIsS0FiM0I7QUF5QkF4RCxZQUFRaUMsSUFBUixDQUFhL0IsTUFBYixFQUFxQixlQUFyQixFQUFzQ2dDLFFBQXRDO0FBQ0FsQyxZQUFRaUMsSUFBUixDQUFha0MsZ0JBQW1CQyxTQUFoQyxFQUEyQyx1QkFBM0MsRUFBb0VDLE9BQXBFO0FBQ0EsUUFBSVgsVUFBVSxNQUFNekQsSUFBSUcsVUFBSixDQUFlLElBQWYsQ0FBcEI7QUFDQSxVQUFNc0QsUUFBUWpDLE1BQVIsRUFBTjtBQUNBRyxvQkFBTW1CLE1BQU4sQ0FBYWEsVUFBYixDQUF3QnJDLG1CQUFtQkUsTUFBM0MsRUFBbUQsSUFBbkQ7QUFDQUcsb0JBQU1tQixNQUFOLENBQWF1QixVQUFiLENBQXdCSCxnQkFBbUJDLFNBQW5CLENBQTZCRyxxQkFBckQ7QUFDQWIsWUFBUUgsS0FBUixDQUFjZCxNQUFkLENBQXFCa0IsS0FBckIsQ0FBMkIsVUFBM0I7QUFDQS9CLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0ssYUFBL0IsRUFBOEMsSUFBOUM7QUFDQXFCLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDQXdCLG9CQUFNbUIsTUFBTixDQUFhbUIsV0FBYixDQUF5QmhFLE9BQU9FLFVBQWhDO0FBQ0QsR0FyQ0Q7O0FBdUNBOzs7QUFHQTRCLEtBQUcsMEJBQUgsRUFBK0IsWUFBWTtBQUN6Q2hDLFlBQVFpQyxJQUFSLENBQWEvQixNQUFiLEVBQXFCLFlBQXJCLEVBQ0c2RCxXQURILEdBQ2lCN0IsUUFEakIsQ0FDMEI7QUFDdEJDLFdBQUssSUFEaUI7QUFFdEJjLGFBQU8sVUFGZTtBQUd0QkMsWUFBTSxNQUhnQjtBQUl0QkMsY0FBUSxrQkFKYztBQUt0QmQsNkJBQXVCLHNDQUxEO0FBTXRCZSxhQUFPLE1BTmU7QUFPdEJDLG1CQUFhLFNBUFM7QUFRdEJDLHdCQUFrQixjQVJJO0FBU3RCQyxhQUFPLFlBVGU7QUFVdEJDLFlBQU07QUFWZ0IsS0FEMUIsRUFhR1EsWUFiSCxHQWFrQjlCLFFBYmxCLENBYTJCO0FBQ3ZCQyxXQUFLLElBRGtCO0FBRXZCYyxhQUFPLFVBRmdCO0FBR3ZCQyxZQUFNLE1BSGlCO0FBSXZCQyxjQUFRLGtCQUplO0FBS3ZCZCw2QkFBdUIsc0NBTEE7QUFNdkJlLGFBQU8sTUFOZ0I7QUFPdkJDLG1CQUFhLFNBUFU7QUFRdkJDLHdCQUFrQixXQVJLO0FBU3ZCQyxhQUFPLFdBVGdCO0FBVXZCQyxZQUFNO0FBVmlCLEtBYjNCO0FBeUJBeEQsWUFBUWlDLElBQVIsQ0FBYS9CLE1BQWIsRUFBcUIsZUFBckIsRUFBc0NnQyxRQUF0QztBQUNBLFFBQUl3QixVQUFVLE1BQU16RCxJQUFJRyxVQUFKLENBQWUsSUFBZixDQUFwQjtBQUNBLFVBQU1zRCxRQUFRYyxNQUFSLEVBQU47QUFDQWQsWUFBUUgsS0FBUixDQUFjZCxNQUFkLENBQXFCa0IsS0FBckIsQ0FBMkIsV0FBM0I7QUFDQS9CLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT00sYUFBL0IsRUFBOEMsSUFBOUM7QUFDQW9CLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDQXdCLG9CQUFNbUIsTUFBTixDQUFhbUIsV0FBYixDQUF5QmhFLE9BQU9FLFVBQWhDO0FBQ0QsR0FqQ0Q7O0FBbUNBOzs7QUFHQTRCLEtBQUcsNEJBQUgsRUFBaUMsWUFBWTtBQUMzQ2hDLFlBQVFpQyxJQUFSLENBQWFWLGtCQUFiLEVBQWlDLFFBQWpDLEVBQTJDVyxRQUEzQztBQUNBbEMsWUFBUWlDLElBQVIsQ0FBYS9CLE1BQWIsRUFBcUIsWUFBckIsRUFDRzZELFdBREgsR0FDaUI3QixRQURqQixDQUMwQjtBQUN0QkMsV0FBSyxJQURpQjtBQUV0QmMsYUFBTyxVQUZlO0FBR3RCQyxZQUFNLE1BSGdCO0FBSXRCQyxjQUFRLGtCQUpjO0FBS3RCZCw2QkFBdUIsc0NBTEQ7QUFNdEJlLGFBQU8sTUFOZTtBQU90QkMsbUJBQWEsU0FQUztBQVF0QkMsd0JBQWtCLGNBUkk7QUFTdEJDLGFBQU8sVUFUZTtBQVV0QkMsWUFBTTtBQVZnQixLQUQxQixFQWFHUSxZQWJILEdBYWtCOUIsUUFibEIsQ0FhMkI7QUFDdkJDLFdBQUssSUFEa0I7QUFFdkJjLGFBQU8sVUFGZ0I7QUFHdkJDLFlBQU0sTUFIaUI7QUFJdkJDLGNBQVEsa0JBSmU7QUFLdkJkLDZCQUF1QixzQ0FMQTtBQU12QmUsYUFBTyxNQU5nQjtBQU92QkMsbUJBQWEsU0FQVTtBQVF2QkMsd0JBQWtCLFdBUks7QUFTdkJDLGFBQU8sYUFUZ0I7QUFVdkJDLFlBQU07QUFWaUIsS0FiM0I7QUF5QkF4RCxZQUFRaUMsSUFBUixDQUFhL0IsTUFBYixFQUFxQixpQkFBckIsRUFBd0NnQyxRQUF4QztBQUNBLFFBQUl3QixVQUFVLE1BQU16RCxJQUFJRyxVQUFKLENBQWUsSUFBZixDQUFwQjtBQUNBLFVBQU1zRCxRQUFRZSxRQUFSLEVBQU47QUFDQTdDLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCckMsbUJBQW1CRSxNQUEzQyxFQUFtRCxJQUFuRDtBQUNBaUMsWUFBUUgsS0FBUixDQUFjZCxNQUFkLENBQXFCa0IsS0FBckIsQ0FBMkIsYUFBM0I7QUFDQS9CLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT08sZUFBL0IsRUFBZ0QsSUFBaEQ7QUFDQW1CLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDQXdCLG9CQUFNbUIsTUFBTixDQUFhbUIsV0FBYixDQUF5QmhFLE9BQU9FLFVBQWhDO0FBQ0QsR0FuQ0Q7O0FBcUNBOzs7QUFHQTRCLEtBQUcsNEJBQUgsRUFBaUMsWUFBWTtBQUMzQ2hDLFlBQVFpQyxJQUFSLENBQWEvQixNQUFiLEVBQXFCLFlBQXJCLEVBQ0c2RCxXQURILEdBQ2lCN0IsUUFEakIsQ0FDMEI7QUFDdEJDLFdBQUssSUFEaUI7QUFFdEJjLGFBQU8sVUFGZTtBQUd0QkMsWUFBTSxNQUhnQjtBQUl0QkMsY0FBUSxrQkFKYztBQUt0QmQsNkJBQXVCLHNDQUxEO0FBTXRCZSxhQUFPLE1BTmU7QUFPdEJDLG1CQUFhLFNBUFM7QUFRdEJDLHdCQUFrQixjQVJJO0FBU3RCQyxhQUFPLFVBVGU7QUFVdEJDLFlBQU07QUFWZ0IsS0FEMUIsRUFhR1EsWUFiSCxHQWFrQjlCLFFBYmxCLENBYTJCO0FBQ3ZCQyxXQUFLLElBRGtCO0FBRXZCYyxhQUFPLFVBRmdCO0FBR3ZCQyxZQUFNLE1BSGlCO0FBSXZCQyxjQUFRLGtCQUplO0FBS3ZCZCw2QkFBdUIsc0NBTEE7QUFNdkJlLGFBQU8sTUFOZ0I7QUFPdkJDLG1CQUFhLFNBUFU7QUFRdkJDLHdCQUFrQixXQVJLO0FBU3ZCQyxhQUFPLGFBVGdCO0FBVXZCQyxZQUFNO0FBVmlCLEtBYjNCO0FBeUJBeEQsWUFBUWlDLElBQVIsQ0FBYS9CLE1BQWIsRUFBcUIsaUJBQXJCLEVBQXdDZ0MsUUFBeEM7QUFDQSxRQUFJd0IsVUFBVSxNQUFNekQsSUFBSUcsVUFBSixDQUFlLElBQWYsQ0FBcEI7QUFDQSxVQUFNc0QsUUFBUWdCLFFBQVIsRUFBTjtBQUNBaEIsWUFBUUgsS0FBUixDQUFjZCxNQUFkLENBQXFCa0IsS0FBckIsQ0FBMkIsYUFBM0I7QUFDQS9CLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT1EsZUFBL0IsRUFBZ0QsSUFBaEQ7QUFDQWtCLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDQXdCLG9CQUFNbUIsTUFBTixDQUFhbUIsV0FBYixDQUF5QmhFLE9BQU9FLFVBQWhDO0FBQ0QsR0FqQ0Q7O0FBbUNBOzs7QUFHQTRCLEtBQUcsd0NBQUgsRUFBNkMsWUFBWTtBQUN2RGhDLFlBQVFpQyxJQUFSLENBQWEvQixNQUFiLEVBQXFCLFlBQXJCLEVBQ0c2RCxXQURILEdBQ2lCN0IsUUFEakIsQ0FDMEI7QUFDdEJDLFdBQUssSUFEaUI7QUFFdEJjLGFBQU8sVUFGZTtBQUd0QkMsWUFBTSxNQUhnQjtBQUl0QkMsY0FBUSxrQkFKYztBQUt0QmQsNkJBQXVCLHNDQUxEO0FBTXRCZSxhQUFPLE1BTmU7QUFPdEJDLG1CQUFhLFNBUFM7QUFRdEJDLHdCQUFrQixjQVJJO0FBU3RCQyxhQUFPLFVBVGU7QUFVdEJDLFlBQU07QUFWZ0IsS0FEMUIsRUFhR1EsWUFiSCxHQWFrQjlCLFFBYmxCLENBYTJCO0FBQ3ZCQyxXQUFLLElBRGtCO0FBRXZCYyxhQUFPLFVBRmdCO0FBR3ZCQyxZQUFNLE1BSGlCO0FBSXZCQyxjQUFRLGtCQUplO0FBS3ZCZCw2QkFBdUIsc0NBTEE7QUFNdkJlLGFBQU8sTUFOZ0I7QUFPdkJDLG1CQUFhLFNBUFU7QUFRdkJDLHdCQUFrQixXQVJLO0FBU3ZCQyxhQUFPLGFBVGdCO0FBVXZCQyxZQUFNLE9BVmlCO0FBV3ZCbUIsbUJBQWE7QUFYVSxLQWIzQjtBQTBCQTNFLFlBQVFpQyxJQUFSLENBQWEvQixNQUFiLEVBQXFCLHFCQUFyQixFQUE0Q2dDLFFBQTVDO0FBQ0EsUUFBSXdCLFVBQVUsTUFBTXpELElBQUlHLFVBQUosQ0FBZSxJQUFmLENBQXBCO0FBQ0EsVUFBTXNELFFBQVE5QyxtQkFBUixFQUFOO0FBQ0E4QyxZQUFRaUIsV0FBUixDQUFvQmxDLE1BQXBCLENBQTJCa0IsS0FBM0IsQ0FBaUMsTUFBakM7QUFDQS9CLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT1UsbUJBQS9CLEVBQW9ELElBQXBEO0FBQ0FnQixvQkFBTW1CLE1BQU4sQ0FBYWEsVUFBYixDQUF3QjFELE9BQU9FLFVBQS9CLEVBQTJDLElBQTNDO0FBQ0F3QixvQkFBTW1CLE1BQU4sQ0FBYW1CLFdBQWIsQ0FBeUJoRSxPQUFPRSxVQUFoQztBQUNELEdBbENEOztBQW9DQUwsV0FBUyxnQ0FBVCxFQUEyQyxNQUFNOztBQUUvQzs7O0FBR0FpQyxPQUFHLDRCQUFILEVBQWlDLFlBQVk7QUFDM0MsVUFBSTRDLG1CQUFtQjtBQUNyQnpDLGFBQUssSUFEZ0I7QUFFckJjLGVBQU8sVUFGYztBQUdyQkMsY0FBTSxNQUhlO0FBSXJCQyxnQkFBUSxrQkFKYTtBQUtyQmQsK0JBQXVCLHNDQUxGO0FBTXJCZSxlQUFPLE1BTmM7QUFPckJDLHFCQUFhLFNBUFE7QUFRckJDLDBCQUFrQixjQVJHO0FBU3JCQyxlQUFPLFdBVGM7QUFVckJDLGNBQU07QUFWZSxPQUF2QjtBQVlBeEQsY0FBUWlDLElBQVIsQ0FBYS9CLE1BQWIsRUFBcUIsWUFBckIsRUFDRzZELFdBREgsR0FDaUI3QixRQURqQixDQUMwQjBDLGdCQUQxQixFQUVHWixZQUZILEdBRWtCOUIsUUFGbEIsQ0FFMkIwQyxnQkFGM0IsRUFHR0MsV0FISCxHQUdpQjNDLFFBSGpCLENBRzBCO0FBQ3RCQyxhQUFLLElBRGlCO0FBRXRCYyxlQUFPLFVBRmU7QUFHdEJDLGNBQU0sTUFIZ0I7QUFJdEJDLGdCQUFRLGtCQUpjO0FBS3RCZCwrQkFBdUIsc0NBTEQ7QUFNdEJlLGVBQU8sTUFOZTtBQU90QkMscUJBQWEsU0FQUztBQVF0QkMsMEJBQWtCLFdBUkk7QUFTdEJDLGVBQU8sVUFUZTtBQVV0QkMsY0FBTTtBQVZnQixPQUgxQjtBQWVBLFVBQUlFLFVBQVUsTUFBTXpELElBQUlHLFVBQUosQ0FBZSxJQUFmLENBQXBCO0FBQ0EsWUFBTXNELFFBQVFvQixZQUFSLENBQXFCLENBQXJCLEVBQXdCLEVBQXhCLENBQU47QUFDQXBCLGNBQVFILEtBQVIsQ0FBY2QsTUFBZCxDQUFxQmtCLEtBQXJCLENBQTJCLFVBQTNCO0FBQ0EvQixzQkFBTW1CLE1BQU4sQ0FBYWEsVUFBYixDQUF3QjFELE9BQU9FLFVBQS9CLEVBQTJDLElBQTNDO0FBQ0F3QixzQkFBTW1CLE1BQU4sQ0FBYWdDLFlBQWIsQ0FBMEI3RSxPQUFPRSxVQUFqQztBQUNELEtBakNEOztBQW1DQTs7O0FBR0E0QixPQUFHLHdDQUFILEVBQTZDLFlBQVk7QUFDdkQsVUFBSTRDLG1CQUFtQjtBQUNyQnpDLGFBQUssSUFEZ0I7QUFFckJjLGVBQU8sVUFGYztBQUdyQkMsY0FBTSxNQUhlO0FBSXJCQyxnQkFBUSxrQkFKYTtBQUtyQmQsK0JBQXVCLHNDQUxGO0FBTXJCZSxlQUFPLE1BTmM7QUFPckJDLHFCQUFhLFNBUFE7QUFRckJDLDBCQUFrQixjQVJHO0FBU3JCQyxlQUFPLFdBVGM7QUFVckJDLGNBQU07QUFWZSxPQUF2QjtBQVlBeEQsY0FBUWlDLElBQVIsQ0FBYS9CLE1BQWIsRUFBcUIsWUFBckIsRUFDR2dDLFFBREgsQ0FDWTBDLGdCQURaO0FBRUEsVUFBSWxCLFVBQVUsTUFBTXpELElBQUlHLFVBQUosQ0FBZSxJQUFmLENBQXBCO0FBQ0EsVUFBSTtBQUNGLGNBQU1zRCxRQUFRb0IsWUFBUixDQUFxQixDQUFyQixFQUF3QixFQUF4QixDQUFOO0FBQ0EsY0FBTSxJQUFJRSxLQUFKLENBQVUsMEJBQVYsQ0FBTjtBQUNELE9BSEQsQ0FHRSxPQUFPQyxHQUFQLEVBQVk7QUFDWkEsWUFBSS9CLElBQUosQ0FBU1QsTUFBVCxDQUFnQmtCLEtBQWhCLENBQXNCLGNBQXRCO0FBQ0FELGdCQUFRSCxLQUFSLENBQWNkLE1BQWQsQ0FBcUJrQixLQUFyQixDQUEyQixXQUEzQjtBQUNEO0FBQ0QvQixzQkFBTW1CLE1BQU4sQ0FBYWEsVUFBYixDQUF3QjFELE9BQU9FLFVBQS9CLEVBQTJDLElBQTNDO0FBQ0QsS0F4QkQ7QUEwQkQsR0FyRUQ7O0FBdUVBTCxXQUFTLGtDQUFULEVBQTZDLE1BQU07O0FBRWpEOzs7QUFHQWlDLE9BQUcsOEJBQUgsRUFBbUMsWUFBWTtBQUM3QyxVQUFJa0QscUJBQXFCO0FBQ3ZCL0MsYUFBSyxJQURrQjtBQUV2QmMsZUFBTyxVQUZnQjtBQUd2QkMsY0FBTSxNQUhpQjtBQUl2QkMsZ0JBQVEsa0JBSmU7QUFLdkJkLCtCQUF1QixzQ0FMQTtBQU12QmUsZUFBTyxNQU5nQjtBQU92QkMscUJBQWEsU0FQVTtBQVF2QkMsMEJBQWtCLGNBUks7QUFTdkJDLGVBQU8sYUFUZ0I7QUFVdkJDLGNBQU07QUFWaUIsT0FBekI7QUFZQXhELGNBQVFpQyxJQUFSLENBQWEvQixNQUFiLEVBQXFCLFlBQXJCLEVBQ0c2RCxXQURILEdBQ2lCN0IsUUFEakIsQ0FDMEJnRCxrQkFEMUIsRUFFR2xCLFlBRkgsR0FFa0I5QixRQUZsQixDQUUyQmdELGtCQUYzQixFQUdHTCxXQUhILEdBR2lCM0MsUUFIakIsQ0FHMEI7QUFDdEJDLGFBQUssSUFEaUI7QUFFdEJjLGVBQU8sVUFGZTtBQUd0QkMsY0FBTSxNQUhnQjtBQUl0QkMsZ0JBQVEsa0JBSmM7QUFLdEJkLCtCQUF1QixzQ0FMRDtBQU10QmUsZUFBTyxNQU5lO0FBT3RCQyxxQkFBYSxTQVBTO0FBUXRCQywwQkFBa0IsV0FSSTtBQVN0QkMsZUFBTyxZQVRlO0FBVXRCQyxjQUFNO0FBVmdCLE9BSDFCO0FBZUEsVUFBSUUsVUFBVSxNQUFNekQsSUFBSUcsVUFBSixDQUFlLElBQWYsQ0FBcEI7QUFDQSxZQUFNc0QsUUFBUXlCLGNBQVIsQ0FBdUIsQ0FBdkIsRUFBMEIsRUFBMUIsQ0FBTjtBQUNBekIsY0FBUUgsS0FBUixDQUFjZCxNQUFkLENBQXFCa0IsS0FBckIsQ0FBMkIsWUFBM0I7QUFDQS9CLHNCQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDQXdCLHNCQUFNbUIsTUFBTixDQUFhZ0MsWUFBYixDQUEwQjdFLE9BQU9FLFVBQWpDO0FBQ0QsS0FqQ0Q7O0FBbUNBOzs7QUFHQTRCLE9BQUcsMENBQUgsRUFBK0MsWUFBWTtBQUN6RCxVQUFJa0QscUJBQXFCO0FBQ3ZCL0MsYUFBSyxJQURrQjtBQUV2QmMsZUFBTyxVQUZnQjtBQUd2QkMsY0FBTSxNQUhpQjtBQUl2QkMsZ0JBQVEsa0JBSmU7QUFLdkJkLCtCQUF1QixzQ0FMQTtBQU12QmUsZUFBTyxNQU5nQjtBQU92QkMscUJBQWEsU0FQVTtBQVF2QkMsMEJBQWtCLGNBUks7QUFTdkJDLGVBQU8sYUFUZ0I7QUFVdkJDLGNBQU07QUFWaUIsT0FBekI7QUFZQXhELGNBQVFpQyxJQUFSLENBQWEvQixNQUFiLEVBQXFCLFlBQXJCLEVBQ0dnQyxRQURILENBQ1lnRCxrQkFEWjtBQUVBLFVBQUl4QixVQUFVLE1BQU16RCxJQUFJRyxVQUFKLENBQWUsSUFBZixDQUFwQjtBQUNBLFVBQUk7QUFDRixjQUFNc0QsUUFBUXlCLGNBQVIsQ0FBdUIsQ0FBdkIsRUFBMEIsRUFBMUIsQ0FBTjtBQUNBLGNBQU0sSUFBSUgsS0FBSixDQUFVLDBCQUFWLENBQU47QUFDRCxPQUhELENBR0UsT0FBT0MsR0FBUCxFQUFZO0FBQ1pBLFlBQUkvQixJQUFKLENBQVNULE1BQVQsQ0FBZ0JrQixLQUFoQixDQUFzQixjQUF0QjtBQUNBRCxnQkFBUUgsS0FBUixDQUFjZCxNQUFkLENBQXFCa0IsS0FBckIsQ0FBMkIsYUFBM0I7QUFDRDtBQUNEL0Isc0JBQU1tQixNQUFOLENBQWFhLFVBQWIsQ0FBd0IxRCxPQUFPRSxVQUEvQixFQUEyQyxJQUEzQztBQUNELEtBeEJEO0FBMEJELEdBckVEOztBQXVFQUwsV0FBUywrQkFBVCxFQUEwQyxNQUFNOztBQUU5Qzs7O0FBR0FpQyxPQUFHLDJCQUFILEVBQWdDLFlBQVk7QUFDMUMsVUFBSW9ELGtCQUFrQjtBQUNwQmpELGFBQUssSUFEZTtBQUVwQmMsZUFBTyxVQUZhO0FBR3BCQyxjQUFNLE1BSGM7QUFJcEJDLGdCQUFRLGtCQUpZO0FBS3BCZCwrQkFBdUIsc0NBTEg7QUFNcEJlLGVBQU8sTUFOYTtBQU9wQkMscUJBQWEsU0FQTztBQVFwQkMsMEJBQWtCLGNBUkU7QUFTcEJDLGVBQU8sVUFUYTtBQVVwQkMsY0FBTTtBQVZjLE9BQXRCO0FBWUF4RCxjQUFRaUMsSUFBUixDQUFhL0IsTUFBYixFQUFxQixZQUFyQixFQUNHNkQsV0FESCxHQUNpQjdCLFFBRGpCLENBQzBCa0QsZUFEMUIsRUFFR3BCLFlBRkgsR0FFa0I5QixRQUZsQixDQUUyQmtELGVBRjNCLEVBR0dQLFdBSEgsR0FHaUJRLE1BSGpCLENBR3dCLElBQUlDLDJCQUFKLEVBSHhCO0FBSUEsVUFBSTVCLFVBQVUsTUFBTXpELElBQUlHLFVBQUosQ0FBZSxJQUFmLENBQXBCO0FBQ0EsWUFBTXNELFFBQVE2QixXQUFSLENBQW9CLENBQXBCLEVBQXVCLEVBQXZCLENBQU47QUFDQTNELHNCQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDQXdCLHNCQUFNbUIsTUFBTixDQUFhZ0MsWUFBYixDQUEwQjdFLE9BQU9FLFVBQWpDO0FBQ0QsS0FyQkQ7O0FBdUJBOzs7QUFHQTRCLE9BQUcsdUNBQUgsRUFBNEMsWUFBWTtBQUN0RCxVQUFJb0Qsa0JBQWtCO0FBQ3BCakQsYUFBSyxJQURlO0FBRXBCYyxlQUFPLFVBRmE7QUFHcEJDLGNBQU0sTUFIYztBQUlwQkMsZ0JBQVEsa0JBSlk7QUFLcEJkLCtCQUF1QixzQ0FMSDtBQU1wQmUsZUFBTyxNQU5hO0FBT3BCQyxxQkFBYSxTQVBPO0FBUXBCQywwQkFBa0IsY0FSRTtBQVNwQkMsZUFBTyxVQVRhO0FBVXBCQyxjQUFNO0FBVmMsT0FBdEI7QUFZQXhELGNBQVFpQyxJQUFSLENBQWEvQixNQUFiLEVBQXFCLFlBQXJCLEVBQ0dnQyxRQURILENBQ1lrRCxlQURaO0FBRUEsVUFBSTFCLFVBQVUsTUFBTXpELElBQUlHLFVBQUosQ0FBZSxJQUFmLENBQXBCO0FBQ0EsVUFBSTtBQUNGLGNBQU1zRCxRQUFRNkIsV0FBUixDQUFvQixDQUFwQixFQUF1QixFQUF2QixDQUFOO0FBQ0EsY0FBTSxJQUFJUCxLQUFKLENBQVUsMEJBQVYsQ0FBTjtBQUNELE9BSEQsQ0FHRSxPQUFPQyxHQUFQLEVBQVk7QUFDWkEsWUFBSS9CLElBQUosQ0FBU1QsTUFBVCxDQUFnQmtCLEtBQWhCLENBQXNCLGNBQXRCO0FBQ0Q7QUFDRC9CLHNCQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDRCxLQXZCRDtBQXlCRCxHQXhERDs7QUEwREFMLFdBQVMsaUNBQVQsRUFBNEMsTUFBTTs7QUFFaEQ7OztBQUdBaUMsT0FBRyxxQ0FBSCxFQUEwQyxZQUFZO0FBQ3BELFVBQUl3RCxzQkFBc0I7QUFDeEJyRCxhQUFLLElBRG1CO0FBRXhCYyxlQUFPLFVBRmlCO0FBR3hCQyxjQUFNLE1BSGtCO0FBSXhCQyxnQkFBUSxrQkFKZ0I7QUFLeEJkLCtCQUF1QixzQ0FMQztBQU14QmUsZUFBTyxNQU5pQjtBQU94QkMscUJBQWEsU0FQVztBQVF4QkMsMEJBQWtCLGNBUk07QUFTeEJDLGVBQU8sVUFUaUI7QUFVeEJDLGNBQU07QUFWa0IsT0FBMUI7QUFZQXhELGNBQVFpQyxJQUFSLENBQWEvQixNQUFiLEVBQXFCLFlBQXJCLEVBQ0c2RCxXQURILEdBQ2lCN0IsUUFEakIsQ0FDMEJzRCxtQkFEMUIsRUFFR3hCLFlBRkgsR0FFa0I5QixRQUZsQixDQUUyQnNELG1CQUYzQixFQUdHWCxXQUhILEdBR2lCM0MsUUFIakIsQ0FHMEI7QUFDdEJDLGFBQUssSUFEaUI7QUFFdEJjLGVBQU8sVUFGZTtBQUd0QkMsY0FBTSxNQUhnQjtBQUl0QkMsZ0JBQVEsa0JBSmM7QUFLdEJkLCtCQUF1QixzQ0FMRDtBQU10QmUsZUFBTyxNQU5lO0FBT3RCQyxxQkFBYSxTQVBTO0FBUXRCQywwQkFBa0IsV0FSSTtBQVN0QkMsZUFBTyxVQVRlO0FBVXRCQyxjQUFNO0FBVmdCLE9BSDFCO0FBZUEsVUFBSUUsVUFBVSxNQUFNekQsSUFBSUcsVUFBSixDQUFlLElBQWYsQ0FBcEI7QUFDQSxZQUFNc0QsUUFBUStCLGFBQVIsQ0FBc0IsQ0FBdEIsRUFBeUIsRUFBekIsQ0FBTjtBQUNBL0IsY0FBUUosZ0JBQVIsQ0FBeUJiLE1BQXpCLENBQWdDa0IsS0FBaEMsQ0FBc0MsV0FBdEM7QUFDQS9CLHNCQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDQXdCLHNCQUFNbUIsTUFBTixDQUFhZ0MsWUFBYixDQUEwQjdFLE9BQU9FLFVBQWpDO0FBQ0QsS0FqQ0Q7O0FBbUNBOzs7QUFHQTRCLE9BQUcsK0NBQUgsRUFBb0QsWUFBWTtBQUM5RCxVQUFJd0Qsc0JBQXNCO0FBQ3hCckQsYUFBSyxJQURtQjtBQUV4QmMsZUFBTyxVQUZpQjtBQUd4QkMsY0FBTSxNQUhrQjtBQUl4QkMsZ0JBQVEsa0JBSmdCO0FBS3hCZCwrQkFBdUIsc0NBTEM7QUFNeEJlLGVBQU8sTUFOaUI7QUFPeEJDLHFCQUFhLFNBUFc7QUFReEJDLDBCQUFrQixjQVJNO0FBU3hCQyxlQUFPLFVBVGlCO0FBVXhCQyxjQUFNO0FBVmtCLE9BQTFCO0FBWUF4RCxjQUFRaUMsSUFBUixDQUFhL0IsTUFBYixFQUFxQixZQUFyQixFQUNHZ0MsUUFESCxDQUNZc0QsbUJBRFo7QUFFQSxVQUFJOUIsVUFBVSxNQUFNekQsSUFBSUcsVUFBSixDQUFlLElBQWYsQ0FBcEI7QUFDQSxVQUFJO0FBQ0YsY0FBTXNELFFBQVErQixhQUFSLENBQXNCLENBQXRCLEVBQXlCLEVBQXpCLENBQU47QUFDQSxjQUFNLElBQUlULEtBQUosQ0FBVSwwQkFBVixDQUFOO0FBQ0QsT0FIRCxDQUdFLE9BQU9DLEdBQVAsRUFBWTtBQUNaQSxZQUFJL0IsSUFBSixDQUFTVCxNQUFULENBQWdCa0IsS0FBaEIsQ0FBc0IsY0FBdEI7QUFDQUQsZ0JBQVFKLGdCQUFSLENBQXlCYixNQUF6QixDQUFnQ2tCLEtBQWhDLENBQXNDLGNBQXRDO0FBQ0Q7QUFDRC9CLHNCQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDRCxLQXhCRDtBQTBCRCxHQXJFRDs7QUF1RUE7OztBQUdBNEIsS0FBRyxrQ0FBSCxFQUF1QyxZQUFZO0FBQ2pEaEMsWUFBUWlDLElBQVIsQ0FBYWQsc0JBQWIsRUFBcUMsNEJBQXJDLEVBQW1Fa0QsT0FBbkU7QUFDQXJFLFlBQVFpQyxJQUFSLENBQWFkLHNCQUFiLEVBQXFDLFdBQXJDLEVBQWtEZSxRQUFsRDtBQUNBbEMsWUFBUWlDLElBQVIsQ0FBYS9CLE1BQWIsRUFBcUIsWUFBckIsRUFBbUNnQyxRQUFuQyxDQUE0QyxFQUFDQyxLQUFLLElBQU4sRUFBNUM7QUFDQSxRQUFJdUIsVUFBVSxNQUFNekQsSUFBSUcsVUFBSixFQUFwQjtBQUNBLFFBQUlzRixVQUFVO0FBQ1pDLDRCQUFzQixNQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQURoQjtBQUVaQyxvQkFBYyxNQUFNLElBQUlELElBQUosQ0FBUywwQkFBVCxDQUZSO0FBR1pFLHdCQUFrQixPQUFPLEVBQUNDLE9BQU8sRUFBUixFQUFZQyxlQUFlLEVBQTNCLEVBQVA7QUFITixLQUFkO0FBS0FoRyxZQUFRaUcsR0FBUixDQUFZMUUsa0JBQVosRUFBZ0MsU0FBaEM7QUFDQSxVQUFNbUMsUUFBUWxDLE9BQVIsQ0FBZ0JrRSxPQUFoQixDQUFOO0FBQ0E5RCxvQkFBTW1CLE1BQU4sQ0FBYWEsVUFBYixDQUF3QnJDLG1CQUFtQkMsT0FBM0MsRUFBb0RrQyxPQUFwRCxFQUE2RGdDLE9BQTdEO0FBQ0QsR0FiRDs7QUFlQTs7O0FBR0ExRCxLQUFHLDBCQUFILEVBQStCLFlBQVk7QUFDekNoQyxZQUFRaUMsSUFBUixDQUFhL0IsTUFBYixFQUFxQixZQUFyQixFQUNHNkQsV0FESCxHQUVHN0IsUUFGSCxDQUVZO0FBQ1JDLFdBQUssSUFERztBQUVSYyxhQUFPLFVBRkM7QUFHUkMsWUFBTSxNQUhFO0FBSVJDLGNBQVEsa0JBSkE7QUFLUmQsNkJBQXVCLHNDQUxmO0FBTVJlLGFBQU8sTUFOQztBQU9SQyxtQkFBYSxTQVBMO0FBUVJDLHdCQUFrQixXQVJWO0FBU1JDLGFBQU8sVUFUQztBQVVSQyxZQUFNO0FBVkUsS0FGWixFQWNHUSxZQWRILEdBZUc5QixRQWZILENBZVk7QUFDUkMsV0FBSyxJQURHO0FBRVJjLGFBQU8sVUFGQztBQUdSQyxZQUFNLFFBSEU7QUFJUkMsY0FBUSxtQkFKQTtBQUtSZCw2QkFBdUIsc0NBTGY7QUFNUmUsYUFBTyxNQU5DO0FBT1JDLG1CQUFhLFNBUEw7QUFRUkMsd0JBQWtCLFdBUlY7QUFTUkMsYUFBTyxVQVRDO0FBVVJDLFlBQU07QUFWRSxLQWZaO0FBMkJBeEQsWUFBUWlDLElBQVIsQ0FBYS9CLE1BQWIsRUFBcUIsZUFBckIsRUFBc0NnQyxRQUF0QztBQUNBLFFBQUl3QixVQUFVLE1BQU16RCxJQUFJRyxVQUFKLENBQWUsSUFBZixDQUFwQjtBQUNBLFVBQU1zRCxRQUFRd0MsTUFBUixDQUFlO0FBQ25CaEQsWUFBTSxRQURhO0FBRW5CWSxnQkFBVSxnQkFGUztBQUduQlgsY0FBUTtBQUhXLEtBQWYsQ0FBTjtBQUtBTyxZQUFRUixJQUFSLENBQWFULE1BQWIsQ0FBb0JrQixLQUFwQixDQUEwQixRQUExQjtBQUNBRCxZQUFRUCxNQUFSLENBQWVWLE1BQWYsQ0FBc0JrQixLQUF0QixDQUE0QixtQkFBNUI7QUFDQS9CLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT1MsYUFBL0IsRUFBOEMsSUFBOUMsRUFBb0Q7QUFDbER1QyxZQUFNLFFBRDRDO0FBRWxEWSxnQkFBVSxnQkFGd0M7QUFHbERYLGNBQVE7QUFIMEMsS0FBcEQ7QUFLQXZCLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCMUQsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDQXdCLG9CQUFNbUIsTUFBTixDQUFhbUIsV0FBYixDQUF5QmhFLE9BQU9FLFVBQWhDO0FBQ0QsR0E1Q0Q7O0FBOENBOzs7QUFHQTRCLEtBQUcsaUNBQUgsRUFBc0MsWUFBWTtBQUNoRGhDLFlBQVFpQyxJQUFSLENBQWEvQixNQUFiLEVBQXFCLFlBQXJCLEVBQW1DZ0MsUUFBbkMsQ0FBNEMsRUFBQ0MsS0FBSyxJQUFOLEVBQVlnRSxTQUFTLENBQXJCLEVBQXdCM0MsTUFBTSxVQUE5QixFQUE1QztBQUNBeEQsWUFBUWlDLElBQVIsQ0FBYXBCLFFBQWIsRUFBdUIsbUJBQXZCLEVBQTRDcUIsUUFBNUMsQ0FBcUQsQ0FBQyxFQUFDa0UsVUFBVSxJQUFYLEVBQUQsQ0FBckQ7QUFDQSxVQUFNMUMsVUFBVSxNQUFNekQsSUFBSUcsVUFBSixFQUF0QjtBQUNBLFVBQU1pRyxVQUFVLE1BQU0zQyxRQUFRNUMsaUJBQVIsRUFBdEI7QUFDQXVGLFlBQVEvRCxHQUFSLENBQVlnRSxLQUFLQSxFQUFFRixRQUFuQixFQUE2QjNELE1BQTdCLENBQW9DQyxLQUFwQyxDQUEwQyxDQUFDLElBQUQsQ0FBMUM7QUFDQTJELFlBQVExRCxPQUFSLENBQWdCMkQsS0FBSyxDQUFDQSxhQUFhQyx1QkFBZCxFQUE2QjlELE1BQTdCLENBQW9DSSxFQUFwQyxDQUF1Q0MsSUFBdkMsRUFBckI7QUFDQWxCLG9CQUFNbUIsTUFBTixDQUFhQyxlQUFiLENBQTZCbkMsU0FBU0MsaUJBQXRDLEVBQXlELElBQXpEO0FBQ0QsR0FSRDs7QUFVQTs7O0FBR0FrQixLQUFHLDZDQUFILEVBQWtELFlBQVk7QUFDNURoQyxZQUFRaUMsSUFBUixDQUFhL0IsTUFBYixFQUFxQixZQUFyQixFQUFtQ2dDLFFBQW5DLENBQTRDLEVBQUNDLEtBQUssSUFBTixFQUFZZ0UsU0FBUyxDQUFyQixFQUF3QjNDLE1BQU0sVUFBOUIsRUFBNUM7QUFDQXhELFlBQVFpQyxJQUFSLENBQWFwQixRQUFiLEVBQXVCLGtCQUF2QixFQUEyQ3FCLFFBQTNDLENBQW9EO0FBQ2xEa0UsZ0JBQVUsSUFEd0M7QUFFbERJLGNBQVEsSUFGMEM7QUFHbERDLGNBQVEsUUFIMEM7QUFJbERDLG9CQUFjO0FBSm9DLEtBQXBEO0FBTUEsVUFBTWhELFVBQVUsTUFBTXpELElBQUlHLFVBQUosQ0FBZSxJQUFmLENBQXRCO0FBQ0EsVUFBTXVHLFNBQVMsTUFBTWpELFFBQVEzQyxnQkFBUixDQUF5QixJQUF6QixDQUFyQjtBQUNBNEYsV0FBT1AsUUFBUCxDQUFnQjNELE1BQWhCLENBQXVCQyxLQUF2QixDQUE2QixJQUE3QjtBQUNBaUUsV0FBT0gsTUFBUCxDQUFjL0QsTUFBZCxDQUFxQkMsS0FBckIsQ0FBMkIsSUFBM0I7QUFDQWlFLFdBQU9GLE1BQVAsQ0FBY2hFLE1BQWQsQ0FBcUJDLEtBQXJCLENBQTJCLFFBQTNCO0FBQ0FpRSxXQUFPRCxZQUFQLENBQW9CakUsTUFBcEIsQ0FBMkJJLEVBQTNCLENBQThCK0QsS0FBOUI7QUFDQSxLQUFDRCxrQkFBa0JKLHVCQUFuQixFQUFrQzlELE1BQWxDLENBQXlDSSxFQUF6QyxDQUE0Q0MsSUFBNUM7QUFDQWxCLG9CQUFNbUIsTUFBTixDQUFhQyxlQUFiLENBQTZCbkMsU0FBU0UsZ0JBQXRDLEVBQXdELElBQXhELEVBQThELElBQTlEO0FBQ0QsR0FoQkQ7O0FBa0JBOzs7QUFHQWlCLEtBQUcsaUNBQUgsRUFBc0MsWUFBWTtBQUNoRGhDLFlBQVFpQyxJQUFSLENBQWEvQixNQUFiLEVBQXFCLFlBQXJCLEVBQW1DZ0MsUUFBbkMsQ0FBNEMsRUFBQ0MsS0FBSyxJQUFOLEVBQVlnRSxTQUFTLENBQXJCLEVBQXdCM0MsTUFBTSxVQUE5QixFQUE1QztBQUNBeEQsWUFBUWlDLElBQVIsQ0FBYXBCLFFBQWIsRUFBdUIsbUJBQXZCLEVBQTRDcUIsUUFBNUMsQ0FBcUQsQ0FBQztBQUNwRGtFLGdCQUFVLElBRDBDO0FBRXBESSxjQUFRLElBRjRDO0FBR3BEQyxjQUFRLFFBSDRDO0FBSXBEQyxvQkFBYztBQUpzQyxLQUFELENBQXJEO0FBTUExRyxZQUFRaUMsSUFBUixDQUFhcEIsUUFBYixFQUF1QixrQkFBdkIsRUFBMkNxQixRQUEzQyxDQUFvRDtBQUNsRGtFLGdCQUFVLElBRHdDO0FBRWxESSxjQUFRLElBRjBDO0FBR2xEQyxjQUFRLFFBSDBDO0FBSWxEQyxvQkFBYztBQUpvQyxLQUFwRDtBQU1BMUcsWUFBUWlDLElBQVIsQ0FBYXBCLFFBQWIsRUFBdUIscUJBQXZCLEVBQThDcUIsUUFBOUM7QUFDQSxRQUFJMkUsbUJBQW1CO0FBQ3JCTCxjQUFRLElBRGE7QUFFckJDLGNBQVEsUUFGYTtBQUdyQkssY0FBUTtBQUhhLEtBQXZCO0FBS0EsVUFBTXBELFVBQVUsTUFBTXpELElBQUlHLFVBQUosQ0FBZSxJQUFmLENBQXRCO0FBQ0EsVUFBTSxzQkFBT3NELFFBQVE1QyxpQkFBUixFQUFQLEVBQW9DaUcsUUFBcEMsRUFBTjtBQUNBLFVBQU0sc0JBQU9yRCxRQUFRM0MsZ0JBQVIsQ0FBeUIsSUFBekIsQ0FBUCxFQUF1Q2dHLFFBQXZDLEVBQU47QUFDQSxVQUFNLHNCQUFPckQsUUFBUXNELG1CQUFSLENBQTRCLElBQTVCLEVBQWtDSCxnQkFBbEMsQ0FBUCxFQUE0REUsUUFBNUQsRUFBTjtBQUNELEdBeEJEOztBQTBCQTs7O0FBR0EvRSxLQUFHLDhCQUFILEVBQW1DLFlBQVk7QUFDN0NoQyxZQUFRaUMsSUFBUixDQUFhL0IsTUFBYixFQUFxQixZQUFyQixFQUFtQ2dDLFFBQW5DLENBQTRDLEVBQUNDLEtBQUssSUFBTixFQUFZZ0UsU0FBUyxDQUFyQixFQUF3QjNDLE1BQU0sVUFBOUIsRUFBNUM7QUFDQXhELFlBQVFpQyxJQUFSLENBQWFwQixRQUFiLEVBQXVCLG1CQUF2QixFQUE0Q3FCLFFBQTVDLENBQXFELENBQUM7QUFDcERrRSxnQkFBVSxJQUQwQztBQUVwREksY0FBUSxJQUY0QztBQUdwREMsY0FBUSxRQUg0QztBQUlwREMsb0JBQWM7QUFKc0MsS0FBRCxDQUFyRDtBQU1BMUcsWUFBUWlDLElBQVIsQ0FBYXBCLFFBQWIsRUFBdUIsa0JBQXZCLEVBQTJDcUIsUUFBM0MsQ0FBb0Q7QUFDbERrRSxnQkFBVSxJQUR3QztBQUVsREksY0FBUSxJQUYwQztBQUdsREMsY0FBUSxRQUgwQztBQUlsREMsb0JBQWM7QUFKb0MsS0FBcEQ7QUFNQTFHLFlBQVFpQyxJQUFSLENBQWFwQixRQUFiLEVBQXVCLHFCQUF2QixFQUE4Q3FCLFFBQTlDO0FBQ0EsUUFBSTJFLG1CQUFtQjtBQUNyQkwsY0FBUSxJQURhO0FBRXJCQyxjQUFRLFFBRmE7QUFHckJLLGNBQVE7QUFIYSxLQUF2QjtBQUtBLFVBQU1wRCxVQUFVLE1BQU16RCxJQUFJRyxVQUFKLENBQWUsSUFBZixDQUF0QjtBQUNBLFVBQU0sc0JBQU9zRCxRQUFRNUMsaUJBQVIsRUFBUCxFQUFvQ2lHLFFBQXBDLEVBQU47QUFDQSxVQUFNLHNCQUFPckQsUUFBUTNDLGdCQUFSLENBQXlCLElBQXpCLENBQVAsRUFBdUNnRyxRQUF2QyxFQUFOO0FBQ0EsVUFBTSxzQkFBT3JELFFBQVFzRCxtQkFBUixDQUE0QixJQUE1QixFQUFrQ0gsZ0JBQWxDLENBQVAsRUFBNERFLFFBQTVELEVBQU47QUFDRCxHQXhCRDs7QUEwQkE7OztBQUdBL0UsS0FBRyw4QkFBSCxFQUFtQyxZQUFZO0FBQzdDaEMsWUFBUWlDLElBQVIsQ0FBYS9CLE1BQWIsRUFBcUIsWUFBckIsRUFBbUNnQyxRQUFuQyxDQUE0QyxFQUFDQyxLQUFLLElBQU4sRUFBWWdFLFNBQVMsQ0FBckIsRUFBd0IzQyxNQUFNLFVBQTlCLEVBQTVDO0FBQ0F4RCxZQUFRaUMsSUFBUixDQUFhcEIsUUFBYixFQUF1QixxQkFBdkIsRUFBOENxQixRQUE5QztBQUNBbEMsWUFBUWlDLElBQVIsQ0FBYXBCLFFBQWIsRUFBdUIsa0JBQXZCLEVBQTJDcUIsUUFBM0MsQ0FBb0Q7QUFDbERrRSxnQkFBVSxJQUR3QztBQUVsREksY0FBUSxJQUYwQztBQUdsREMsY0FBUSxRQUgwQztBQUlsREMsb0JBQWM7QUFKb0MsS0FBcEQ7QUFNQSxRQUFJRyxtQkFBbUI7QUFDckJMLGNBQVEsSUFEYTtBQUVyQkMsY0FBUSxRQUZhO0FBR3JCSyxjQUFRO0FBSGEsS0FBdkI7QUFLQSxVQUFNcEQsVUFBVSxNQUFNekQsSUFBSUcsVUFBSixDQUFlLElBQWYsQ0FBdEI7QUFDQSxVQUFNdUcsU0FBUyxNQUFNakQsUUFBUXNELG1CQUFSLENBQTRCLElBQTVCLEVBQWtDSCxnQkFBbEMsQ0FBckI7QUFDQUYsV0FBT1AsUUFBUCxDQUFnQjNELE1BQWhCLENBQXVCQyxLQUF2QixDQUE2QixJQUE3QjtBQUNBaUUsV0FBT0gsTUFBUCxDQUFjL0QsTUFBZCxDQUFxQkMsS0FBckIsQ0FBMkIsSUFBM0I7QUFDQWlFLFdBQU9GLE1BQVAsQ0FBY2hFLE1BQWQsQ0FBcUJDLEtBQXJCLENBQTJCLFFBQTNCO0FBQ0FpRSxXQUFPRCxZQUFQLENBQW9CakUsTUFBcEIsQ0FBMkJJLEVBQTNCLENBQThCK0QsS0FBOUI7QUFDQSxLQUFDRCxrQkFBa0JKLHVCQUFuQixFQUFrQzlELE1BQWxDLENBQXlDSSxFQUF6QyxDQUE0Q0MsSUFBNUM7QUFDQWxCLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCL0MsU0FBU0csbUJBQWpDLEVBQXNELElBQXRELEVBQTRELElBQTVELEVBQWtFNkYsZ0JBQWxFO0FBQ0FqRixvQkFBTW1CLE1BQU4sQ0FBYWEsVUFBYixDQUF3Qi9DLFNBQVNFLGdCQUFqQyxFQUFtRCxJQUFuRCxFQUF5RCxJQUF6RDtBQUNELEdBdkJEOztBQXlCQTs7O0FBR0FpQixLQUFHLDhCQUFILEVBQW1DLFlBQVk7QUFDN0NoQyxZQUFRaUMsSUFBUixDQUFhL0IsTUFBYixFQUFxQixZQUFyQixFQUFtQ2dDLFFBQW5DLENBQTRDLEVBQUNDLEtBQUssSUFBTixFQUFZZ0UsU0FBUyxDQUFyQixFQUF3QjNDLE1BQU0sVUFBOUIsRUFBNUM7QUFDQXhELFlBQVFpQyxJQUFSLENBQWFwQixRQUFiLEVBQXVCLGtCQUF2QixFQUNHa0QsV0FESCxHQUNpQjdCLFFBRGpCLENBQzBCO0FBQ3RCa0UsZ0JBQVUsSUFEWTtBQUV0QkksY0FBUSxJQUZjO0FBR3RCQyxjQUFRLFFBSGM7QUFJdEJDLG9CQUFjO0FBSlEsS0FEMUIsRUFPRzFDLFlBUEgsR0FPa0I5QixRQVBsQixDQU8yQjtBQUN2QmtFLGdCQUFVLElBRGE7QUFFdkJJLGNBQVEsSUFGZTtBQUd2QkMsY0FBUSxRQUhlO0FBSXZCQyxvQkFBYztBQUpTLEtBUDNCO0FBYUEsVUFBTWhELFVBQVUsTUFBTXpELElBQUlHLFVBQUosQ0FBZSxJQUFmLENBQXRCO0FBQ0EsVUFBTXVHLFNBQVMsTUFBTWpELFFBQVEzQyxnQkFBUixDQUF5QixJQUF6QixDQUFyQjtBQUNBLFVBQU00RixPQUFPMUMsTUFBUCxFQUFOO0FBQ0EwQyxXQUFPSCxNQUFQLENBQWMvRCxNQUFkLENBQXFCd0UsR0FBckIsQ0FBeUIsSUFBekI7QUFDQXJGLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCL0MsU0FBU0UsZ0JBQWpDLEVBQW1ELElBQW5ELEVBQXlELElBQXpEO0FBQ0FhLG9CQUFNbUIsTUFBTixDQUFhbUIsV0FBYixDQUF5QnJELFNBQVNFLGdCQUFsQztBQUNELEdBckJEOztBQXVCQTs7O0FBR0FpQixLQUFHLDhCQUFILEVBQW1DLFlBQVk7QUFDN0NoQyxZQUFRaUMsSUFBUixDQUFhL0IsTUFBYixFQUFxQixZQUFyQixFQUFtQ2dDLFFBQW5DLENBQTRDLEVBQUNDLEtBQUssSUFBTixFQUFZZ0UsU0FBUyxDQUFyQixFQUF3QjNDLE1BQU0sVUFBOUIsRUFBNUM7QUFDQXhELFlBQVFpQyxJQUFSLENBQWFwQixRQUFiLEVBQXVCLGtCQUF2QixFQUNHa0QsV0FESCxHQUNpQjdCLFFBRGpCLENBQzBCO0FBQ3RCa0UsZ0JBQVUsSUFEWTtBQUV0QkksY0FBUSxJQUZjO0FBR3RCQyxjQUFRLFFBSGM7QUFJdEJDLG9CQUFjO0FBSlEsS0FEMUIsRUFPRzFDLFlBUEgsR0FPa0I5QixRQVBsQixDQU8yQjtBQUN2QmtFLGdCQUFVLElBRGE7QUFFdkJJLGNBQVEsSUFGZTtBQUd2QkMsY0FBUSxRQUhlO0FBSXZCQyxvQkFBYztBQUpTLEtBUDNCO0FBYUEsUUFBSUcsbUJBQW1CO0FBQ3JCTCxjQUFRLElBRGE7QUFFckJDLGNBQVEsUUFGYTtBQUdyQkssY0FBUTtBQUhhLEtBQXZCO0FBS0E5RyxZQUFRaUMsSUFBUixDQUFhcEIsUUFBYixFQUF1QixxQkFBdkIsRUFBOENxQixRQUE5QztBQUNBLFVBQU13QixVQUFVLE1BQU16RCxJQUFJRyxVQUFKLENBQWUsSUFBZixDQUF0QjtBQUNBLFVBQU11RyxTQUFTLE1BQU1qRCxRQUFRM0MsZ0JBQVIsQ0FBeUIsSUFBekIsQ0FBckI7QUFDQSxVQUFNNEYsT0FBT1QsTUFBUCxDQUFjVyxnQkFBZCxDQUFOO0FBQ0FGLFdBQU9ILE1BQVAsQ0FBYy9ELE1BQWQsQ0FBcUJ3RSxHQUFyQixDQUF5QixJQUF6QjtBQUNBckYsb0JBQU1tQixNQUFOLENBQWFhLFVBQWIsQ0FBd0IvQyxTQUFTRyxtQkFBakMsRUFBc0QsSUFBdEQsRUFBNEQsSUFBNUQsRUFBa0U2RixnQkFBbEU7QUFDQWpGLG9CQUFNbUIsTUFBTixDQUFhbUIsV0FBYixDQUF5QnJELFNBQVNFLGdCQUFsQztBQUNBYSxvQkFBTW1CLE1BQU4sQ0FBYWEsVUFBYixDQUF3Qi9DLFNBQVNFLGdCQUFqQyxFQUFtRCxJQUFuRCxFQUF5RCxJQUF6RDtBQUNELEdBNUJEOztBQThCQTs7O0FBR0FpQixLQUFHLG1DQUFILEVBQXdDLFlBQVk7QUFDbERoQyxZQUFRaUMsSUFBUixDQUFhL0IsTUFBYixFQUFxQixZQUFyQixFQUFtQ2dDLFFBQW5DLENBQTRDLEVBQUNDLEtBQUssSUFBTixFQUFZZ0UsU0FBUyxDQUFyQixFQUF3QjNDLE1BQU0sVUFBOUIsRUFBNUM7QUFDQXhELFlBQVFpQyxJQUFSLENBQWFwQixRQUFiLEVBQXVCLGtCQUF2QixFQUNHa0QsV0FESCxHQUNpQjdCLFFBRGpCLENBQzBCO0FBQ3RCa0UsZ0JBQVUsSUFEWTtBQUV0QkksY0FBUSxJQUZjO0FBR3RCQyxjQUFRLFFBSGM7QUFJdEJDLG9CQUFjO0FBSlEsS0FEMUIsRUFPRzFDLFlBUEgsR0FPa0I5QixRQVBsQixDQU8yQjtBQUN2QmtFLGdCQUFVLElBRGE7QUFFdkJJLGNBQVEsSUFGZTtBQUd2QkMsY0FBUSxRQUhlO0FBSXZCQyxvQkFBYztBQUpTLEtBUDNCO0FBYUExRyxZQUFRaUMsSUFBUixDQUFhcEIsUUFBYixFQUF1Qix5QkFBdkIsRUFBa0RxQixRQUFsRDtBQUNBLFVBQU13QixVQUFVLE1BQU16RCxJQUFJRyxVQUFKLENBQWUsSUFBZixDQUF0QjtBQUNBLFVBQU11RyxTQUFTLE1BQU1qRCxRQUFRM0MsZ0JBQVIsQ0FBeUIsSUFBekIsQ0FBckI7QUFDQSxVQUFNNEYsT0FBT08sVUFBUCxDQUFrQixlQUFsQixDQUFOO0FBQ0FQLFdBQU9ELFlBQVAsQ0FBb0JqRSxNQUFwQixDQUEyQkksRUFBM0IsQ0FBOEJDLElBQTlCO0FBQ0FsQixvQkFBTW1CLE1BQU4sQ0FBYWEsVUFBYixDQUF3Qi9DLFNBQVNJLHVCQUFqQyxFQUEwRCxJQUExRCxFQUFnRSxJQUFoRSxFQUFzRSxlQUF0RTtBQUNBVyxvQkFBTW1CLE1BQU4sQ0FBYW1CLFdBQWIsQ0FBeUJyRCxTQUFTRSxnQkFBbEM7QUFDQWEsb0JBQU1tQixNQUFOLENBQWFhLFVBQWIsQ0FBd0IvQyxTQUFTRSxnQkFBakMsRUFBbUQsSUFBbkQsRUFBeUQsSUFBekQ7QUFDRCxHQXZCRDs7QUF5QkE7OztBQUdBaUIsS0FBRyw4QkFBSCxFQUFtQyxZQUFZO0FBQzdDaEMsWUFBUWlDLElBQVIsQ0FBYS9CLE1BQWIsRUFBcUIsWUFBckIsRUFBbUNnQyxRQUFuQyxDQUE0QyxFQUFDQyxLQUFLLElBQU4sRUFBWWdFLFNBQVMsQ0FBckIsRUFBd0IzQyxNQUFNLFVBQTlCLEVBQTVDO0FBQ0F4RCxZQUFRaUMsSUFBUixDQUFhcEIsUUFBYixFQUF1QixrQkFBdkIsRUFBMkNxQixRQUEzQyxDQUFvRDtBQUNsRGtFLGdCQUFVLElBRHdDO0FBRWxESSxjQUFRLElBRjBDO0FBR2xEQyxjQUFRLFFBSDBDO0FBSWxEQyxvQkFBYztBQUpvQyxLQUFwRDtBQU1BMUcsWUFBUWlDLElBQVIsQ0FBYXBCLFFBQWIsRUFBdUIscUJBQXZCLEVBQThDcUIsUUFBOUMsQ0FBdUQsRUFBQ0MsS0FBSyxJQUFOLEVBQXZEO0FBQ0EsVUFBTXVCLFVBQVUsTUFBTXpELElBQUlHLFVBQUosQ0FBZSxJQUFmLENBQXRCO0FBQ0EsVUFBTXVHLFNBQVMsTUFBTWpELFFBQVEzQyxnQkFBUixDQUF5QixJQUF6QixDQUFyQjtBQUNBLFVBQU00RixPQUFPbEYsTUFBUCxFQUFOO0FBQ0FHLG9CQUFNbUIsTUFBTixDQUFhYSxVQUFiLENBQXdCL0MsU0FBU0ssbUJBQWpDLEVBQXNELElBQXRELEVBQTRELElBQTVEO0FBQ0QsR0FiRDtBQWVELENBbDhCRCIsImZpbGUiOiJtZXRhdHJhZGVyQWNjb3VudEFwaS5zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgc2hvdWxkIGZyb20gJ3Nob3VsZCc7XG5pbXBvcnQgc2lub24gZnJvbSAnc2lub24nO1xuaW1wb3J0IE1ldGF0cmFkZXJBY2NvdW50QXBpIGZyb20gJy4vbWV0YXRyYWRlckFjY291bnRBcGknO1xuaW1wb3J0IE1ldGF0cmFkZXJBY2NvdW50IGZyb20gJy4vbWV0YXRyYWRlckFjY291bnQnO1xuaW1wb3J0IHtOb3RGb3VuZEVycm9yfSBmcm9tICcuLi9jbGllbnRzL2Vycm9ySGFuZGxlcic7XG5pbXBvcnQgSGlzdG9yeUZpbGVNYW5hZ2VyIGZyb20gJy4vaGlzdG9yeUZpbGVNYW5hZ2VyL2luZGV4JztcbmltcG9ydCBFeHBlcnRBZHZpc29yIGZyb20gJy4vZXhwZXJ0QWR2aXNvcic7XG5cbi8qKlxuICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50QXBpfVxuICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50fVxuICovXG5kZXNjcmliZSgnTWV0YXRyYWRlckFjY291bnRBcGknLCAoKSA9PiB7XG5cbiAgbGV0IHNhbmRib3g7XG4gIGxldCBhcGk7XG4gIGxldCBjbGllbnQgPSB7XG4gICAgZ2V0QWNjb3VudHM6ICgpID0+IHt9LFxuICAgIGdldEFjY291bnQ6ICgpID0+IHt9LFxuICAgIGdldEFjY291bnRCeVRva2VuOiAoKSA9PiB7fSxcbiAgICBjcmVhdGVBY2NvdW50OiAoKSA9PiB7fSxcbiAgICBkZWxldGVBY2NvdW50OiAoKSA9PiB7fSxcbiAgICBkZXBsb3lBY2NvdW50OiAoKSA9PiB7fSxcbiAgICB1bmRlcGxveUFjY291bnQ6ICgpID0+IHt9LFxuICAgIHJlZGVwbG95QWNjb3VudDogKCkgPT4ge30sXG4gICAgdXBkYXRlQWNjb3VudDogKCkgPT4ge30sXG4gICAgaW5jcmVhc2VSZWxpYWJpbGl0eTogKCkgPT4ge31cbiAgfTtcbiAgbGV0IGVhQ2xpZW50ID0ge1xuICAgIGdldEV4cGVydEFkdmlzb3JzOiAoKSA9PiB7fSxcbiAgICBnZXRFeHBlcnRBZHZpc29yOiAoKSA9PiB7fSxcbiAgICB1cGRhdGVFeHBlcnRBZHZpc29yOiAoKSA9PiB7fSxcbiAgICB1cGxvYWRFeHBlcnRBZHZpc29yRmlsZTogKCkgPT4ge30sXG4gICAgZGVsZXRlRXhwZXJ0QWR2aXNvcjogKCkgPT4ge31cbiAgfTtcbiAgbGV0IG1ldGFBcGlXZWJzb2NrZXRDbGllbnQgPSB7XG4gICAgYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXI6ICgpID0+IHt9LFxuICAgIGFkZFJlY29ubmVjdExpc3RlbmVyOiAoKSA9PiB7fSxcbiAgICBzdWJzY3JpYmU6ICgpID0+IHt9XG4gIH07XG4gIGxldCBjb25uZWN0aW9uUmVnaXN0cnkgPSB7XG4gICAgY29ubmVjdDogKCkgPT4ge30sXG4gICAgcmVtb3ZlOiAoKSA9PiB7fVxuICB9O1xuXG4gIGJlZm9yZSgoKSA9PiB7XG4gICAgYXBpID0gbmV3IE1ldGF0cmFkZXJBY2NvdW50QXBpKGNsaWVudCwgbWV0YUFwaVdlYnNvY2tldENsaWVudCwgY29ubmVjdGlvblJlZ2lzdHJ5LCBlYUNsaWVudCk7XG4gICAgc2FuZGJveCA9IHNpbm9uLmNyZWF0ZVNhbmRib3goKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBzYW5kYm94LnJlc3RvcmUoKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudEFwaSNnZXRBY2NvdW50c31cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgTVQgYWNjb3VudHMnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnRzJykucmVzb2x2ZXMoW3tfaWQ6ICdpZCd9XSk7XG4gICAgbGV0IGFjY291bnRzID0gYXdhaXQgYXBpLmdldEFjY291bnRzKHtwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdwcm9maWxlSWQnfSk7XG4gICAgYWNjb3VudHMubWFwKGEgPT4gYS5pZCkuc2hvdWxkLm1hdGNoKFsnaWQnXSk7XG4gICAgYWNjb3VudHMuZm9yRWFjaChhID0+IChhIGluc3RhbmNlb2YgTWV0YXRyYWRlckFjY291bnQpLnNob3VsZC5iZS50cnVlKCkpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoTWF0Y2goY2xpZW50LmdldEFjY291bnRzLCB7cHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAncHJvZmlsZUlkJ30pO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50QXBpI2dldEFjY291bnR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIE1UIGFjY291bnQgYnkgaWQnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnQnKS5yZXNvbHZlcyh7XG4gICAgICBfaWQ6ICdpZCcsXG4gICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgY29ubmVjdGlvblN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgIHR5cGU6ICdjbG91ZCcsXG4gICAgICBhY2Nlc3NUb2tlbjogJzJSVW5vSDFsZEdibkVuZUNvcVJUZ0k0UU8xWE9tVnpiSDVFVm9Rc0EnXG4gICAgfSk7XG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICBhY2NvdW50LmlkLnNob3VsZC5lcXVhbCgnaWQnKTtcbiAgICBhY2NvdW50LmxvZ2luLnNob3VsZC5lcXVhbCgnNTAxOTQ5ODgnKTtcbiAgICBhY2NvdW50Lm5hbWUuc2hvdWxkLmVxdWFsKCdtdDVhJyk7XG4gICAgYWNjb3VudC5zZXJ2ZXIuc2hvdWxkLmVxdWFsKCdJQ01hcmtldHNTQy1EZW1vJyk7XG4gICAgYWNjb3VudC5wcm92aXNpb25pbmdQcm9maWxlSWQuc2hvdWxkLmVxdWFsKCdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnKTtcbiAgICBhY2NvdW50Lm1hZ2ljLnNob3VsZC5lcXVhbCgxMjM0NTYpO1xuICAgIGFjY291bnQuYXBwbGljYXRpb24uc2hvdWxkLmVxdWFsKCdNZXRhQXBpJyk7XG4gICAgYWNjb3VudC5jb25uZWN0aW9uU3RhdHVzLnNob3VsZC5lcXVhbCgnRElTQ09OTkVDVEVEJyk7XG4gICAgYWNjb3VudC5zdGF0ZS5zaG91bGQuZXF1YWwoJ0RFUExPWUVEJyk7XG4gICAgYWNjb3VudC50eXBlLnNob3VsZC5lcXVhbCgnY2xvdWQnKTtcbiAgICBhY2NvdW50LmFjY2Vzc1Rva2VuLnNob3VsZC5lcXVhbCgnMlJVbm9IMWxkR2JuRW5lQ29xUlRnSTRRTzFYT21WemJINUVWb1FzQScpO1xuICAgIChhY2NvdW50IGluc3RhbmNlb2YgTWV0YXRyYWRlckFjY291bnQpLnNob3VsZC5iZS50cnVlKCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50QXBpI2dldEFjY291bnRCeVRva2VufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBNVCBhY2NvdW50IGJ5IHRva2VuJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRBY2NvdW50QnlUb2tlbicpLnJlc29sdmVzKHtcbiAgICAgIF9pZDogJ2lkJyxcbiAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgdHlwZTogJ2Nsb3VkJyxcbiAgICAgIGFjY2Vzc1Rva2VuOiAnMlJVbm9IMWxkR2JuRW5lQ29xUlRnSTRRTzFYT21WemJINUVWb1FzQSdcbiAgICB9KTtcbiAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50QnlUb2tlbigpO1xuICAgIGFjY291bnQuaWQuc2hvdWxkLmVxdWFsKCdpZCcpO1xuICAgIGFjY291bnQubG9naW4uc2hvdWxkLmVxdWFsKCc1MDE5NDk4OCcpO1xuICAgIGFjY291bnQubmFtZS5zaG91bGQuZXF1YWwoJ210NWEnKTtcbiAgICBhY2NvdW50LnNlcnZlci5zaG91bGQuZXF1YWwoJ0lDTWFya2V0c1NDLURlbW8nKTtcbiAgICBhY2NvdW50LnByb3Zpc2lvbmluZ1Byb2ZpbGVJZC5zaG91bGQuZXF1YWwoJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicpO1xuICAgIGFjY291bnQubWFnaWMuc2hvdWxkLmVxdWFsKDEyMzQ1Nik7XG4gICAgYWNjb3VudC5hcHBsaWNhdGlvbi5zaG91bGQuZXF1YWwoJ01ldGFBcGknKTtcbiAgICBhY2NvdW50LmNvbm5lY3Rpb25TdGF0dXMuc2hvdWxkLmVxdWFsKCdESVNDT05ORUNURUQnKTtcbiAgICBhY2NvdW50LnN0YXRlLnNob3VsZC5lcXVhbCgnREVQTE9ZRUQnKTtcbiAgICBhY2NvdW50LnR5cGUuc2hvdWxkLmVxdWFsKCdjbG91ZCcpO1xuICAgIGFjY291bnQuYWNjZXNzVG9rZW4uc2hvdWxkLmVxdWFsKCcyUlVub0gxbGRHYm5FbmVDb3FSVGdJNFFPMVhPbVZ6Ykg1RVZvUXNBJyk7XG4gICAgKGFjY291bnQgaW5zdGFuY2VvZiBNZXRhdHJhZGVyQWNjb3VudCkuc2hvdWxkLmJlLnRydWUoKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudEJ5VG9rZW4pO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50QXBpI2NyZWF0ZUFjY291bnR9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBNVCBhY2NvdW50JywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdjcmVhdGVBY2NvdW50JykucmVzb2x2ZXMoe2lkOiAnaWQnfSk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnQnKS5yZXNvbHZlcyh7XG4gICAgICBfaWQ6ICdpZCcsXG4gICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgY29ubmVjdGlvblN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgIHR5cGU6ICdjbG91ZCcsXG4gICAgICBhY2Nlc3NUb2tlbjogJzJSVW5vSDFsZEdibkVuZUNvcVJUZ0k0UU8xWE9tVnpiSDVFVm9Rc0EnXG4gICAgfSk7XG4gICAgbGV0IG5ld0FjY291bnREYXRhID0ge1xuICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICBwYXNzd29yZDogJ1Rlc3QxMjM0JyxcbiAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgdHlwZTogJ2Nsb3VkJyxcbiAgICAgIGFjY2Vzc1Rva2VuOiAnTnlWNW5vOVRNZmZKeVV0czJGakk4MHdseTBzbzNyVkN6NHhPcWlEeCdcbiAgICB9O1xuICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmNyZWF0ZUFjY291bnQobmV3QWNjb3VudERhdGEpO1xuICAgIGFjY291bnQuaWQuc2hvdWxkLmVxdWFsKCdpZCcpO1xuICAgIGFjY291bnQubG9naW4uc2hvdWxkLmVxdWFsKCc1MDE5NDk4OCcpO1xuICAgIGFjY291bnQubmFtZS5zaG91bGQuZXF1YWwoJ210NWEnKTtcbiAgICBhY2NvdW50LnNlcnZlci5zaG91bGQuZXF1YWwoJ0lDTWFya2V0c1NDLURlbW8nKTtcbiAgICBhY2NvdW50LnByb3Zpc2lvbmluZ1Byb2ZpbGVJZC5zaG91bGQuZXF1YWwoJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicpO1xuICAgIGFjY291bnQubWFnaWMuc2hvdWxkLmVxdWFsKDEyMzQ1Nik7XG4gICAgYWNjb3VudC5hcHBsaWNhdGlvbi5zaG91bGQuZXF1YWwoJ01ldGFBcGknKTtcbiAgICBhY2NvdW50LmNvbm5lY3Rpb25TdGF0dXMuc2hvdWxkLmVxdWFsKCdESVNDT05ORUNURUQnKTtcbiAgICBhY2NvdW50LnN0YXRlLnNob3VsZC5lcXVhbCgnREVQTE9ZRUQnKTtcbiAgICBhY2NvdW50LnR5cGUuc2hvdWxkLmVxdWFsKCdjbG91ZCcpO1xuICAgIGFjY291bnQuYWNjZXNzVG9rZW4uc2hvdWxkLmVxdWFsKCcyUlVub0gxbGRHYm5FbmVDb3FSVGdJNFFPMVhPbVZ6Ykg1RVZvUXNBJyk7XG4gICAgKGFjY291bnQgaW5zdGFuY2VvZiBNZXRhdHJhZGVyQWNjb3VudCkuc2hvdWxkLmJlLnRydWUoKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuY3JlYXRlQWNjb3VudCwgbmV3QWNjb3VudERhdGEpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCNyZWxvYWR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJlbG9hZCBNVCBhY2NvdW50JywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRBY2NvdW50JylcbiAgICAgIC5vbkZpcnN0Q2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnREVQTE9ZSU5HJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgfSlcbiAgICAgIC5vblNlY29uZENhbGwoKS5yZXNvbHZlcyh7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgfSk7XG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICBhd2FpdCBhY2NvdW50LnJlbG9hZCgpO1xuICAgIGFjY291bnQuY29ubmVjdGlvblN0YXR1cy5zaG91bGQuZXF1YWwoJ0NPTk5FQ1RFRCcpO1xuICAgIGFjY291bnQuc3RhdGUuc2hvdWxkLmVxdWFsKCdERVBMT1lFRCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVHdpY2UoY2xpZW50LmdldEFjY291bnQpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I3JlbW92ZX1cbiAgICovXG4gIGl0KCdzaG91bGQgcmVtb3ZlIE1UIGFjY291bnQnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNvbm5lY3Rpb25SZWdpc3RyeSwgJ3JlbW92ZScpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnQnKVxuICAgICAgLm9uRmlyc3RDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH0pXG4gICAgICAub25TZWNvbmRDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERUxFVElORycsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH0pO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdkZWxldGVBY2NvdW50JykucmVzb2x2ZXMoKTtcbiAgICBzYW5kYm94LnN0dWIoSGlzdG9yeUZpbGVNYW5hZ2VyLnByb3RvdHlwZSwgJ2RlbGV0ZVN0b3JhZ2VGcm9tRGlzaycpLnJldHVybnMoKTtcbiAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgIGF3YWl0IGFjY291bnQucmVtb3ZlKCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY29ubmVjdGlvblJlZ2lzdHJ5LnJlbW92ZSwgJ2lkJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2UoSGlzdG9yeUZpbGVNYW5hZ2VyLnByb3RvdHlwZS5kZWxldGVTdG9yYWdlRnJvbURpc2spO1xuICAgIGFjY291bnQuc3RhdGUuc2hvdWxkLmVxdWFsKCdERUxFVElORycpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5kZWxldGVBY2NvdW50LCAnaWQnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFR3aWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCNkZXBsb3l9XG4gICAqL1xuICBpdCgnc2hvdWxkIGRlcGxveSBNVCBhY2NvdW50JywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRBY2NvdW50JylcbiAgICAgIC5vbkZpcnN0Q2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnVU5ERVBMT1lFRCcsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH0pXG4gICAgICAub25TZWNvbmRDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERVBMT1lJTkcnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9KTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZGVwbG95QWNjb3VudCcpLnJlc29sdmVzKCk7XG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICBhd2FpdCBhY2NvdW50LmRlcGxveSgpO1xuICAgIGFjY291bnQuc3RhdGUuc2hvdWxkLmVxdWFsKCdERVBMT1lJTkcnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZGVwbG95QWNjb3VudCwgJ2lkJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUd2ljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjdW5kZXBsb3l9XG4gICAqL1xuICBpdCgnc2hvdWxkIHVuZGVwbG95IE1UIGFjY291bnQnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNvbm5lY3Rpb25SZWdpc3RyeSwgJ3JlbW92ZScpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnQnKVxuICAgICAgLm9uRmlyc3RDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH0pXG4gICAgICAub25TZWNvbmRDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdVTkRFUExPWUlORycsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH0pO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd1bmRlcGxveUFjY291bnQnKS5yZXNvbHZlcygpO1xuICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgYXdhaXQgYWNjb3VudC51bmRlcGxveSgpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNvbm5lY3Rpb25SZWdpc3RyeS5yZW1vdmUsICdpZCcpO1xuICAgIGFjY291bnQuc3RhdGUuc2hvdWxkLmVxdWFsKCdVTkRFUExPWUlORycpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC51bmRlcGxveUFjY291bnQsICdpZCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVHdpY2UoY2xpZW50LmdldEFjY291bnQpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I3JlZGVwbG95fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZWRlcGxveSBNVCBhY2NvdW50JywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRBY2NvdW50JylcbiAgICAgIC5vbkZpcnN0Q2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9KVxuICAgICAgLm9uU2Vjb25kQ2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnVU5ERVBMT1lJTkcnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9KTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAncmVkZXBsb3lBY2NvdW50JykucmVzb2x2ZXMoKTtcbiAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgIGF3YWl0IGFjY291bnQucmVkZXBsb3koKTtcbiAgICBhY2NvdW50LnN0YXRlLnNob3VsZC5lcXVhbCgnVU5ERVBMT1lJTkcnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQucmVkZXBsb3lBY2NvdW50LCAnaWQnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFR3aWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCNpbmNyZWFzZVJlbGlhYmlsaXR5fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBpbmNyZWFzZSBNVCBhY2NvdW50IHJlbGlhYmlsaXR5JywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRBY2NvdW50JylcbiAgICAgIC5vbkZpcnN0Q2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9KVxuICAgICAgLm9uU2Vjb25kQ2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnVU5ERVBMT1lJTkcnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnLFxuICAgICAgICByZWxpYWJpbGl0eTogJ2hpZ2gnXG4gICAgICB9KTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnaW5jcmVhc2VSZWxpYWJpbGl0eScpLnJlc29sdmVzKCk7XG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICBhd2FpdCBhY2NvdW50LmluY3JlYXNlUmVsaWFiaWxpdHkoKTtcbiAgICBhY2NvdW50LnJlbGlhYmlsaXR5LnNob3VsZC5lcXVhbCgnaGlnaCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5pbmNyZWFzZVJlbGlhYmlsaXR5LCAnaWQnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFR3aWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01ldGF0cmFkZXJBY2NvdW50LndhaXREZXBsb3llZCcsICgpID0+IHtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCN3YWl0RGVwbG95ZWR9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB3YWl0IGZvciBkZXBsb3ltZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGRlcGxveWluZ0FjY291bnQgPSB7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ0RFUExPWUlORycsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH07XG4gICAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0QWNjb3VudCcpXG4gICAgICAgIC5vbkZpcnN0Q2FsbCgpLnJlc29sdmVzKGRlcGxveWluZ0FjY291bnQpXG4gICAgICAgIC5vblNlY29uZENhbGwoKS5yZXNvbHZlcyhkZXBsb3lpbmdBY2NvdW50KVxuICAgICAgICAub25UaGlyZENhbGwoKS5yZXNvbHZlcyh7XG4gICAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICAgIH0pO1xuICAgICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICAgIGF3YWl0IGFjY291bnQud2FpdERlcGxveWVkKDEsIDUwKTtcbiAgICAgIGFjY291bnQuc3RhdGUuc2hvdWxkLmVxdWFsKCdERVBMT1lFRCcpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFRocmljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjd2FpdERlcGxveWVkfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgdGltZSBvdXQgd2FpdGluZyBmb3IgZGVwbG95bWVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBkZXBsb3lpbmdBY2NvdW50ID0ge1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERVBMT1lJTkcnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9O1xuICAgICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnQnKVxuICAgICAgICAucmVzb2x2ZXMoZGVwbG95aW5nQWNjb3VudCk7XG4gICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYWNjb3VudC53YWl0RGVwbG95ZWQoMSwgNTApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RpbWVvdXRFcnJvciBpcyBleHBlY3RlZCcpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVyci5uYW1lLnNob3VsZC5lcXVhbCgnVGltZW91dEVycm9yJyk7XG4gICAgICAgIGFjY291bnQuc3RhdGUuc2hvdWxkLmVxdWFsKCdERVBMT1lJTkcnKTtcbiAgICAgIH1cbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICB9KTtcblxuICB9KTtcblxuICBkZXNjcmliZSgnTWV0YXRyYWRlckFjY291bnQud2FpdFVuZGVwbG95ZWQnLCAoKSA9PiB7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjd2FpdFVuZGVwbG95ZWR9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB3YWl0IGZvciB1bmRlcGxveW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgdW5kZXBsb3lpbmdBY2NvdW50ID0ge1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdVTkRFUExPWUlORycsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH07XG4gICAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0QWNjb3VudCcpXG4gICAgICAgIC5vbkZpcnN0Q2FsbCgpLnJlc29sdmVzKHVuZGVwbG95aW5nQWNjb3VudClcbiAgICAgICAgLm9uU2Vjb25kQ2FsbCgpLnJlc29sdmVzKHVuZGVwbG95aW5nQWNjb3VudClcbiAgICAgICAgLm9uVGhpcmRDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgICAgc3RhdGU6ICdVTkRFUExPWUVEJyxcbiAgICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICAgIH0pO1xuICAgICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICAgIGF3YWl0IGFjY291bnQud2FpdFVuZGVwbG95ZWQoMSwgNTApO1xuICAgICAgYWNjb3VudC5zdGF0ZS5zaG91bGQuZXF1YWwoJ1VOREVQTE9ZRUQnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUaHJpY2UoY2xpZW50LmdldEFjY291bnQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I3dhaXRVbmRlcGxveWVkfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgdGltZSBvdXQgd2FpdGluZyBmb3IgdW5kZXBsb3ltZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IHVuZGVwbG95aW5nQWNjb3VudCA9IHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnVU5ERVBMT1lJTkcnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9O1xuICAgICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnQnKVxuICAgICAgICAucmVzb2x2ZXModW5kZXBsb3lpbmdBY2NvdW50KTtcbiAgICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBhY2NvdW50LndhaXRVbmRlcGxveWVkKDEsIDUwKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaW1lb3V0RXJyb3IgaXMgZXhwZWN0ZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnIubmFtZS5zaG91bGQuZXF1YWwoJ1RpbWVvdXRFcnJvcicpO1xuICAgICAgICBhY2NvdW50LnN0YXRlLnNob3VsZC5lcXVhbCgnVU5ERVBMT1lJTkcnKTtcbiAgICAgIH1cbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICB9KTtcblxuICB9KTtcblxuICBkZXNjcmliZSgnTWV0YXRyYWRlckFjY291bnQud2FpdFJlbW92ZWQnLCAoKSA9PiB7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjd2FpdFJlbW92ZWR9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB3YWl0IHVudGlsIHJlbW92ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZGVsZXRpbmdBY2NvdW50ID0ge1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERUxFVElORycsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH07XG4gICAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0QWNjb3VudCcpXG4gICAgICAgIC5vbkZpcnN0Q2FsbCgpLnJlc29sdmVzKGRlbGV0aW5nQWNjb3VudClcbiAgICAgICAgLm9uU2Vjb25kQ2FsbCgpLnJlc29sdmVzKGRlbGV0aW5nQWNjb3VudClcbiAgICAgICAgLm9uVGhpcmRDYWxsKCkudGhyb3dzKG5ldyBOb3RGb3VuZEVycm9yKCkpO1xuICAgICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICAgIGF3YWl0IGFjY291bnQud2FpdFJlbW92ZWQoMSwgNTApO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFRocmljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjd2FpdFJlbW92ZWR9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB0aW1lIG91dCB3YWl0aW5nIHVudGlsIHJlbW92ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZGVsZXRpbmdBY2NvdW50ID0ge1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERUxFVElORycsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH07XG4gICAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0QWNjb3VudCcpXG4gICAgICAgIC5yZXNvbHZlcyhkZWxldGluZ0FjY291bnQpO1xuICAgICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGFjY291bnQud2FpdFJlbW92ZWQoMSwgNTApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RpbWVvdXRFcnJvciBpcyBleHBlY3RlZCcpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVyci5uYW1lLnNob3VsZC5lcXVhbCgnVGltZW91dEVycm9yJyk7XG4gICAgICB9XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01ldGF0cmFkZXJBY2NvdW50LndhaXRDb25uZWN0ZWQnLCAoKSA9PiB7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjd2FpdENvbm5lY3RlZH1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIHdhaXQgdW50aWwgYnJva2VyIGNvbm5lY3Rpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZGlzY29ubmVjdGVkQWNjb3VudCA9IHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9O1xuICAgICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnQnKVxuICAgICAgICAub25GaXJzdENhbGwoKS5yZXNvbHZlcyhkaXNjb25uZWN0ZWRBY2NvdW50KVxuICAgICAgICAub25TZWNvbmRDYWxsKCkucmVzb2x2ZXMoZGlzY29ubmVjdGVkQWNjb3VudClcbiAgICAgICAgLm9uVGhpcmRDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgICB9KTtcbiAgICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgICBhd2FpdCBhY2NvdW50LndhaXRDb25uZWN0ZWQoMSwgNTApO1xuICAgICAgYWNjb3VudC5jb25uZWN0aW9uU3RhdHVzLnNob3VsZC5lcXVhbCgnQ09OTkVDVEVEJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVGhyaWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCN3YWl0Q29ubmVjdGVkfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgdGltZSBvdXQgd2FpdGluZyBmb3IgYnJva2VyIGNvbm5lY3Rpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZGlzY29ubmVjdGVkQWNjb3VudCA9IHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9O1xuICAgICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnQnKVxuICAgICAgICAucmVzb2x2ZXMoZGlzY29ubmVjdGVkQWNjb3VudCk7XG4gICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYWNjb3VudC53YWl0Q29ubmVjdGVkKDEsIDUwKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaW1lb3V0RXJyb3IgaXMgZXhwZWN0ZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnIubmFtZS5zaG91bGQuZXF1YWwoJ1RpbWVvdXRFcnJvcicpO1xuICAgICAgICBhY2NvdW50LmNvbm5lY3Rpb25TdGF0dXMuc2hvdWxkLmVxdWFsKCdESVNDT05ORUNURUQnKTtcbiAgICAgIH1cbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICB9KTtcblxuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I2Nvbm5lY3R9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNvbm5lY3QgdG8gYW4gTVQgdGVybWluYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKG1ldGFBcGlXZWJzb2NrZXRDbGllbnQsICdhZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcicpLnJldHVybnMoKTtcbiAgICBzYW5kYm94LnN0dWIobWV0YUFwaVdlYnNvY2tldENsaWVudCwgJ3N1YnNjcmliZScpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnQnKS5yZXNvbHZlcyh7X2lkOiAnaWQnfSk7XG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgpO1xuICAgIGxldCBzdG9yYWdlID0ge1xuICAgICAgbGFzdEhpc3RvcnlPcmRlclRpbWU6ICgpID0+IG5ldyBEYXRlKCcyMDIwLTAxLTAxVDAwOjAwOjAwLjAwMFonKSxcbiAgICAgIGxhc3REZWFsVGltZTogKCkgPT4gbmV3IERhdGUoJzIwMjAtMDEtMDJUMDA6MDA6MDAuMDAwWicpLFxuICAgICAgbG9hZERhdGFGcm9tRGlzazogKCkgPT4gKHtkZWFsczogW10sIGhpc3RvcnlPcmRlcnM6IFtdfSlcbiAgICB9O1xuICAgIHNhbmRib3guc3B5KGNvbm5lY3Rpb25SZWdpc3RyeSwgJ2Nvbm5lY3QnKTtcbiAgICBhd2FpdCBhY2NvdW50LmNvbm5lY3Qoc3RvcmFnZSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY29ubmVjdGlvblJlZ2lzdHJ5LmNvbm5lY3QsIGFjY291bnQsIHN0b3JhZ2UpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I3VwZGF0ZX1cbiAgICovXG4gIGl0KCdzaG91bGQgdXBkYXRlIE1UIGFjY291bnQnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnQnKVxuICAgICAgLm9uRmlyc3RDYWxsKClcbiAgICAgIC5yZXNvbHZlcyh7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgfSlcbiAgICAgIC5vblNlY29uZENhbGwoKVxuICAgICAgLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWFfXycsXG4gICAgICAgIHNlcnZlcjogJ090aGVyTWFya2V0cy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9KTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndXBkYXRlQWNjb3VudCcpLnJlc29sdmVzKCk7XG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICBhd2FpdCBhY2NvdW50LnVwZGF0ZSh7XG4gICAgICBuYW1lOiAnbXQ1YV9fJyxcbiAgICAgIHBhc3N3b3JkOiAnbW9yZVNlY3VyZVBhc3MnLFxuICAgICAgc2VydmVyOiAnT3RoZXJNYXJrZXRzLURlbW8nXG4gICAgfSk7XG4gICAgYWNjb3VudC5uYW1lLnNob3VsZC5lcXVhbCgnbXQ1YV9fJyk7XG4gICAgYWNjb3VudC5zZXJ2ZXIuc2hvdWxkLmVxdWFsKCdPdGhlck1hcmtldHMtRGVtbycpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC51cGRhdGVBY2NvdW50LCAnaWQnLCB7XG4gICAgICBuYW1lOiAnbXQ1YV9fJyxcbiAgICAgIHBhc3N3b3JkOiAnbW9yZVNlY3VyZVBhc3MnLFxuICAgICAgc2VydmVyOiAnT3RoZXJNYXJrZXRzLURlbW8nXG4gICAgfSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUd2ljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjZ2V0RXhwZXJ0QWR2aXNvcnN9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGV4cGVydCBhZHZpc29ycycsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0QWNjb3VudCcpLnJlc29sdmVzKHtfaWQ6ICdpZCcsIHZlcnNpb246IDQsIHR5cGU6ICdjbG91ZC1nMSd9KTtcbiAgICBzYW5kYm94LnN0dWIoZWFDbGllbnQsICdnZXRFeHBlcnRBZHZpc29ycycpLnJlc29sdmVzKFt7ZXhwZXJ0SWQ6ICdlYSd9XSk7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCk7XG4gICAgY29uc3QgZXhwZXJ0cyA9IGF3YWl0IGFjY291bnQuZ2V0RXhwZXJ0QWR2aXNvcnMoKTtcbiAgICBleHBlcnRzLm1hcChlID0+IGUuZXhwZXJ0SWQpLnNob3VsZC5tYXRjaChbJ2VhJ10pO1xuICAgIGV4cGVydHMuZm9yRWFjaChlID0+IChlIGluc3RhbmNlb2YgRXhwZXJ0QWR2aXNvcikuc2hvdWxkLmJlLnRydWUoKSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGhNYXRjaChlYUNsaWVudC5nZXRFeHBlcnRBZHZpc29ycywgJ2lkJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjZ2V0RXhwZXJ0QWR2aXNvcn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgZXhwZXJ0IGFkdmlzb3IgYnkgZXhwZXJ0IGlkJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRBY2NvdW50JykucmVzb2x2ZXMoe19pZDogJ2lkJywgdmVyc2lvbjogNCwgdHlwZTogJ2Nsb3VkLWcxJ30pO1xuICAgIHNhbmRib3guc3R1YihlYUNsaWVudCwgJ2dldEV4cGVydEFkdmlzb3InKS5yZXNvbHZlcyh7XG4gICAgICBleHBlcnRJZDogJ2VhJyxcbiAgICAgIHBlcmlvZDogJzFIJyxcbiAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICBmaWxlVXBsb2FkZWQ6IGZhbHNlXG4gICAgfSk7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgIGNvbnN0IGV4cGVydCA9IGF3YWl0IGFjY291bnQuZ2V0RXhwZXJ0QWR2aXNvcignZWEnKTtcbiAgICBleHBlcnQuZXhwZXJ0SWQuc2hvdWxkLm1hdGNoKCdlYScpO1xuICAgIGV4cGVydC5wZXJpb2Quc2hvdWxkLm1hdGNoKCcxSCcpO1xuICAgIGV4cGVydC5zeW1ib2wuc2hvdWxkLm1hdGNoKCdFVVJVU0QnKTtcbiAgICBleHBlcnQuZmlsZVVwbG9hZGVkLnNob3VsZC5iZS5mYWxzZSgpO1xuICAgIChleHBlcnQgaW5zdGFuY2VvZiBFeHBlcnRBZHZpc29yKS5zaG91bGQuYmUudHJ1ZSgpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoTWF0Y2goZWFDbGllbnQuZ2V0RXhwZXJ0QWR2aXNvciwgJ2lkJywgJ2VhJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjZ2V0RXhwZXJ0QWR2aXNvcn1cbiAgICovXG4gIGl0KCdzaG91bGQgdmFsaWRhdGUgYWNjb3VudCB2ZXJzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRBY2NvdW50JykucmVzb2x2ZXMoe19pZDogJ2lkJywgdmVyc2lvbjogNSwgdHlwZTogJ2Nsb3VkLWcxJ30pO1xuICAgIHNhbmRib3guc3R1YihlYUNsaWVudCwgJ2dldEV4cGVydEFkdmlzb3JzJykucmVzb2x2ZXMoW3tcbiAgICAgIGV4cGVydElkOiAnZWEnLFxuICAgICAgcGVyaW9kOiAnMUgnLFxuICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgIGZpbGVVcGxvYWRlZDogZmFsc2VcbiAgICB9XSk7XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAnZ2V0RXhwZXJ0QWR2aXNvcicpLnJlc29sdmVzKHtcbiAgICAgIGV4cGVydElkOiAnZWEnLFxuICAgICAgcGVyaW9kOiAnMUgnLFxuICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgIGZpbGVVcGxvYWRlZDogZmFsc2VcbiAgICB9KTtcbiAgICBzYW5kYm94LnN0dWIoZWFDbGllbnQsICd1cGRhdGVFeHBlcnRBZHZpc29yJykucmVzb2x2ZXMoKTtcbiAgICBsZXQgbmV3RXhwZXJ0QWR2aXNvciA9IHtcbiAgICAgIHBlcmlvZDogJzFIJyxcbiAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICBwcmVzZXQ6ICdwcmVzZXQnXG4gICAgfTtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgYXdhaXQgc2hvdWxkKGFjY291bnQuZ2V0RXhwZXJ0QWR2aXNvcnMoKSkucmVqZWN0ZWQoKTtcbiAgICBhd2FpdCBzaG91bGQoYWNjb3VudC5nZXRFeHBlcnRBZHZpc29yKCdlYScpKS5yZWplY3RlZCgpO1xuICAgIGF3YWl0IHNob3VsZChhY2NvdW50LmNyZWF0ZUV4cGVydEFkdmlzb3IoJ2VhJywgbmV3RXhwZXJ0QWR2aXNvcikpLnJlamVjdGVkKCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjZ2V0RXhwZXJ0QWR2aXNvcn1cbiAgICovXG4gIGl0KCdzaG91bGQgdmFsaWRhdGUgYWNjb3VudCB0eXBlJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRBY2NvdW50JykucmVzb2x2ZXMoe19pZDogJ2lkJywgdmVyc2lvbjogNCwgdHlwZTogJ2Nsb3VkLWcyJ30pO1xuICAgIHNhbmRib3guc3R1YihlYUNsaWVudCwgJ2dldEV4cGVydEFkdmlzb3JzJykucmVzb2x2ZXMoW3tcbiAgICAgIGV4cGVydElkOiAnZWEnLFxuICAgICAgcGVyaW9kOiAnMUgnLFxuICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgIGZpbGVVcGxvYWRlZDogZmFsc2VcbiAgICB9XSk7XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAnZ2V0RXhwZXJ0QWR2aXNvcicpLnJlc29sdmVzKHtcbiAgICAgIGV4cGVydElkOiAnZWEnLFxuICAgICAgcGVyaW9kOiAnMUgnLFxuICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgIGZpbGVVcGxvYWRlZDogZmFsc2VcbiAgICB9KTtcbiAgICBzYW5kYm94LnN0dWIoZWFDbGllbnQsICd1cGRhdGVFeHBlcnRBZHZpc29yJykucmVzb2x2ZXMoKTtcbiAgICBsZXQgbmV3RXhwZXJ0QWR2aXNvciA9IHtcbiAgICAgIHBlcmlvZDogJzFIJyxcbiAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICBwcmVzZXQ6ICdwcmVzZXQnXG4gICAgfTtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgYXdhaXQgc2hvdWxkKGFjY291bnQuZ2V0RXhwZXJ0QWR2aXNvcnMoKSkucmVqZWN0ZWQoKTtcbiAgICBhd2FpdCBzaG91bGQoYWNjb3VudC5nZXRFeHBlcnRBZHZpc29yKCdlYScpKS5yZWplY3RlZCgpO1xuICAgIGF3YWl0IHNob3VsZChhY2NvdW50LmNyZWF0ZUV4cGVydEFkdmlzb3IoJ2VhJywgbmV3RXhwZXJ0QWR2aXNvcikpLnJlamVjdGVkKCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjY3JlYXRlRXhwZXJ0QWR2aXNvcn1cbiAgICovXG4gIGl0KCdzaG91bGQgY3JlYXRlIGV4cGVydCBhZHZpc29yJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRBY2NvdW50JykucmVzb2x2ZXMoe19pZDogJ2lkJywgdmVyc2lvbjogNCwgdHlwZTogJ2Nsb3VkLWcxJ30pO1xuICAgIHNhbmRib3guc3R1YihlYUNsaWVudCwgJ3VwZGF0ZUV4cGVydEFkdmlzb3InKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihlYUNsaWVudCwgJ2dldEV4cGVydEFkdmlzb3InKS5yZXNvbHZlcyh7XG4gICAgICBleHBlcnRJZDogJ2VhJyxcbiAgICAgIHBlcmlvZDogJzFIJyxcbiAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICBmaWxlVXBsb2FkZWQ6IGZhbHNlXG4gICAgfSk7XG4gICAgbGV0IG5ld0V4cGVydEFkdmlzb3IgPSB7XG4gICAgICBwZXJpb2Q6ICcxSCcsXG4gICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgcHJlc2V0OiAncHJlc2V0J1xuICAgIH07XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgIGNvbnN0IGV4cGVydCA9IGF3YWl0IGFjY291bnQuY3JlYXRlRXhwZXJ0QWR2aXNvcignZWEnLCBuZXdFeHBlcnRBZHZpc29yKTtcbiAgICBleHBlcnQuZXhwZXJ0SWQuc2hvdWxkLm1hdGNoKCdlYScpO1xuICAgIGV4cGVydC5wZXJpb2Quc2hvdWxkLm1hdGNoKCcxSCcpO1xuICAgIGV4cGVydC5zeW1ib2wuc2hvdWxkLm1hdGNoKCdFVVJVU0QnKTtcbiAgICBleHBlcnQuZmlsZVVwbG9hZGVkLnNob3VsZC5iZS5mYWxzZSgpO1xuICAgIChleHBlcnQgaW5zdGFuY2VvZiBFeHBlcnRBZHZpc29yKS5zaG91bGQuYmUudHJ1ZSgpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGVhQ2xpZW50LnVwZGF0ZUV4cGVydEFkdmlzb3IsICdpZCcsICdlYScsIG5ld0V4cGVydEFkdmlzb3IpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGVhQ2xpZW50LmdldEV4cGVydEFkdmlzb3IsICdpZCcsICdlYScpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge0V4cGVydEFkdmlzb3IjcmVsb2FkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZWxvYWQgZXhwZXJ0IGFkdmlzb3InLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnQnKS5yZXNvbHZlcyh7X2lkOiAnaWQnLCB2ZXJzaW9uOiA0LCB0eXBlOiAnY2xvdWQtZzEnfSk7XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAnZ2V0RXhwZXJ0QWR2aXNvcicpXG4gICAgICAub25GaXJzdENhbGwoKS5yZXNvbHZlcyh7XG4gICAgICAgIGV4cGVydElkOiAnZWEnLFxuICAgICAgICBwZXJpb2Q6ICcxSCcsXG4gICAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICAgIGZpbGVVcGxvYWRlZDogZmFsc2VcbiAgICAgIH0pXG4gICAgICAub25TZWNvbmRDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBleHBlcnRJZDogJ2VhJyxcbiAgICAgICAgcGVyaW9kOiAnNEgnLFxuICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICBmaWxlVXBsb2FkZWQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgY29uc3QgZXhwZXJ0ID0gYXdhaXQgYWNjb3VudC5nZXRFeHBlcnRBZHZpc29yKCdlYScpO1xuICAgIGF3YWl0IGV4cGVydC5yZWxvYWQoKTtcbiAgICBleHBlcnQucGVyaW9kLnNob3VsZC5lcWwoJzRIJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoZWFDbGllbnQuZ2V0RXhwZXJ0QWR2aXNvciwgJ2lkJywgJ2VhJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFR3aWNlKGVhQ2xpZW50LmdldEV4cGVydEFkdmlzb3IpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge0V4cGVydEFkdmlzb3IjdXBkYXRlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB1cGRhdGUgZXhwZXJ0IGFkdmlzb3InLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnQnKS5yZXNvbHZlcyh7X2lkOiAnaWQnLCB2ZXJzaW9uOiA0LCB0eXBlOiAnY2xvdWQtZzEnfSk7XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAnZ2V0RXhwZXJ0QWR2aXNvcicpXG4gICAgICAub25GaXJzdENhbGwoKS5yZXNvbHZlcyh7XG4gICAgICAgIGV4cGVydElkOiAnZWEnLFxuICAgICAgICBwZXJpb2Q6ICcxSCcsXG4gICAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICAgIGZpbGVVcGxvYWRlZDogZmFsc2VcbiAgICAgIH0pXG4gICAgICAub25TZWNvbmRDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBleHBlcnRJZDogJ2VhJyxcbiAgICAgICAgcGVyaW9kOiAnNEgnLFxuICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICBmaWxlVXBsb2FkZWQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICBsZXQgbmV3RXhwZXJ0QWR2aXNvciA9IHtcbiAgICAgIHBlcmlvZDogJzRIJyxcbiAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICBwcmVzZXQ6ICdwcmVzZXQnXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoZWFDbGllbnQsICd1cGRhdGVFeHBlcnRBZHZpc29yJykucmVzb2x2ZXMoKTtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgY29uc3QgZXhwZXJ0ID0gYXdhaXQgYWNjb3VudC5nZXRFeHBlcnRBZHZpc29yKCdlYScpO1xuICAgIGF3YWl0IGV4cGVydC51cGRhdGUobmV3RXhwZXJ0QWR2aXNvcik7XG4gICAgZXhwZXJ0LnBlcmlvZC5zaG91bGQuZXFsKCc0SCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGVhQ2xpZW50LnVwZGF0ZUV4cGVydEFkdmlzb3IsICdpZCcsICdlYScsIG5ld0V4cGVydEFkdmlzb3IpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUd2ljZShlYUNsaWVudC5nZXRFeHBlcnRBZHZpc29yKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChlYUNsaWVudC5nZXRFeHBlcnRBZHZpc29yLCAnaWQnLCAnZWEnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtFeHBlcnRBZHZpc29yI3VwbG9hZEZpbGV9XG4gICAqL1xuICBpdCgnc2hvdWxkIHVwbG9hZCBleHBlcnQgYWR2aXNvciBmaWxlJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRBY2NvdW50JykucmVzb2x2ZXMoe19pZDogJ2lkJywgdmVyc2lvbjogNCwgdHlwZTogJ2Nsb3VkLWcxJ30pO1xuICAgIHNhbmRib3guc3R1YihlYUNsaWVudCwgJ2dldEV4cGVydEFkdmlzb3InKVxuICAgICAgLm9uRmlyc3RDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBleHBlcnRJZDogJ2VhJyxcbiAgICAgICAgcGVyaW9kOiAnMUgnLFxuICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICBmaWxlVXBsb2FkZWQ6IGZhbHNlXG4gICAgICB9KVxuICAgICAgLm9uU2Vjb25kQ2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgZXhwZXJ0SWQ6ICdlYScsXG4gICAgICAgIHBlcmlvZDogJzRIJyxcbiAgICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgICAgZmlsZVVwbG9hZGVkOiB0cnVlXG4gICAgICB9KTtcbiAgICBzYW5kYm94LnN0dWIoZWFDbGllbnQsICd1cGxvYWRFeHBlcnRBZHZpc29yRmlsZScpLnJlc29sdmVzKCk7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgIGNvbnN0IGV4cGVydCA9IGF3YWl0IGFjY291bnQuZ2V0RXhwZXJ0QWR2aXNvcignZWEnKTtcbiAgICBhd2FpdCBleHBlcnQudXBsb2FkRmlsZSgnL3BhdGgvdG8vZmlsZScpO1xuICAgIGV4cGVydC5maWxlVXBsb2FkZWQuc2hvdWxkLmJlLnRydWUoKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChlYUNsaWVudC51cGxvYWRFeHBlcnRBZHZpc29yRmlsZSwgJ2lkJywgJ2VhJywgJy9wYXRoL3RvL2ZpbGUnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVHdpY2UoZWFDbGllbnQuZ2V0RXhwZXJ0QWR2aXNvcik7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoZWFDbGllbnQuZ2V0RXhwZXJ0QWR2aXNvciwgJ2lkJywgJ2VhJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7RXhwZXJ0QWR2aXNvciNyZW1vdmV9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJlbW92ZSBleHBlcnQgYWR2aXNvcicsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0QWNjb3VudCcpLnJlc29sdmVzKHtfaWQ6ICdpZCcsIHZlcnNpb246IDQsIHR5cGU6ICdjbG91ZC1nMSd9KTtcbiAgICBzYW5kYm94LnN0dWIoZWFDbGllbnQsICdnZXRFeHBlcnRBZHZpc29yJykucmVzb2x2ZXMoe1xuICAgICAgZXhwZXJ0SWQ6ICdlYScsXG4gICAgICBwZXJpb2Q6ICcxSCcsXG4gICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgZmlsZVVwbG9hZGVkOiBmYWxzZVxuICAgIH0pO1xuICAgIHNhbmRib3guc3R1YihlYUNsaWVudCwgJ2RlbGV0ZUV4cGVydEFkdmlzb3InKS5yZXNvbHZlcyh7X2lkOiAnaWQnfSk7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgIGNvbnN0IGV4cGVydCA9IGF3YWl0IGFjY291bnQuZ2V0RXhwZXJ0QWR2aXNvcignZWEnKTtcbiAgICBhd2FpdCBleHBlcnQucmVtb3ZlKCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoZWFDbGllbnQuZGVsZXRlRXhwZXJ0QWR2aXNvciwgJ2lkJywgJ2VhJyk7XG4gIH0pO1xuXG59KTtcbiJdfQ==