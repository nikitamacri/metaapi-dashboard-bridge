'use strict';

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

var _should = require('should');

var _should2 = _interopRequireDefault(_should);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _metaApiConnection = require('./metaApiConnection');

var _metaApiConnection2 = _interopRequireDefault(_metaApiConnection);

var _notSynchronizedError = require('../clients/metaApi/notSynchronizedError');

var _notSynchronizedError2 = _interopRequireDefault(_notSynchronizedError);

var _randomstring = require('randomstring');

var _randomstring2 = _interopRequireDefault(_randomstring);

var _index = require('./historyFileManager/index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @test {MetaApiConnection}
 */
// eslint-disable-next-line max-statements
describe('MetaApiConnection', () => {

  let sandbox;
  let api;
  let account;
  let clock;
  let client = {
    getAccountInformation: () => {},
    getPositions: () => {},
    getPosition: () => {},
    getOrders: () => {},
    getOrder: () => {},
    getHistoryOrdersByTicket: () => {},
    getHistoryOrdersByPosition: () => {},
    getHistoryOrdersByTimeRange: () => {},
    getDealsByTicket: () => {},
    getDealsByPosition: () => {},
    getDealsByTimeRange: () => {},
    removeHistory: () => {},
    removeApplication: () => {},
    trade: () => {},
    reconnect: () => {},
    synchronize: () => true,
    ensureSubscribe: () => {},
    subscribeToMarketData: () => {},
    unsubscribeFromMarketData: () => {},
    addSynchronizationListener: () => {},
    addReconnectListener: () => {},
    removeSynchronizationListener: () => {},
    removeReconnectListener: () => {},
    getSymbols: () => {},
    getSymbolSpecification: () => {},
    getSymbolPrice: () => {},
    getCandle: () => {},
    getTick: () => {},
    getBook: () => {},
    saveUptime: () => {},
    waitSynchronized: () => {},
    unsubscribe: () => {},
    refreshMarketDataSubscriptions: () => {}
  };
  const emptyHash = 'd41d8cd98f00b204e9800998ecf8427e';

  let connectionRegistry = {
    connect: () => {},
    remove: () => {},
    application: 'MetaApi'
  };

  before(() => {
    sandbox = _sinon2.default.createSandbox();
  });

  beforeEach(() => {
    account = {
      id: 'accountId',
      state: 'DEPLOYED',
      reload: () => {}
    };
    sandbox.stub(_index2.default.prototype, 'startUpdateJob').returns();
    api = new _metaApiConnection2.default(client, account, undefined, connectionRegistry, 0, {
      minDelayInSeconds: 1,
      maxDelayInSeconds: 1
    });
    clock = _sinon2.default.useFakeTimers({
      shouldAdvanceTime: true
    });
  });

  afterEach(() => {
    clock.restore();
    sandbox.restore();
  });

  /**
   * @test {MetaApiConnection#getAccountInformation}
   */
  it('should retrieve account information', async () => {
    let accountInformation = {
      broker: 'True ECN Trading Ltd',
      currency: 'USD',
      server: 'ICMarketsSC-Demo',
      balance: 7319.9,
      equity: 7306.649913200001,
      margin: 184.1,
      freeMargin: 7120.22,
      leverage: 100,
      marginLevel: 3967.58283542
    };
    sandbox.stub(client, 'getAccountInformation').resolves(accountInformation);
    let actual = await api.getAccountInformation();
    actual.should.match(accountInformation);
    _sinon2.default.assert.calledWith(client.getAccountInformation, 'accountId');
  });

  /**
   * @test {MetaApiConnection#getPositions}
   */
  it('should retrieve positions', async () => {
    let positions = [{
      id: '46214692',
      type: 'POSITION_TYPE_BUY',
      symbol: 'GBPUSD',
      magic: 1000,
      time: new Date('2020-04-15T02:45:06.521Z'),
      updateTime: new Date('2020-04-15T02:45:06.521Z'),
      openPrice: 1.26101,
      currentPrice: 1.24883,
      currentTickValue: 1,
      volume: 0.07,
      swap: 0,
      profit: -85.25999999999966,
      commission: -0.25,
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      stopLoss: 1.17721,
      unrealizedProfit: -85.25999999999901,
      realizedProfit: -6.536993168992922e-13
    }];
    sandbox.stub(client, 'getPositions').resolves(positions);
    let actual = await api.getPositions();
    actual.should.match(positions);
    _sinon2.default.assert.calledWith(client.getPositions, 'accountId');
  });

  /**
   * @test {MetaApiConnection#getPosition}
   */
  it('should retrieve position by id', async () => {
    let position = {
      id: '46214692',
      type: 'POSITION_TYPE_BUY',
      symbol: 'GBPUSD',
      magic: 1000,
      time: new Date('2020-04-15T02:45:06.521Z'),
      updateTime: new Date('2020-04-15T02:45:06.521Z'),
      openPrice: 1.26101,
      currentPrice: 1.24883,
      currentTickValue: 1,
      volume: 0.07,
      swap: 0,
      profit: -85.25999999999966,
      commission: -0.25,
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      stopLoss: 1.17721,
      unrealizedProfit: -85.25999999999901,
      realizedProfit: -6.536993168992922e-13
    };
    sandbox.stub(client, 'getPosition').resolves(position);
    let actual = await api.getPosition('46214692');
    actual.should.match(position);
    _sinon2.default.assert.calledWith(client.getPosition, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getOrders}
   */
  it('should retrieve orders', async () => {
    let orders = [{
      id: '46871284',
      type: 'ORDER_TYPE_BUY_LIMIT',
      state: 'ORDER_STATE_PLACED',
      symbol: 'AUDNZD',
      magic: 123456,
      platform: 'mt5',
      time: new Date('2020-04-20T08:38:58.270Z'),
      openPrice: 1.03,
      currentPrice: 1.05206,
      volume: 0.01,
      currentVolume: 0.01,
      comment: 'COMMENT2'
    }];
    sandbox.stub(client, 'getOrders').resolves(orders);
    let actual = await api.getOrders();
    actual.should.match(orders);
    _sinon2.default.assert.calledWith(client.getOrders, 'accountId');
  });

  /**
   * @test {MetaApiConnection#getOrder}
   */
  it('should retrieve order by id', async () => {
    let order = {
      id: '46871284',
      type: 'ORDER_TYPE_BUY_LIMIT',
      state: 'ORDER_STATE_PLACED',
      symbol: 'AUDNZD',
      magic: 123456,
      platform: 'mt5',
      time: new Date('2020-04-20T08:38:58.270Z'),
      openPrice: 1.03,
      currentPrice: 1.05206,
      volume: 0.01,
      currentVolume: 0.01,
      comment: 'COMMENT2'
    };
    sandbox.stub(client, 'getOrder').resolves(order);
    let actual = await api.getOrder('46871284');
    actual.should.match(order);
    _sinon2.default.assert.calledWith(client.getOrder, 'accountId', '46871284');
  });

  /**
   * @test {MetaApiConnection#getHistoryOrdersByTicket}
   */
  it('should retrieve history orders by ticket', async () => {
    let historyOrders = {
      historyOrders: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        currentPrice: 1.261,
        currentVolume: 0,
        doneTime: new Date('2020-04-15T02:45:06.521Z'),
        id: '46214692',
        magic: 1000,
        platform: 'mt5',
        positionId: '46214692',
        state: 'ORDER_STATE_FILLED',
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.260Z'),
        type: 'ORDER_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getHistoryOrdersByTicket').resolves(historyOrders);
    let actual = await api.getHistoryOrdersByTicket('46214692');
    actual.should.match(historyOrders);
    _sinon2.default.assert.calledWith(client.getHistoryOrdersByTicket, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getHistoryOrdersByPosition}
   */
  it('should retrieve history orders by position', async () => {
    let historyOrders = {
      historyOrders: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        currentPrice: 1.261,
        currentVolume: 0,
        doneTime: new Date('2020-04-15T02:45:06.521Z'),
        id: '46214692',
        magic: 1000,
        platform: 'mt5',
        positionId: '46214692',
        state: 'ORDER_STATE_FILLED',
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.260Z'),
        type: 'ORDER_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getHistoryOrdersByPosition').resolves(historyOrders);
    let actual = await api.getHistoryOrdersByPosition('46214692');
    actual.should.match(historyOrders);
    _sinon2.default.assert.calledWith(client.getHistoryOrdersByPosition, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getHistoryOrdersByTimeRange}
   */
  it('should retrieve history orders by time range', async () => {
    let historyOrders = {
      historyOrders: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        currentPrice: 1.261,
        currentVolume: 0,
        doneTime: new Date('2020-04-15T02:45:06.521Z'),
        id: '46214692',
        magic: 1000,
        platform: 'mt5',
        positionId: '46214692',
        state: 'ORDER_STATE_FILLED',
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.260Z'),
        type: 'ORDER_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getHistoryOrdersByTimeRange').resolves(historyOrders);
    let startTime = new Date(Date.now() - 1000);
    let endTime = new Date();
    let actual = await api.getHistoryOrdersByTimeRange(startTime, endTime, 1, 100);
    actual.should.match(historyOrders);
    _sinon2.default.assert.calledWith(client.getHistoryOrdersByTimeRange, 'accountId', startTime, endTime, 1, 100);
  });

  /**
   * @test {MetaApiConnection#getDealsByTicket}
   */
  it('should retrieve history deals by ticket', async () => {
    let deals = {
      deals: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        commission: -0.25,
        entryType: 'DEAL_ENTRY_IN',
        id: '33230099',
        magic: 1000,
        platform: 'mt5',
        orderId: '46214692',
        positionId: '46214692',
        price: 1.26101,
        profit: 0,
        swap: 0,
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.521Z'),
        type: 'DEAL_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getDealsByTicket').resolves(deals);
    let actual = await api.getDealsByTicket('46214692');
    actual.should.match(deals);
    _sinon2.default.assert.calledWith(client.getDealsByTicket, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getDealsByPosition}
   */
  it('should retrieve history deals by position', async () => {
    let deals = {
      deals: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        commission: -0.25,
        entryType: 'DEAL_ENTRY_IN',
        id: '33230099',
        magic: 1000,
        platform: 'mt5',
        orderId: '46214692',
        positionId: '46214692',
        price: 1.26101,
        profit: 0,
        swap: 0,
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.521Z'),
        type: 'DEAL_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getDealsByPosition').resolves(deals);
    let actual = await api.getDealsByPosition('46214692');
    actual.should.match(deals);
    _sinon2.default.assert.calledWith(client.getDealsByPosition, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getDealsByTimeRange}
   */
  it('should retrieve history deals by time range', async () => {
    let deals = {
      deals: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        commission: -0.25,
        entryType: 'DEAL_ENTRY_IN',
        id: '33230099',
        magic: 1000,
        platform: 'mt5',
        orderId: '46214692',
        positionId: '46214692',
        price: 1.26101,
        profit: 0,
        swap: 0,
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.521Z'),
        type: 'DEAL_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getDealsByTimeRange').resolves(deals);
    let startTime = new Date(Date.now() - 1000);
    let endTime = new Date();
    let actual = await api.getDealsByTimeRange(startTime, endTime, 1, 100);
    actual.should.match(deals);
    _sinon2.default.assert.calledWith(client.getDealsByTimeRange, 'accountId', startTime, endTime, 1, 100);
  });

  /**
   * @test {MetaApiConnection#removeHistory}
   */
  it('should remove history', async () => {
    sandbox.stub(client, 'removeHistory').resolves();
    sandbox.stub(api.historyStorage, 'clear').resolves();
    await api.removeHistory('app');
    _sinon2.default.assert.calledWith(client.removeHistory, 'accountId', 'app');
    _sinon2.default.assert.calledOnce(api.historyStorage.clear);
  });

  /**
   * @test {MetaApiConnection#removeApplication}
   */
  it('should remove application', async () => {
    sandbox.stub(client, 'removeApplication').resolves();
    sandbox.stub(api.historyStorage, 'clear').resolves();
    await api.removeApplication();
    _sinon2.default.assert.calledWith(client.removeApplication, 'accountId');
    _sinon2.default.assert.calledOnce(api.historyStorage.clear);
  });

  /**
   * @test {MetaApiConnection#createMarketBuyOrder}
   */
  it('should create market buy order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createMarketBuyOrder('GBPUSD', 0.07, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY', symbol: 'GBPUSD',
      volume: 0.07, stopLoss: 0.9, takeProfit: 2.0, comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createMarketBuyOrder}
   */
  it('should create market buy order with relative SL/TP', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createMarketBuyOrder('GBPUSD', 0.07, { value: 0.1, units: 'RELATIVE_PRICE' }, { value: 2000, units: 'RELATIVE_POINTS' }, { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY', symbol: 'GBPUSD',
      volume: 0.07, stopLoss: 0.1, stopLossUnits: 'RELATIVE_PRICE', takeProfit: 2000,
      takeProfitUnits: 'RELATIVE_POINTS', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createMarketSellOrder}
   */
  it('should create market sell order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createMarketSellOrder('GBPUSD', 0.07, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL', symbol: 'GBPUSD',
      volume: 0.07, stopLoss: 2.0, takeProfit: 0.9, comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createLimitBuyOrder}
   */
  it('should create limit buy order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createLimitBuyOrder('GBPUSD', 0.07, 1.0, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.0, stopLoss: 0.9, takeProfit: 2.0, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createLimitSellOrder}
   */
  it('should create limit sell order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createLimitSellOrder('GBPUSD', 0.07, 1.5, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.5, stopLoss: 2.0, takeProfit: 0.9, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createStopBuyOrder}
   */
  it('should create stop buy order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopBuyOrder('GBPUSD', 0.07, 1.5, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY_STOP',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.5, stopLoss: 0.9, takeProfit: 2.0, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createStopSellOrder}
   */
  it('should create stop sell order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopSellOrder('GBPUSD', 0.07, 1.0, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL_STOP',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.0, stopLoss: 2.0, takeProfit: 0.9, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createStopLimitBuyOrder}
   */
  it('should create stop limit buy order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopLimitBuyOrder('GBPUSD', 0.07, 1.5, 1.4, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY_STOP_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.5, stopLimitPrice: 1.4, stopLoss: 0.9, takeProfit: 2.0,
      comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createStopLimitSellOrder}
   */
  it('should create stop limit sell order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopLimitSellOrder('GBPUSD', 0.07, 1.0, 1.1, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL_STOP_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.0, stopLimitPrice: 1.1, stopLoss: 2.0, takeProfit: 0.9,
      comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#modifyPosition}
   */
  it('should modify position', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.modifyPosition('46870472', 2.0, 0.9);
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_MODIFY',
      positionId: '46870472', stopLoss: 2.0, takeProfit: 0.9 }));
  });

  /**
   * @test {MetaApiConnection#closePositionPartially}
   */
  it('should close position partially', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closePositionPartially('46870472', 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_PARTIAL',
      positionId: '46870472', volume: 0.9, comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#closePosition}
   */
  it('should close position', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closePosition('46870472', { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_CLOSE_ID',
      positionId: '46870472', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#closeBy}
   */
  it('should close position by an opposite one', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472',
      closeByPositionId: '46870482'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closeBy('46870472', '46870482', { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_CLOSE_BY',
      positionId: '46870472', closeByPositionId: '46870482', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#closePositionsBySymbol}
   */
  it('should close positions by symbol', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closePositionsBySymbol('EURUSD', { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITIONS_CLOSE_SYMBOL',
      symbol: 'EURUSD', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#modifyOrder}
   */
  it('should modify order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.modifyOrder('46870472', 1.0, 2.0, 0.9);
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_MODIFY', orderId: '46870472',
      openPrice: 1.0, stopLoss: 2.0, takeProfit: 0.9 }));
  });

  /**
   * @test {MetaApiConnection#cancelOrder}
   */
  it('should cancel order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.cancelOrder('46870472');
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_CANCEL', orderId: '46870472' }));
  });

  /**
   * @test {MetaApiConnection#reconnect}
   */
  it('should reconnect terminal', async () => {
    sandbox.stub(client, 'reconnect').resolves();
    await api.reconnect();
    _sinon2.default.assert.calledWith(client.reconnect, 'accountId');
  });

  /**
   * @test {MetaApiConnection#subscribe}
   */
  describe('ensure subscribe', () => {

    /**
     * @test {MetaApiConnection#subscribe}
     */
    it('should subscribe to terminal', async () => {
      sandbox.stub(client, 'ensureSubscribe').resolves();
      await api.subscribe();
      _sinon2.default.assert.calledWith(client.ensureSubscribe, 'accountId');
    });
  });

  /**
   * @test {MetaApiConnection#synchronize}
   */
  it('should not subscribe if connection is closed', async () => {
    const ensureSubscribeStub = sandbox.stub(client, 'ensureSubscribe').resolves();
    await api.close();
    await api.subscribe();
    _sinon2.default.assert.notCalled(ensureSubscribeStub);
  });

  /**
   * @test {MetaApiConnection#synchronize}
   */
  it('should synchronize state with terminal', async () => {
    sandbox.stub(client, 'synchronize').resolves();
    sandbox.stub(_randomstring2.default, 'generate').returns('synchronizationId');
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    api.historyStorage.onHistoryOrderAdded('1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    api.historyStorage.onDealAdded('1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.synchronize('1:ps-mpa-1');
    _sinon2.default.assert.calledWith(client.synchronize, 'accountId', 1, 'ps-mpa-1', 'synchronizationId', new Date('2020-01-01T00:00:00.000Z'), new Date('2020-01-02T00:00:00.000Z'), emptyHash, emptyHash, emptyHash);
  });

  /**
   * @test {MetaApiConnection#synchronize}
   */
  it('should synchronize state with terminal from specified time', async () => {
    sandbox.stub(client, 'synchronize').resolves();
    sandbox.stub(_randomstring2.default, 'generate').returns('synchronizationId');
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry, new Date('2020-10-07T00:00:00.000Z'));
    api.historyStorage.onHistoryOrderAdded('1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    api.historyStorage.onDealAdded('1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.synchronize('1:ps-mpa-1');
    _sinon2.default.assert.calledWith(client.synchronize, 'accountId', 1, 'ps-mpa-1', 'synchronizationId', new Date('2020-10-07T00:00:00.000Z'), new Date('2020-10-07T00:00:00.000Z'), emptyHash, emptyHash, emptyHash);
  });

  /**
   * @test {MetaApiConnection#subscribeToMarketData}
   */
  it('should subscribe to market data', async () => {
    sandbox.stub(client, 'subscribeToMarketData').resolves();
    let promise = api.subscribeToMarketData('EURUSD', undefined, 1);
    api.terminalState.onSymbolPricesUpdated('1:ps-mpa-1', [{ time: new Date(), symbol: 'EURUSD', bid: 1, ask: 1.1 }]);
    await promise;
    _sinon2.default.assert.calledWith(client.subscribeToMarketData, 'accountId', 1, 'EURUSD', [{ type: 'quotes' }]);
    _sinon2.default.assert.match(api.subscriptions('EURUSD'), [{ type: 'quotes' }]);
    await api.subscribeToMarketData('EURUSD', [{ type: 'books' }, { type: 'candles', timeframe: '1m' }], 1);
    _sinon2.default.assert.match(api.subscriptions('EURUSD'), [{ type: 'quotes' }, { type: 'books' }, { type: 'candles', timeframe: '1m' }]);
    await api.subscribeToMarketData('EURUSD', [{ type: 'quotes' }, { type: 'candles', timeframe: '5m' }], 1);
    _sinon2.default.assert.match(api.subscriptions('EURUSD'), [{ type: 'quotes' }, { type: 'books' }, { type: 'candles', timeframe: '1m' }, { type: 'candles', timeframe: '5m' }]);
  });

  /**
   * @test {MetaApiConnection#unsubscribeFromMarketData}
   */
  it('should unsubscribe from market data', async () => {
    await api.terminalState.onSymbolPricesUpdated('1:ps-mpa-1', [{ time: new Date(), symbol: 'EURUSD', bid: 1, ask: 1.1 }]);
    sandbox.stub(client, 'unsubscribeFromMarketData').resolves();
    await api.unsubscribeFromMarketData('EURUSD', [{ type: 'quotes' }], 1);
    _sinon2.default.assert.calledWith(client.unsubscribeFromMarketData, 'accountId', 1, 'EURUSD', [{ type: 'quotes' }]);
    await api.subscribeToMarketData('EURUSD', [{ type: 'quotes' }, { type: 'books' }, { type: 'candles', timeframe: '1m' }, { type: 'candles', timeframe: '5m' }], 1);
    _sinon2.default.assert.match(api.subscriptions('EURUSD'), [{ type: 'quotes' }, { type: 'books' }, { type: 'candles', timeframe: '1m' }, { type: 'candles', timeframe: '5m' }]);
    await api.unsubscribeFromMarketData('EURUSD', [{ type: 'quotes' }, { type: 'candles', timeframe: '5m' }], 1);
    _sinon2.default.assert.match(api.subscriptions('EURUSD'), [{ type: 'books' }, { type: 'candles', timeframe: '1m' }]);
  });

  describe('onSubscriptionDowngrade', () => {

    /**
     * @test {MetaApiConnection#onSubscriptionDowngrade}
     */
    it('should unsubscribe during market data subscription downgrade', async () => {
      sandbox.stub(api, 'subscribeToMarketData').resolves();
      sandbox.stub(api, 'unsubscribeFromMarketData').resolves();
      await api.onSubscriptionDowngraded('1:ps-mpa-1', 'EURUSD', undefined, [{ type: 'ticks' }, { type: 'books' }]);
      _sinon2.default.assert.calledWith(api.unsubscribeFromMarketData, 'EURUSD', [{ type: 'ticks' }, { type: 'books' }]);
      _sinon2.default.assert.notCalled(api.subscribeToMarketData);
    });

    /**
     * @test {MetaApiConnection#onSubscriptionDowngrade}
     */
    it('should update market data subscription on downgrade', async () => {
      sandbox.stub(api, 'subscribeToMarketData').resolves();
      sandbox.stub(api, 'unsubscribeFromMarketData').resolves();
      await api.onSubscriptionDowngraded('1:ps-mpa-1', 'EURUSD', [{ type: 'quotes', intervalInMilliseconds: 30000 }]);
      _sinon2.default.assert.calledWith(api.subscribeToMarketData, 'EURUSD', [{ type: 'quotes', intervalInMilliseconds: 30000 }]);
      _sinon2.default.assert.notCalled(api.unsubscribeFromMarketData);
    });
  });

  /**
   * @test {MetaApiConnection#getSymbols}
   */
  it('should retrieve symbols', async () => {
    let symbols = ['EURUSD'];
    sandbox.stub(client, 'getSymbols').resolves(symbols);
    let actual = await api.getSymbols();
    actual.should.match(symbols);
    _sinon2.default.assert.calledWith(client.getSymbols, 'accountId');
  });

  /**
   * @test {MetaApiConnection#getSymbolSpecification}
   */
  it('should retrieve symbol specification', async () => {
    let specification = {
      symbol: 'AUDNZD',
      tickSize: 0.00001,
      minVolume: 0.01,
      maxVolume: 100,
      volumeStep: 0.01
    };
    sandbox.stub(client, 'getSymbolSpecification').resolves(specification);
    let actual = await api.getSymbolSpecification('AUDNZD');
    actual.should.match(specification);
    _sinon2.default.assert.calledWith(client.getSymbolSpecification, 'accountId', 'AUDNZD');
  });

  /**
   * @test {MetaApiConnection#getSymbolPrice}
   */
  it('should retrieve symbol price', async () => {
    let price = {
      symbol: 'AUDNZD',
      bid: 1.05297,
      ask: 1.05309,
      profitTickValue: 0.59731,
      lossTickValue: 0.59736
    };
    sandbox.stub(client, 'getSymbolPrice').resolves(price);
    let actual = await api.getSymbolPrice('AUDNZD');
    actual.should.match(price);
    _sinon2.default.assert.calledWith(client.getSymbolPrice, 'accountId', 'AUDNZD');
  });

  /**
   * @test {MetaApiConnection#getCandle}
   */
  it('should retrieve current candle', async () => {
    let candle = {
      symbol: 'AUDNZD',
      timeframe: '15m',
      time: new Date('2020-04-07T03:45:00.000Z'),
      brokerTime: '2020-04-07 06:45:00.000',
      open: 1.03297,
      high: 1.06309,
      low: 1.02705,
      close: 1.043,
      tickVolume: 1435,
      spread: 17,
      volume: 345
    };
    sandbox.stub(client, 'getCandle').resolves(candle);
    let actual = await api.getCandle('AUDNZD', '15m');
    actual.should.match(candle);
    _sinon2.default.assert.calledWith(client.getCandle, 'accountId', 'AUDNZD', '15m');
  });

  /**
   * @test {MetaApiConnection#getTick}
   */
  it('should retrieve latest tick', async () => {
    let tick = {
      symbol: 'AUDNZD',
      time: new Date('2020-04-07T03:45:00.000Z'),
      brokerTime: '2020-04-07 06:45:00.000',
      bid: 1.05297,
      ask: 1.05309,
      last: 0.5298,
      volume: 0.13,
      side: 'buy'
    };
    sandbox.stub(client, 'getTick').resolves(tick);
    let actual = await api.getTick('AUDNZD');
    actual.should.match(tick);
    _sinon2.default.assert.calledWith(client.getTick, 'accountId', 'AUDNZD');
  });

  /**
   * @test {MetaApiConnection#getBook}
   */
  it('should retrieve latest order book', async () => {
    let book = {
      symbol: 'AUDNZD',
      time: new Date('2020-04-07T03:45:00.000Z'),
      brokerTime: '2020-04-07 06:45:00.000',
      book: [{
        type: 'BOOK_TYPE_SELL',
        price: 1.05309,
        volume: 5.67
      }, {
        type: 'BOOK_TYPE_BUY',
        price: 1.05297,
        volume: 3.45
      }]
    };
    sandbox.stub(client, 'getBook').resolves(book);
    let actual = await api.getBook('AUDNZD');
    actual.should.match(book);
    _sinon2.default.assert.calledWith(client.getBook, 'accountId', 'AUDNZD');
  });

  /**
   * @test {MetaApiConnection#saveUptime}
   */
  it('should save uptime stats to the server', async () => {
    sandbox.stub(client, 'saveUptime').resolves();
    await api.saveUptime({ '1h': 100 });
    _sinon2.default.assert.calledWith(client.saveUptime, 'accountId', { '1h': 100 });
  });

  /**
   * @test {MetaApiConnection#terminalState}
   * @test {MetaApiConnection#historyStorage}
   */
  it('should initialize listeners, terminal state and history storage for accounts with user synch mode', async () => {
    sandbox.stub(client, 'addSynchronizationListener').returns();
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    _should2.default.exist(api.terminalState);
    _should2.default.exist(api.historyStorage);
    _sinon2.default.assert.calledWith(client.addSynchronizationListener, 'accountId', api);
    _sinon2.default.assert.calledWith(client.addSynchronizationListener, 'accountId', api.terminalState);
    _sinon2.default.assert.calledWith(client.addSynchronizationListener, 'accountId', api.historyStorage);
  });

  /**
   * @test {MetaApiConnection#addSynchronizationListener}
   */
  it('should add synchronization listeners', async () => {
    sandbox.stub(client, 'addSynchronizationListener').returns();
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    let listener = {};
    api.addSynchronizationListener(listener);
    _sinon2.default.assert.calledWith(client.addSynchronizationListener, 'accountId', listener);
  });

  /**
   * @test {MetaApiConnection#removeSynchronizationListener}
   */
  it('should remove synchronization listeners', async () => {
    sandbox.stub(client, 'removeSynchronizationListener').returns();
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    let listener = {};
    api.removeSynchronizationListener(listener);
    _sinon2.default.assert.calledWith(client.removeSynchronizationListener, 'accountId', listener);
  });

  /**
   * @test {MetaApiConnection#onConnected}
   */
  it('should sychronize on connection', async () => {
    sandbox.stub(client, 'synchronize').resolves();
    sandbox.stub(_randomstring2.default, 'generate').returns('synchronizationId');
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    api.historyStorage.onHistoryOrderAdded('1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    api.historyStorage.onDealAdded('1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.onConnected('1:ps-mpa-1', 1);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.calledWith(client.synchronize, 'accountId', 1, 'ps-mpa-1', 'synchronizationId', new Date('2020-01-01T00:00:00.000Z'), new Date('2020-01-02T00:00:00.000Z'), emptyHash, emptyHash, emptyHash);
  });

  /**
   * @test {MetaApiConnection#onConnected}
   */
  it('should maintain synchronization if connection has failed', async () => {
    let stub = sandbox.stub(client, 'synchronize');
    stub.onFirstCall().throws(new Error('test error'));
    stub.onSecondCall().resolves();
    sandbox.stub(_randomstring2.default, 'generate').returns('synchronizationId');
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    await api.historyStorage.onHistoryOrderAdded('1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    await api.historyStorage.onDealAdded('1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.onConnected('1:ps-mpa-1', 1);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.calledWith(client.synchronize, 'accountId', 1, 'ps-mpa-1', 'synchronizationId', new Date('2020-01-01T00:00:00.000Z'), new Date('2020-01-02T00:00:00.000Z'), emptyHash, emptyHash, emptyHash);
  });

  /**
   * @test {MetaApiConnection#onConnected}
   */
  it('should not synchronize if connection is closed', async () => {
    let synchronizeStub = sandbox.stub(client, 'synchronize');
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    await api.historyStorage.onHistoryOrderAdded('1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    await api.historyStorage.onDealAdded('1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.close();
    await api.onConnected('1:ps-mpa-1', 1);
    _sinon2.default.assert.notCalled(synchronizeStub);
  });

  /**
   * @test {MetaApiConnection#onConnected}
   */
  it('should restore market data subscriptions on synchronization', async () => {
    let callCount = 0;
    sandbox.stub(api.terminalState, 'price').callsFake(symbol => {
      callCount++;
      if (callCount === 6) {
        return undefined;
      }
      return { symbol };
    });
    await api.subscribeToMarketData('EURUSD');
    await api.subscribeToMarketData('AUDNZD');
    const subscribeStub = sandbox.stub(client, 'subscribeToMarketData').resolves();
    await api.onAccountInformationUpdated('1:ps-mpa-1', {});
    _sinon2.default.assert.callCount(subscribeStub, 1);
    _sinon2.default.assert.calledWith(subscribeStub, 'accountId', 1, 'AUDNZD');
  });

  /**
   * @test {MetaApiConnection#close}
   */
  it('should unsubscribe from events on close', async () => {
    sandbox.stub(client, 'addSynchronizationListener').returns();
    sandbox.stub(client, 'removeSynchronizationListener').returns();
    sandbox.stub(client, 'unsubscribe').resolves();
    sandbox.stub(connectionRegistry, 'remove').returns();
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    await api.close();
    _sinon2.default.assert.calledWith(client.unsubscribe, 'accountId');
    _sinon2.default.assert.calledWith(client.removeSynchronizationListener, 'accountId', api);
    _sinon2.default.assert.calledWith(client.removeSynchronizationListener, 'accountId', api.terminalState);
    _sinon2.default.assert.calledWith(client.removeSynchronizationListener, 'accountId', api.historyStorage);
    _sinon2.default.assert.calledWith(connectionRegistry.remove, 'accountId');
  });

  describe('waitSynchronized', () => {

    /**
     * @test {MetaApiConnection#waitSynchronized}
     */
    it('should wait util synchronization complete', async () => {
      sandbox.stub(client, 'waitSynchronized').resolves();
      _sinon2.default.assert.match((await api.isSynchronized('1:ps-mpa-1')), false);
      (await api.isSynchronized()).should.equal(false);
      let promise = api.waitSynchronized({ applicationPattern: 'app.*', synchronizationId: 'synchronizationId',
        timeoutInSeconds: 1, intervalInMilliseconds: 10 });
      let startTime = Date.now();
      await _promise2.default.race([promise, new _promise2.default(res => setTimeout(res, 50))]);
      (Date.now() - startTime).should.be.approximately(50, 10);
      api.onHistoryOrdersSynchronized('1:ps-mpa-1', 'synchronizationId');
      api.onDealsSynchronized('1:ps-mpa-1', 'synchronizationId');
      startTime = Date.now();
      await promise;
      (Date.now() - startTime).should.be.approximately(10, 10);
      (await api.isSynchronized('1:ps-mpa-1', 'synchronizationId')).should.equal(true);
    });

    /**
     * @test {MetaApiConnection#waitSynchronized}
     */
    it('should time out waiting for synchronization complete', async () => {
      try {
        await api.waitSynchronized({ applicationPattern: 'app.*', synchronizationId: 'synchronizationId',
          timeoutInSeconds: 1, intervalInMilliseconds: 10 });
        throw new Error('TimeoutError is expected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
      }
      (await api.isSynchronized('synchronizationId')).should.equal(false);
    });
  });

  /**
   * @test {MetaApiConnection#initialize}
   */
  it('should load data to history storage from disk', async () => {
    sandbox.stub(api.historyStorage, 'initialize').resolves();
    await api.initialize();
    _sinon2.default.assert.calledOnce(api.historyStorage.initialize);
  });

  /**
   * @test {MetaApiConnection#onDisconnected}
   */
  it('should set synchronized false on disconnect', async () => {
    await api.onConnected('1:ps-mpa-1', 2);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.match(api.synchronized, true);
    await api.onDisconnected('1:ps-mpa-1');
    _sinon2.default.assert.match(api.synchronized, false);
  });

  /**
   * @test {MetaApiConnection#onDisconnected}
   */
  it('should delete state if stream closed', async () => {
    await api.onConnected('1:ps-mpa-1', 2);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.match(api.synchronized, true);
    await api.onStreamClosed('1:ps-mpa-1');
    _sinon2.default.assert.match(api.synchronized, false);
  });

  /**
   * @test {MetaApiConnection#onDisconnected}
   */
  it('should create refresh subscriptions job', async () => {
    sandbox.stub(client, 'refreshMarketDataSubscriptions').resolves();
    sandbox.stub(client, 'subscribeToMarketData').resolves();
    sandbox.stub(client, 'waitSynchronized').resolves();
    await api.onSynchronizationStarted('1:ps-mpa-1');
    await clock.tickAsync(50);
    _sinon2.default.assert.calledWith(client.refreshMarketDataSubscriptions, 'accountId', 1, []);
    api.terminalState.onSymbolPricesUpdated('1:ps-mpa-1', [{ time: new Date(), symbol: 'EURUSD', bid: 1, ask: 1.1 }]);
    await api.subscribeToMarketData('EURUSD', [{ type: 'quotes' }], 1);
    await clock.tickAsync(1050);
    _sinon2.default.assert.calledWith(client.refreshMarketDataSubscriptions, 'accountId', 1, [{ symbol: 'EURUSD', subscriptions: [{ type: 'quotes' }] }]);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 2);
    await api.onDisconnected('1:ps-mpa-1');
    await clock.tickAsync(1050);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 2);
    await api.onSynchronizationStarted('1:ps-mpa-1');
    await clock.tickAsync(50);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 3);
    await api.close();
    await clock.tickAsync(1050);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 3);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tZXRhQXBpL21ldGFBcGlDb25uZWN0aW9uLnNwZWMuZXM2Il0sIm5hbWVzIjpbImRlc2NyaWJlIiwic2FuZGJveCIsImFwaSIsImFjY291bnQiLCJjbG9jayIsImNsaWVudCIsImdldEFjY291bnRJbmZvcm1hdGlvbiIsImdldFBvc2l0aW9ucyIsImdldFBvc2l0aW9uIiwiZ2V0T3JkZXJzIiwiZ2V0T3JkZXIiLCJnZXRIaXN0b3J5T3JkZXJzQnlUaWNrZXQiLCJnZXRIaXN0b3J5T3JkZXJzQnlQb3NpdGlvbiIsImdldEhpc3RvcnlPcmRlcnNCeVRpbWVSYW5nZSIsImdldERlYWxzQnlUaWNrZXQiLCJnZXREZWFsc0J5UG9zaXRpb24iLCJnZXREZWFsc0J5VGltZVJhbmdlIiwicmVtb3ZlSGlzdG9yeSIsInJlbW92ZUFwcGxpY2F0aW9uIiwidHJhZGUiLCJyZWNvbm5lY3QiLCJzeW5jaHJvbml6ZSIsImVuc3VyZVN1YnNjcmliZSIsInN1YnNjcmliZVRvTWFya2V0RGF0YSIsInVuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEiLCJhZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lciIsImFkZFJlY29ubmVjdExpc3RlbmVyIiwicmVtb3ZlU3luY2hyb25pemF0aW9uTGlzdGVuZXIiLCJyZW1vdmVSZWNvbm5lY3RMaXN0ZW5lciIsImdldFN5bWJvbHMiLCJnZXRTeW1ib2xTcGVjaWZpY2F0aW9uIiwiZ2V0U3ltYm9sUHJpY2UiLCJnZXRDYW5kbGUiLCJnZXRUaWNrIiwiZ2V0Qm9vayIsInNhdmVVcHRpbWUiLCJ3YWl0U3luY2hyb25pemVkIiwidW5zdWJzY3JpYmUiLCJyZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMiLCJlbXB0eUhhc2giLCJjb25uZWN0aW9uUmVnaXN0cnkiLCJjb25uZWN0IiwicmVtb3ZlIiwiYXBwbGljYXRpb24iLCJiZWZvcmUiLCJzaW5vbiIsImNyZWF0ZVNhbmRib3giLCJiZWZvcmVFYWNoIiwiaWQiLCJzdGF0ZSIsInJlbG9hZCIsInN0dWIiLCJIaXN0b3J5RmlsZU1hbmFnZXIiLCJwcm90b3R5cGUiLCJyZXR1cm5zIiwiTWV0YUFwaUNvbm5lY3Rpb24iLCJ1bmRlZmluZWQiLCJtaW5EZWxheUluU2Vjb25kcyIsIm1heERlbGF5SW5TZWNvbmRzIiwidXNlRmFrZVRpbWVycyIsInNob3VsZEFkdmFuY2VUaW1lIiwiYWZ0ZXJFYWNoIiwicmVzdG9yZSIsIml0IiwiYWNjb3VudEluZm9ybWF0aW9uIiwiYnJva2VyIiwiY3VycmVuY3kiLCJzZXJ2ZXIiLCJiYWxhbmNlIiwiZXF1aXR5IiwibWFyZ2luIiwiZnJlZU1hcmdpbiIsImxldmVyYWdlIiwibWFyZ2luTGV2ZWwiLCJyZXNvbHZlcyIsImFjdHVhbCIsInNob3VsZCIsIm1hdGNoIiwiYXNzZXJ0IiwiY2FsbGVkV2l0aCIsInBvc2l0aW9ucyIsInR5cGUiLCJzeW1ib2wiLCJtYWdpYyIsInRpbWUiLCJEYXRlIiwidXBkYXRlVGltZSIsIm9wZW5QcmljZSIsImN1cnJlbnRQcmljZSIsImN1cnJlbnRUaWNrVmFsdWUiLCJ2b2x1bWUiLCJzd2FwIiwicHJvZml0IiwiY29tbWlzc2lvbiIsImNsaWVudElkIiwic3RvcExvc3MiLCJ1bnJlYWxpemVkUHJvZml0IiwicmVhbGl6ZWRQcm9maXQiLCJwb3NpdGlvbiIsIm9yZGVycyIsInBsYXRmb3JtIiwiY3VycmVudFZvbHVtZSIsImNvbW1lbnQiLCJvcmRlciIsImhpc3RvcnlPcmRlcnMiLCJkb25lVGltZSIsInBvc2l0aW9uSWQiLCJzeW5jaHJvbml6aW5nIiwic3RhcnRUaW1lIiwibm93IiwiZW5kVGltZSIsImRlYWxzIiwiZW50cnlUeXBlIiwib3JkZXJJZCIsInByaWNlIiwiaGlzdG9yeVN0b3JhZ2UiLCJjYWxsZWRPbmNlIiwiY2xlYXIiLCJ0cmFkZVJlc3VsdCIsImVycm9yIiwiZGVzY3JpcHRpb24iLCJjcmVhdGVNYXJrZXRCdXlPcmRlciIsImFjdGlvblR5cGUiLCJ0YWtlUHJvZml0IiwidmFsdWUiLCJ1bml0cyIsInN0b3BMb3NzVW5pdHMiLCJ0YWtlUHJvZml0VW5pdHMiLCJjcmVhdGVNYXJrZXRTZWxsT3JkZXIiLCJjcmVhdGVMaW1pdEJ1eU9yZGVyIiwiY3JlYXRlTGltaXRTZWxsT3JkZXIiLCJjcmVhdGVTdG9wQnV5T3JkZXIiLCJjcmVhdGVTdG9wU2VsbE9yZGVyIiwiY3JlYXRlU3RvcExpbWl0QnV5T3JkZXIiLCJzdG9wTGltaXRQcmljZSIsImNyZWF0ZVN0b3BMaW1pdFNlbGxPcmRlciIsIm1vZGlmeVBvc2l0aW9uIiwiY2xvc2VQb3NpdGlvblBhcnRpYWxseSIsImNsb3NlUG9zaXRpb24iLCJjbG9zZUJ5UG9zaXRpb25JZCIsImNsb3NlQnkiLCJjbG9zZVBvc2l0aW9uc0J5U3ltYm9sIiwibW9kaWZ5T3JkZXIiLCJjYW5jZWxPcmRlciIsInN1YnNjcmliZSIsImVuc3VyZVN1YnNjcmliZVN0dWIiLCJjbG9zZSIsIm5vdENhbGxlZCIsInJhbmRvbXN0cmluZyIsIm9uSGlzdG9yeU9yZGVyQWRkZWQiLCJvbkRlYWxBZGRlZCIsInByb21pc2UiLCJ0ZXJtaW5hbFN0YXRlIiwib25TeW1ib2xQcmljZXNVcGRhdGVkIiwiYmlkIiwiYXNrIiwic3Vic2NyaXB0aW9ucyIsInRpbWVmcmFtZSIsIm9uU3Vic2NyaXB0aW9uRG93bmdyYWRlZCIsImludGVydmFsSW5NaWxsaXNlY29uZHMiLCJzeW1ib2xzIiwic3BlY2lmaWNhdGlvbiIsInRpY2tTaXplIiwibWluVm9sdW1lIiwibWF4Vm9sdW1lIiwidm9sdW1lU3RlcCIsInByb2ZpdFRpY2tWYWx1ZSIsImxvc3NUaWNrVmFsdWUiLCJjYW5kbGUiLCJicm9rZXJUaW1lIiwib3BlbiIsImhpZ2giLCJsb3ciLCJ0aWNrVm9sdW1lIiwic3ByZWFkIiwidGljayIsImxhc3QiLCJzaWRlIiwiYm9vayIsImV4aXN0IiwibGlzdGVuZXIiLCJvbkNvbm5lY3RlZCIsInJlcyIsInNldFRpbWVvdXQiLCJvbkZpcnN0Q2FsbCIsInRocm93cyIsIkVycm9yIiwib25TZWNvbmRDYWxsIiwic3luY2hyb25pemVTdHViIiwiY2FsbENvdW50IiwiY2FsbHNGYWtlIiwic3Vic2NyaWJlU3R1YiIsIm9uQWNjb3VudEluZm9ybWF0aW9uVXBkYXRlZCIsImlzU3luY2hyb25pemVkIiwiZXF1YWwiLCJhcHBsaWNhdGlvblBhdHRlcm4iLCJzeW5jaHJvbml6YXRpb25JZCIsInRpbWVvdXRJblNlY29uZHMiLCJyYWNlIiwiYmUiLCJhcHByb3hpbWF0ZWx5Iiwib25IaXN0b3J5T3JkZXJzU3luY2hyb25pemVkIiwib25EZWFsc1N5bmNocm9uaXplZCIsImVyciIsIm5hbWUiLCJpbml0aWFsaXplIiwic3luY2hyb25pemVkIiwib25EaXNjb25uZWN0ZWQiLCJvblN0cmVhbUNsb3NlZCIsIm9uU3luY2hyb25pemF0aW9uU3RhcnRlZCIsInRpY2tBc3luYyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUE7OztBQUdBO0FBQ0FBLFNBQVMsbUJBQVQsRUFBOEIsTUFBTTs7QUFFbEMsTUFBSUMsT0FBSjtBQUNBLE1BQUlDLEdBQUo7QUFDQSxNQUFJQyxPQUFKO0FBQ0EsTUFBSUMsS0FBSjtBQUNBLE1BQUlDLFNBQVM7QUFDWEMsMkJBQXVCLE1BQU0sQ0FBRSxDQURwQjtBQUVYQyxrQkFBYyxNQUFNLENBQUUsQ0FGWDtBQUdYQyxpQkFBYSxNQUFNLENBQUUsQ0FIVjtBQUlYQyxlQUFXLE1BQU0sQ0FBRSxDQUpSO0FBS1hDLGNBQVUsTUFBTSxDQUFFLENBTFA7QUFNWEMsOEJBQTBCLE1BQU0sQ0FBRSxDQU52QjtBQU9YQyxnQ0FBNEIsTUFBTSxDQUFFLENBUHpCO0FBUVhDLGlDQUE2QixNQUFNLENBQUUsQ0FSMUI7QUFTWEMsc0JBQWtCLE1BQU0sQ0FBRSxDQVRmO0FBVVhDLHdCQUFvQixNQUFNLENBQUUsQ0FWakI7QUFXWEMseUJBQXFCLE1BQU0sQ0FBRSxDQVhsQjtBQVlYQyxtQkFBZSxNQUFNLENBQUUsQ0FaWjtB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LFlBQTdCLENBQU47QUFDQSxVQUFNN00sTUFBTThNLFNBQU4sQ0FBZ0IsRUFBaEIsQ0FBTjtBQUNBckssb0JBQU1pQyxNQUFOLENBQWErRyxTQUFiLENBQXVCeEwsT0FBT2lDLDhCQUE5QixFQUE4RCxDQUE5RDtBQUNBLFVBQU1wQyxJQUFJZ0osS0FBSixFQUFOO0FBQ0EsVUFBTTlJLE1BQU04TSxTQUFOLENBQWdCLElBQWhCLENBQU47QUFDQXJLLG9CQUFNaUMsTUFBTixDQUFhK0csU0FBYixDQUF1QnhMLE9BQU9pQyw4QkFBOUIsRUFBOEQsQ0FBOUQ7QUFDRCxHQXRCRDtBQXdCRCxDQWpuQ0QiLCJmaWxlIjoibWV0YUFwaUNvbm5lY3Rpb24uc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHNob3VsZCBmcm9tICdzaG91bGQnO1xuaW1wb3J0IHNpbm9uIGZyb20gJ3Npbm9uJztcbmltcG9ydCBNZXRhQXBpQ29ubmVjdGlvbiBmcm9tICcuL21ldGFBcGlDb25uZWN0aW9uJztcbmltcG9ydCBOb3RTeW5jaHJvbml6ZWRFcnJvciBmcm9tICcuLi9jbGllbnRzL21ldGFBcGkvbm90U3luY2hyb25pemVkRXJyb3InO1xuaW1wb3J0IHJhbmRvbXN0cmluZyBmcm9tICdyYW5kb21zdHJpbmcnO1xuaW1wb3J0IEhpc3RvcnlGaWxlTWFuYWdlciBmcm9tICcuL2hpc3RvcnlGaWxlTWFuYWdlci9pbmRleCc7XG5cbi8qKlxuICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9ufVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXN0YXRlbWVudHNcbmRlc2NyaWJlKCdNZXRhQXBpQ29ubmVjdGlvbicsICgpID0+IHtcblxuICBsZXQgc2FuZGJveDtcbiAgbGV0IGFwaTtcbiAgbGV0IGFjY291bnQ7XG4gIGxldCBjbG9jaztcbiAgbGV0IGNsaWVudCA9IHtcbiAgICBnZXRBY2NvdW50SW5mb3JtYXRpb246ICgpID0+IHt9LFxuICAgIGdldFBvc2l0aW9uczogKCkgPT4ge30sXG4gICAgZ2V0UG9zaXRpb246ICgpID0+IHt9LFxuICAgIGdldE9yZGVyczogKCkgPT4ge30sXG4gICAgZ2V0T3JkZXI6ICgpID0+IHt9LFxuICAgIGdldEhpc3RvcnlPcmRlcnNCeVRpY2tldDogKCkgPT4ge30sXG4gICAgZ2V0SGlzdG9yeU9yZGVyc0J5UG9zaXRpb246ICgpID0+IHt9LFxuICAgIGdldEhpc3RvcnlPcmRlcnNCeVRpbWVSYW5nZTogKCkgPT4ge30sXG4gICAgZ2V0RGVhbHNCeVRpY2tldDogKCkgPT4ge30sXG4gICAgZ2V0RGVhbHNCeVBvc2l0aW9uOiAoKSA9PiB7fSxcbiAgICBnZXREZWFsc0J5VGltZVJhbmdlOiAoKSA9PiB7fSxcbiAgICByZW1vdmVIaXN0b3J5OiAoKSA9PiB7fSxcbiAgICByZW1vdmVBcHBsaWNhdGlvbjogKCkgPT4ge30sXG4gICAgdHJhZGU6ICgpID0+IHt9LFxuICAgIHJlY29ubmVjdDogKCkgPT4ge30sXG4gICAgc3luY2hyb25pemU6ICgpID0+IHRydWUsXG4gICAgZW5zdXJlU3Vic2NyaWJlOiAoKSA9PiB7fSxcbiAgICBzdWJzY3JpYmVUb01hcmtldERhdGE6ICgpID0+IHt9LFxuICAgIHVuc3Vic2NyaWJlRnJvbU1hcmtldERhdGE6ICgpID0+IHt9LFxuICAgIGFkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyOiAoKSA9PiB7fSxcbiAgICBhZGRSZWNvbm5lY3RMaXN0ZW5lcjogKCkgPT4ge30sXG4gICAgcmVtb3ZlU3luY2hyb25pemF0aW9uTGlzdGVuZXI6ICgpID0+IHt9LFxuICAgIHJlbW92ZVJlY29ubmVjdExpc3RlbmVyOiAoKSA9PiB7fSxcbiAgICBnZXRTeW1ib2xzOiAoKSA9PiB7fSxcbiAgICBnZXRTeW1ib2xTcGVjaWZpY2F0aW9uOiAoKSA9PiB7fSxcbiAgICBnZXRTeW1ib2xQcmljZTogKCkgPT4ge30sXG4gICAgZ2V0Q2FuZGxlOiAoKSA9PiB7fSxcbiAgICBnZXRUaWNrOiAoKSA9PiB7fSxcbiAgICBnZXRCb29rOiAoKSA9PiB7fSxcbiAgICBzYXZlVXB0aW1lOiAoKSA9PiB7fSxcbiAgICB3YWl0U3luY2hyb25pemVkOiAoKSA9PiB7fSxcbiAgICB1bnN1YnNjcmliZTogKCkgPT4ge30sXG4gICAgcmVmcmVzaE1hcmtldERhdGFTdWJzY3JpcHRpb25zOiAoKSA9PiB7fVxuICB9O1xuICBjb25zdCBlbXB0eUhhc2ggPSAnZDQxZDhjZDk4ZjAwYjIwNGU5ODAwOTk4ZWNmODQyN2UnO1xuXG4gIGxldCBjb25uZWN0aW9uUmVnaXN0cnkgPSB7XG4gICAgY29ubmVjdDogKCkgPT4ge30sXG4gICAgcmVtb3ZlOiAoKSA9PiB7fSxcbiAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknXG4gIH07XG5cbiAgYmVmb3JlKCgpID0+IHtcbiAgICBzYW5kYm94ID0gc2lub24uY3JlYXRlU2FuZGJveCgpO1xuICB9KTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBhY2NvdW50ID0ge1xuICAgICAgaWQ6ICdhY2NvdW50SWQnLCBcbiAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgcmVsb2FkOiAoKSA9PiB7fVxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKEhpc3RvcnlGaWxlTWFuYWdlci5wcm90b3R5cGUsICdzdGFydFVwZGF0ZUpvYicpLnJldHVybnMoKTtcbiAgICBhcGkgPSBuZXcgTWV0YUFwaUNvbm5lY3Rpb24oY2xpZW50LCBhY2NvdW50LCB1bmRlZmluZWQsIGNvbm5lY3Rpb25SZWdpc3RyeSwgMCwge1xuICAgICAgbWluRGVsYXlJblNlY29uZHM6IDEsXG4gICAgICBtYXhEZWxheUluU2Vjb25kczogMVxuICAgIH0pO1xuICAgIGNsb2NrID0gc2lub24udXNlRmFrZVRpbWVycyh7XG4gICAgICBzaG91bGRBZHZhbmNlVGltZTogdHJ1ZVxuICAgIH0pO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGNsb2NrLnJlc3RvcmUoKTtcbiAgICBzYW5kYm94LnJlc3RvcmUoKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRBY2NvdW50SW5mb3JtYXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGFjY291bnQgaW5mb3JtYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGFjY291bnRJbmZvcm1hdGlvbiA9IHtcbiAgICAgIGJyb2tlcjogJ1RydWUgRUNOIFRyYWRpbmcgTHRkJyxcbiAgICAgIGN1cnJlbmN5OiAnVVNEJyxcbiAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgYmFsYW5jZTogNzMxOS45LFxuICAgICAgZXF1aXR5OiA3MzA2LjY0OTkxMzIwMDAwMSxcbiAgICAgIG1hcmdpbjogMTg0LjEsXG4gICAgICBmcmVlTWFyZ2luOiA3MTIwLjIyLFxuICAgICAgbGV2ZXJhZ2U6IDEwMCxcbiAgICAgIG1hcmdpbkxldmVsOiAzOTY3LjU4MjgzNTQyXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0QWNjb3VudEluZm9ybWF0aW9uJykucmVzb2x2ZXMoYWNjb3VudEluZm9ybWF0aW9uKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldEFjY291bnRJbmZvcm1hdGlvbigpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goYWNjb3VudEluZm9ybWF0aW9uKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudEluZm9ybWF0aW9uLCAnYWNjb3VudElkJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0UG9zaXRpb25zfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBwb3NpdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHBvc2l0aW9ucyA9IFt7XG4gICAgICBpZDogJzQ2MjE0NjkyJyxcbiAgICAgIHR5cGU6ICdQT1NJVElPTl9UWVBFX0JVWScsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICB1cGRhdGVUaW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICBvcGVuUHJpY2U6IDEuMjYxMDEsXG4gICAgICBjdXJyZW50UHJpY2U6IDEuMjQ4ODMsXG4gICAgICBjdXJyZW50VGlja1ZhbHVlOiAxLFxuICAgICAgdm9sdW1lOiAwLjA3LFxuICAgICAgc3dhcDogMCxcbiAgICAgIHByb2ZpdDogLTg1LjI1OTk5OTk5OTk5OTY2LFxuICAgICAgY29tbWlzc2lvbjogLTAuMjUsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgIHN0b3BMb3NzOiAxLjE3NzIxLFxuICAgICAgdW5yZWFsaXplZFByb2ZpdDogLTg1LjI1OTk5OTk5OTk5OTAxLFxuICAgICAgcmVhbGl6ZWRQcm9maXQ6IC02LjUzNjk5MzE2ODk5MjkyMmUtMTNcbiAgICB9XTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0UG9zaXRpb25zJykucmVzb2x2ZXMocG9zaXRpb25zKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldFBvc2l0aW9ucygpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2gocG9zaXRpb25zKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0UG9zaXRpb25zLCAnYWNjb3VudElkJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0UG9zaXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIHBvc2l0aW9uIGJ5IGlkJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBwb3NpdGlvbiA9IHtcbiAgICAgIGlkOiAnNDYyMTQ2OTInLFxuICAgICAgdHlwZTogJ1BPU0lUSU9OX1RZUEVfQlVZJyxcbiAgICAgIHN5bWJvbDogJ0dCUFVTRCcsXG4gICAgICBtYWdpYzogMTAwMCxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgIHVwZGF0ZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgIG9wZW5QcmljZTogMS4yNjEwMSxcbiAgICAgIGN1cnJlbnRQcmljZTogMS4yNDg4MyxcbiAgICAgIGN1cnJlbnRUaWNrVmFsdWU6IDEsXG4gICAgICB2b2x1bWU6IDAuMDcsXG4gICAgICBzd2FwOiAwLFxuICAgICAgcHJvZml0OiAtODUuMjU5OTk5OTk5OTk5NjYsXG4gICAgICBjb21taXNzaW9uOiAtMC4yNSxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgc3RvcExvc3M6IDEuMTc3MjEsXG4gICAgICB1bnJlYWxpemVkUHJvZml0OiAtODUuMjU5OTk5OTk5OTk5MDEsXG4gICAgICByZWFsaXplZFByb2ZpdDogLTYuNTM2OTkzMTY4OTkyOTIyZS0xM1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldFBvc2l0aW9uJykucmVzb2x2ZXMocG9zaXRpb24pO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0UG9zaXRpb24oJzQ2MjE0NjkyJyk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChwb3NpdGlvbik7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldFBvc2l0aW9uLCAnYWNjb3VudElkJywgJzQ2MjE0NjkyJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0T3JkZXJzfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBvcmRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IG9yZGVycyA9IFt7XG4gICAgICBpZDogJzQ2ODcxMjg0JyxcbiAgICAgIHR5cGU6ICdPUkRFUl9UWVBFX0JVWV9MSU1JVCcsXG4gICAgICBzdGF0ZTogJ09SREVSX1NUQVRFX1BMQUNFRCcsXG4gICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTIwVDA4OjM4OjU4LjI3MFonKSxcbiAgICAgIG9wZW5QcmljZTogMS4wMyxcbiAgICAgIGN1cnJlbnRQcmljZTogMS4wNTIwNixcbiAgICAgIHZvbHVtZTogMC4wMSxcbiAgICAgIGN1cnJlbnRWb2x1bWU6IDAuMDEsXG4gICAgICBjb21tZW50OiAnQ09NTUVOVDInXG4gICAgfV07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldE9yZGVycycpLnJlc29sdmVzKG9yZGVycyk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRPcmRlcnMoKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKG9yZGVycyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldE9yZGVycywgJ2FjY291bnRJZCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldE9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBvcmRlciBieSBpZCcsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgb3JkZXIgPSB7XG4gICAgICBpZDogJzQ2ODcxMjg0JyxcbiAgICAgIHR5cGU6ICdPUkRFUl9UWVBFX0JVWV9MSU1JVCcsXG4gICAgICBzdGF0ZTogJ09SREVSX1NUQVRFX1BMQUNFRCcsXG4gICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTIwVDA4OjM4OjU4LjI3MFonKSxcbiAgICAgIG9wZW5QcmljZTogMS4wMyxcbiAgICAgIGN1cnJlbnRQcmljZTogMS4wNTIwNixcbiAgICAgIHZvbHVtZTogMC4wMSxcbiAgICAgIGN1cnJlbnRWb2x1bWU6IDAuMDEsXG4gICAgICBjb21tZW50OiAnQ09NTUVOVDInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0T3JkZXInKS5yZXNvbHZlcyhvcmRlcik7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRPcmRlcignNDY4NzEyODQnKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKG9yZGVyKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0T3JkZXIsICdhY2NvdW50SWQnLCAnNDY4NzEyODQnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRIaXN0b3J5T3JkZXJzQnlUaWNrZXR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGhpc3Rvcnkgb3JkZXJzIGJ5IHRpY2tldCcsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgaGlzdG9yeU9yZGVycyA9IHtcbiAgICAgIGhpc3RvcnlPcmRlcnM6IFt7XG4gICAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgICBjdXJyZW50UHJpY2U6IDEuMjYxLFxuICAgICAgICBjdXJyZW50Vm9sdW1lOiAwLFxuICAgICAgICBkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgICBpZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgICAgcG9zaXRpb25JZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgc3RhdGU6ICdPUkRFUl9TVEFURV9GSUxMRUQnLFxuICAgICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi4yNjBaJyksXG4gICAgICAgIHR5cGU6ICdPUkRFUl9UWVBFX0JVWScsXG4gICAgICAgIHZvbHVtZTogMC4wN1xuICAgICAgfV0sXG4gICAgICBzeW5jaHJvbml6aW5nOiBmYWxzZVxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEhpc3RvcnlPcmRlcnNCeVRpY2tldCcpLnJlc29sdmVzKGhpc3RvcnlPcmRlcnMpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0SGlzdG9yeU9yZGVyc0J5VGlja2V0KCc0NjIxNDY5MicpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goaGlzdG9yeU9yZGVycyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEhpc3RvcnlPcmRlcnNCeVRpY2tldCwgJ2FjY291bnRJZCcsICc0NjIxNDY5MicpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldEhpc3RvcnlPcmRlcnNCeVBvc2l0aW9ufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBoaXN0b3J5IG9yZGVycyBieSBwb3NpdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgaGlzdG9yeU9yZGVycyA9IHtcbiAgICAgIGhpc3RvcnlPcmRlcnM6IFt7XG4gICAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgICBjdXJyZW50UHJpY2U6IDEuMjYxLFxuICAgICAgICBjdXJyZW50Vm9sdW1lOiAwLFxuICAgICAgICBkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgICBpZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgICAgcG9zaXRpb25JZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgc3RhdGU6ICdPUkRFUl9TVEFURV9GSUxMRUQnLFxuICAgICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi4yNjBaJyksXG4gICAgICAgIHR5cGU6ICdPUkRFUl9UWVBFX0JVWScsXG4gICAgICAgIHZvbHVtZTogMC4wN1xuICAgICAgfV0sXG4gICAgICBzeW5jaHJvbml6aW5nOiBmYWxzZVxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEhpc3RvcnlPcmRlcnNCeVBvc2l0aW9uJykucmVzb2x2ZXMoaGlzdG9yeU9yZGVycyk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRIaXN0b3J5T3JkZXJzQnlQb3NpdGlvbignNDYyMTQ2OTInKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKGhpc3RvcnlPcmRlcnMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRIaXN0b3J5T3JkZXJzQnlQb3NpdGlvbiwgJ2FjY291bnRJZCcsICc0NjIxNDY5MicpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldEhpc3RvcnlPcmRlcnNCeVRpbWVSYW5nZX1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgaGlzdG9yeSBvcmRlcnMgYnkgdGltZSByYW5nZScsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgaGlzdG9yeU9yZGVycyA9IHtcbiAgICAgIGhpc3RvcnlPcmRlcnM6IFt7XG4gICAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgICBjdXJyZW50UHJpY2U6IDEuMjYxLFxuICAgICAgICBjdXJyZW50Vm9sdW1lOiAwLFxuICAgICAgICBkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgICBpZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgICAgcG9zaXRpb25JZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgc3RhdGU6ICdPUkRFUl9TVEFURV9GSUxMRUQnLFxuICAgICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi4yNjBaJyksXG4gICAgICAgIHR5cGU6ICdPUkRFUl9UWVBFX0JVWScsXG4gICAgICAgIHZvbHVtZTogMC4wN1xuICAgICAgfV0sXG4gICAgICBzeW5jaHJvbml6aW5nOiBmYWxzZVxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEhpc3RvcnlPcmRlcnNCeVRpbWVSYW5nZScpLnJlc29sdmVzKGhpc3RvcnlPcmRlcnMpO1xuICAgIGxldCBzdGFydFRpbWUgPSBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMTAwMCk7XG4gICAgbGV0IGVuZFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0SGlzdG9yeU9yZGVyc0J5VGltZVJhbmdlKHN0YXJ0VGltZSwgZW5kVGltZSwgMSwgMTAwKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKGhpc3RvcnlPcmRlcnMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRIaXN0b3J5T3JkZXJzQnlUaW1lUmFuZ2UsICdhY2NvdW50SWQnLCBzdGFydFRpbWUsIGVuZFRpbWUsIDEsIDEwMCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0RGVhbHNCeVRpY2tldH1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgaGlzdG9yeSBkZWFscyBieSB0aWNrZXQnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGRlYWxzID0ge1xuICAgICAgZGVhbHM6IFt7XG4gICAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgICBjb21taXNzaW9uOiAtMC4yNSxcbiAgICAgICAgZW50cnlUeXBlOiAnREVBTF9FTlRSWV9JTicsXG4gICAgICAgIGlkOiAnMzMyMzAwOTknLFxuICAgICAgICBtYWdpYzogMTAwMCxcbiAgICAgICAgcGxhdGZvcm06ICdtdDUnLFxuICAgICAgICBvcmRlcklkOiAnNDYyMTQ2OTInLFxuICAgICAgICBwb3NpdGlvbklkOiAnNDYyMTQ2OTInLFxuICAgICAgICBwcmljZTogMS4yNjEwMSxcbiAgICAgICAgcHJvZml0OiAwLFxuICAgICAgICBzd2FwOiAwLFxuICAgICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICAgIHR5cGU6ICdERUFMX1RZUEVfQlVZJyxcbiAgICAgICAgdm9sdW1lOiAwLjA3XG4gICAgICB9XSxcbiAgICAgIHN5bmNocm9uaXppbmc6IGZhbHNlXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0RGVhbHNCeVRpY2tldCcpLnJlc29sdmVzKGRlYWxzKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldERlYWxzQnlUaWNrZXQoJzQ2MjE0NjkyJyk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChkZWFscyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldERlYWxzQnlUaWNrZXQsICdhY2NvdW50SWQnLCAnNDYyMTQ2OTInKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXREZWFsc0J5UG9zaXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGhpc3RvcnkgZGVhbHMgYnkgcG9zaXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGRlYWxzID0ge1xuICAgICAgZGVhbHM6IFt7XG4gICAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgICBjb21taXNzaW9uOiAtMC4yNSxcbiAgICAgICAgZW50cnlUeXBlOiAnREVBTF9FTlRSWV9JTicsXG4gICAgICAgIGlkOiAnMzMyMzAwOTknLFxuICAgICAgICBtYWdpYzogMTAwMCxcbiAgICAgICAgcGxhdGZvcm06ICdtdDUnLFxuICAgICAgICBvcmRlcklkOiAnNDYyMTQ2OTInLFxuICAgICAgICBwb3NpdGlvbklkOiAnNDYyMTQ2OTInLFxuICAgICAgICBwcmljZTogMS4yNjEwMSxcbiAgICAgICAgcHJvZml0OiAwLFxuICAgICAgICBzd2FwOiAwLFxuICAgICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICAgIHR5cGU6ICdERUFMX1RZUEVfQlVZJyxcbiAgICAgICAgdm9sdW1lOiAwLjA3XG4gICAgICB9XSxcbiAgICAgIHN5bmNocm9uaXppbmc6IGZhbHNlXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0RGVhbHNCeVBvc2l0aW9uJykucmVzb2x2ZXMoZGVhbHMpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0RGVhbHNCeVBvc2l0aW9uKCc0NjIxNDY5MicpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goZGVhbHMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXREZWFsc0J5UG9zaXRpb24sICdhY2NvdW50SWQnLCAnNDYyMTQ2OTInKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXREZWFsc0J5VGltZVJhbmdlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBoaXN0b3J5IGRlYWxzIGJ5IHRpbWUgcmFuZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGRlYWxzID0ge1xuICAgICAgZGVhbHM6IFt7XG4gICAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgICBjb21taXNzaW9uOiAtMC4yNSxcbiAgICAgICAgZW50cnlUeXBlOiAnREVBTF9FTlRSWV9JTicsXG4gICAgICAgIGlkOiAnMzMyMzAwOTknLFxuICAgICAgICBtYWdpYzogMTAwMCxcbiAgICAgICAgcGxhdGZvcm06ICdtdDUnLFxuICAgICAgICBvcmRlcklkOiAnNDYyMTQ2OTInLFxuICAgICAgICBwb3NpdGlvbklkOiAnNDYyMTQ2OTInLFxuICAgICAgICBwcmljZTogMS4yNjEwMSxcbiAgICAgICAgcHJvZml0OiAwLFxuICAgICAgICBzd2FwOiAwLFxuICAgICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICAgIHR5cGU6ICdERUFMX1RZUEVfQlVZJyxcbiAgICAgICAgdm9sdW1lOiAwLjA3XG4gICAgICB9XSxcbiAgICAgIHN5bmNocm9uaXppbmc6IGZhbHNlXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0RGVhbHNCeVRpbWVSYW5nZScpLnJlc29sdmVzKGRlYWxzKTtcbiAgICBsZXQgc3RhcnRUaW1lID0gbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEwMDApO1xuICAgIGxldCBlbmRUaW1lID0gbmV3IERhdGUoKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldERlYWxzQnlUaW1lUmFuZ2Uoc3RhcnRUaW1lLCBlbmRUaW1lLCAxLCAxMDApO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goZGVhbHMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXREZWFsc0J5VGltZVJhbmdlLCAnYWNjb3VudElkJywgc3RhcnRUaW1lLCBlbmRUaW1lLCAxLCAxMDApO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3JlbW92ZUhpc3Rvcnl9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJlbW92ZSBoaXN0b3J5JywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdyZW1vdmVIaXN0b3J5JykucmVzb2x2ZXMoKTtcbiAgICBzYW5kYm94LnN0dWIoYXBpLmhpc3RvcnlTdG9yYWdlLCAnY2xlYXInKS5yZXNvbHZlcygpO1xuICAgIGF3YWl0IGFwaS5yZW1vdmVIaXN0b3J5KCdhcHAnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQucmVtb3ZlSGlzdG9yeSwgJ2FjY291bnRJZCcsICdhcHAnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkT25jZShhcGkuaGlzdG9yeVN0b3JhZ2UuY2xlYXIpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3JlbW92ZUFwcGxpY2F0aW9ufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZW1vdmUgYXBwbGljYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3JlbW92ZUFwcGxpY2F0aW9uJykucmVzb2x2ZXMoKTtcbiAgICBzYW5kYm94LnN0dWIoYXBpLmhpc3RvcnlTdG9yYWdlLCAnY2xlYXInKS5yZXNvbHZlcygpO1xuICAgIGF3YWl0IGFwaS5yZW1vdmVBcHBsaWNhdGlvbigpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5yZW1vdmVBcHBsaWNhdGlvbiwgJ2FjY291bnRJZCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRPbmNlKGFwaS5oaXN0b3J5U3RvcmFnZS5jbGVhcik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlTWFya2V0QnV5T3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBtYXJrZXQgYnV5IG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6IDQ2ODcwNDcyXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jcmVhdGVNYXJrZXRCdXlPcmRlcignR0JQVVNEJywgMC4wNywgMC45LCAyLjAsIHtjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9CVVknLCBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgdm9sdW1lOiAwLjA3LCBzdG9wTG9zczogMC45LCB0YWtlUHJvZml0OiAyLjAsIGNvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlTWFya2V0QnV5T3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBtYXJrZXQgYnV5IG9yZGVyIHdpdGggcmVsYXRpdmUgU0wvVFAnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogNDY4NzA0NzJcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNyZWF0ZU1hcmtldEJ1eU9yZGVyKCdHQlBVU0QnLCAwLjA3LCB7dmFsdWU6IDAuMSwgdW5pdHM6ICdSRUxBVElWRV9QUklDRSd9LFxuICAgICAge3ZhbHVlOiAyMDAwLCB1bml0czogJ1JFTEFUSVZFX1BPSU5UUyd9LCB7Y29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9CVVknLCBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgdm9sdW1lOiAwLjA3LCBzdG9wTG9zczogMC4xLCBzdG9wTG9zc1VuaXRzOiAnUkVMQVRJVkVfUFJJQ0UnLCB0YWtlUHJvZml0OiAyMDAwLFxuICAgICAgdGFrZVByb2ZpdFVuaXRzOiAnUkVMQVRJVkVfUE9JTlRTJywgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjcmVhdGVNYXJrZXRTZWxsT3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBtYXJrZXQgc2VsbCBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiA0Njg3MDQ3MlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlTWFya2V0U2VsbE9yZGVyKCdHQlBVU0QnLCAwLjA3LCAyLjAsIDAuOSwge2NvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdPUkRFUl9UWVBFX1NFTEwnLCBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgdm9sdW1lOiAwLjA3LCBzdG9wTG9zczogMi4wLCB0YWtlUHJvZml0OiAwLjksIGNvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlTGltaXRCdXlPcmRlcn1cbiAgICovXG4gIGl0KCdzaG91bGQgY3JlYXRlIGxpbWl0IGJ1eSBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiA0Njg3MDQ3MlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlTGltaXRCdXlPcmRlcignR0JQVVNEJywgMC4wNywgMS4wLCAwLjksIDIuMCwge2NvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdPUkRFUl9UWVBFX0JVWV9MSU1JVCcsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLCB2b2x1bWU6IDAuMDcsIG9wZW5QcmljZTogMS4wLCBzdG9wTG9zczogMC45LCB0YWtlUHJvZml0OiAyLjAsIGNvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NyZWF0ZUxpbWl0U2VsbE9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgbGltaXQgc2VsbCBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiA0Njg3MDQ3MlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlTGltaXRTZWxsT3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDEuNSwgMi4wLCAwLjksIHtjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9TRUxMX0xJTUlUJyxcbiAgICAgIHN5bWJvbDogJ0dCUFVTRCcsIHZvbHVtZTogMC4wNywgb3BlblByaWNlOiAxLjUsIHN0b3BMb3NzOiAyLjAsIHRha2VQcm9maXQ6IDAuOSwgY29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlU3RvcEJ1eU9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgc3RvcCBidXkgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogNDY4NzA0NzJcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNyZWF0ZVN0b3BCdXlPcmRlcignR0JQVVNEJywgMC4wNywgMS41LCAwLjksIDIuMCwge2NvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdPUkRFUl9UWVBFX0JVWV9TVE9QJyxcbiAgICAgIHN5bWJvbDogJ0dCUFVTRCcsIHZvbHVtZTogMC4wNywgb3BlblByaWNlOiAxLjUsIHN0b3BMb3NzOiAwLjksIHRha2VQcm9maXQ6IDIuMCwgY29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlU3RvcFNlbGxPcmRlcn1cbiAgICovXG4gIGl0KCdzaG91bGQgY3JlYXRlIHN0b3Agc2VsbCBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jcmVhdGVTdG9wU2VsbE9yZGVyKCdHQlBVU0QnLCAwLjA3LCAxLjAsIDIuMCwgMC45LCB7Y29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX1RZUEVfU0VMTF9TVE9QJyxcbiAgICAgIHN5bWJvbDogJ0dCUFVTRCcsIHZvbHVtZTogMC4wNywgb3BlblByaWNlOiAxLjAsIHN0b3BMb3NzOiAyLjAsIHRha2VQcm9maXQ6IDAuOSwgY29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlU3RvcExpbWl0QnV5T3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBzdG9wIGxpbWl0IGJ1eSBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiA0Njg3MDQ3MlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlU3RvcExpbWl0QnV5T3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDEuNSwgMS40LCAwLjksIDIuMCwge2NvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdPUkRFUl9UWVBFX0JVWV9TVE9QX0xJTUlUJyxcbiAgICAgIHN5bWJvbDogJ0dCUFVTRCcsIHZvbHVtZTogMC4wNywgb3BlblByaWNlOiAxLjUsIHN0b3BMaW1pdFByaWNlOiAxLjQsIHN0b3BMb3NzOiAwLjksIHRha2VQcm9maXQ6IDIuMCxcbiAgICAgIGNvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlU3RvcExpbWl0U2VsbE9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgc3RvcCBsaW1pdCBzZWxsIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6ICc0Njg3MDQ3MidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNyZWF0ZVN0b3BMaW1pdFNlbGxPcmRlcignR0JQVVNEJywgMC4wNywgMS4wLCAxLjEsIDIuMCwgMC45LCB7Y29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX1RZUEVfU0VMTF9TVE9QX0xJTUlUJyxcbiAgICAgIHN5bWJvbDogJ0dCUFVTRCcsIHZvbHVtZTogMC4wNywgb3BlblByaWNlOiAxLjAsIHN0b3BMaW1pdFByaWNlOiAxLjEsIHN0b3BMb3NzOiAyLjAsIHRha2VQcm9maXQ6IDAuOSxcbiAgICAgIGNvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jbW9kaWZ5UG9zaXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIG1vZGlmeSBwb3NpdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBwb3NpdGlvbklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5tb2RpZnlQb3NpdGlvbignNDY4NzA0NzInLCAyLjAsIDAuOSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdQT1NJVElPTl9NT0RJRlknLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJywgc3RvcExvc3M6IDIuMCwgdGFrZVByb2ZpdDogMC45fSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2Nsb3NlUG9zaXRpb25QYXJ0aWFsbHl9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNsb3NlIHBvc2l0aW9uIHBhcnRpYWxseScsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBwb3NpdGlvbklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jbG9zZVBvc2l0aW9uUGFydGlhbGx5KCc0Njg3MDQ3MicsIDAuOSwge2NvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdQT1NJVElPTl9QQVJUSUFMJyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0Njg3MDQ3MicsIHZvbHVtZTogMC45LCBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2Nsb3NlUG9zaXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIGNsb3NlIHBvc2l0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0Njg3MDQ3MidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNsb3NlUG9zaXRpb24oJzQ2ODcwNDcyJywge2NvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ1BPU0lUSU9OX0NMT1NFX0lEJyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0Njg3MDQ3MicsIGNvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY2xvc2VCeX1cbiAgICovXG4gIGl0KCdzaG91bGQgY2xvc2UgcG9zaXRpb24gYnkgYW4gb3Bwb3NpdGUgb25lJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0Njg3MDQ3MicsXG4gICAgICBjbG9zZUJ5UG9zaXRpb25JZDogJzQ2ODcwNDgyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY2xvc2VCeSgnNDY4NzA0NzInLCAnNDY4NzA0ODInLCB7Y29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnUE9TSVRJT05fQ0xPU0VfQlknLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJywgY2xvc2VCeVBvc2l0aW9uSWQ6ICc0Njg3MDQ4MicsIGNvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY2xvc2VQb3NpdGlvbnNCeVN5bWJvbH1cbiAgICovXG4gIGl0KCdzaG91bGQgY2xvc2UgcG9zaXRpb25zIGJ5IHN5bWJvbCcsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBwb3NpdGlvbklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jbG9zZVBvc2l0aW9uc0J5U3ltYm9sKCdFVVJVU0QnLCB7Y29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnUE9TSVRJT05TX0NMT1NFX1NZTUJPTCcsXG4gICAgICBzeW1ib2w6ICdFVVJVU0QnLCBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI21vZGlmeU9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBtb2RpZnkgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkubW9kaWZ5T3JkZXIoJzQ2ODcwNDcyJywgMS4wLCAyLjAsIDAuOSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdPUkRFUl9NT0RJRlknLCBvcmRlcklkOiAnNDY4NzA0NzInLFxuICAgICAgb3BlblByaWNlOiAxLjAsIHN0b3BMb3NzOiAyLjAsIHRha2VQcm9maXQ6IDAuOX0pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjYW5jZWxPcmRlcn1cbiAgICovXG4gIGl0KCdzaG91bGQgY2FuY2VsIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6ICc0Njg3MDQ3MidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNhbmNlbE9yZGVyKCc0Njg3MDQ3MicpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfQ0FOQ0VMJywgb3JkZXJJZDogJzQ2ODcwNDcyJ30pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNyZWNvbm5lY3R9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJlY29ubmVjdCB0ZXJtaW5hbCcsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAncmVjb25uZWN0JykucmVzb2x2ZXMoKTtcbiAgICBhd2FpdCBhcGkucmVjb25uZWN0KCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlY29ubmVjdCwgJ2FjY291bnRJZCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3N1YnNjcmliZX1cbiAgICovXG4gIGRlc2NyaWJlKCdlbnN1cmUgc3Vic2NyaWJlJywgKCkgPT4ge1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3N1YnNjcmliZX1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIHN1YnNjcmliZSB0byB0ZXJtaW5hbCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHNhbmRib3guc3R1YihjbGllbnQsICdlbnN1cmVTdWJzY3JpYmUnKS5yZXNvbHZlcygpO1xuICAgICAgYXdhaXQgYXBpLnN1YnNjcmliZSgpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmVuc3VyZVN1YnNjcmliZSwgJ2FjY291bnRJZCcpO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jc3luY2hyb25pemV9XG4gICAqL1xuICBpdCgnc2hvdWxkIG5vdCBzdWJzY3JpYmUgaWYgY29ubmVjdGlvbiBpcyBjbG9zZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZW5zdXJlU3Vic2NyaWJlU3R1YiA9IHNhbmRib3guc3R1YihjbGllbnQsICdlbnN1cmVTdWJzY3JpYmUnKS5yZXNvbHZlcygpO1xuICAgIGF3YWl0IGFwaS5jbG9zZSgpO1xuICAgIGF3YWl0IGFwaS5zdWJzY3JpYmUoKTtcbiAgICBzaW5vbi5hc3NlcnQubm90Q2FsbGVkKGVuc3VyZVN1YnNjcmliZVN0dWIpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3N5bmNocm9uaXplfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBzeW5jaHJvbml6ZSBzdGF0ZSB3aXRoIHRlcm1pbmFsJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdzeW5jaHJvbml6ZScpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKHJhbmRvbXN0cmluZywgJ2dlbmVyYXRlJykucmV0dXJucygnc3luY2hyb25pemF0aW9uSWQnKTtcbiAgICBhcGkgPSBuZXcgTWV0YUFwaUNvbm5lY3Rpb24oY2xpZW50LCB7aWQ6ICdhY2NvdW50SWQnfSwgdW5kZWZpbmVkLCBjb25uZWN0aW9uUmVnaXN0cnkpO1xuICAgIGFwaS5oaXN0b3J5U3RvcmFnZS5vbkhpc3RvcnlPcmRlckFkZGVkKCcxOnBzLW1wYS0xJywge2RvbmVUaW1lOiBuZXcgRGF0ZSgnMjAyMC0wMS0wMVQwMDowMDowMC4wMDBaJyl9KTtcbiAgICBhcGkuaGlzdG9yeVN0b3JhZ2Uub25EZWFsQWRkZWQoJzE6cHMtbXBhLTEnLCB7dGltZTogbmV3IERhdGUoJzIwMjAtMDEtMDJUMDA6MDA6MDAuMDAwWicpfSk7XG4gICAgYXdhaXQgYXBpLnN5bmNocm9uaXplKCcxOnBzLW1wYS0xJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnN5bmNocm9uaXplLCAnYWNjb3VudElkJywgMSwgJ3BzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJyxcbiAgICAgIG5ldyBEYXRlKCcyMDIwLTAxLTAxVDAwOjAwOjAwLjAwMFonKSwgbmV3IERhdGUoJzIwMjAtMDEtMDJUMDA6MDA6MDAuMDAwWicpLCBlbXB0eUhhc2gsIGVtcHR5SGFzaCwgZW1wdHlIYXNoKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNzeW5jaHJvbml6ZX1cbiAgICovXG4gIGl0KCdzaG91bGQgc3luY2hyb25pemUgc3RhdGUgd2l0aCB0ZXJtaW5hbCBmcm9tIHNwZWNpZmllZCB0aW1lJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdzeW5jaHJvbml6ZScpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKHJhbmRvbXN0cmluZywgJ2dlbmVyYXRlJykucmV0dXJucygnc3luY2hyb25pemF0aW9uSWQnKTtcbiAgICBhcGkgPSBuZXcgTWV0YUFwaUNvbm5lY3Rpb24oY2xpZW50LCB7aWQ6ICdhY2NvdW50SWQnfSwgdW5kZWZpbmVkLCBjb25uZWN0aW9uUmVnaXN0cnksXG4gICAgICBuZXcgRGF0ZSgnMjAyMC0xMC0wN1QwMDowMDowMC4wMDBaJykpO1xuICAgIGFwaS5oaXN0b3J5U3RvcmFnZS5vbkhpc3RvcnlPcmRlckFkZGVkKCcxOnBzLW1wYS0xJywge2RvbmVUaW1lOiBuZXcgRGF0ZSgnMjAyMC0wMS0wMVQwMDowMDowMC4wMDBaJyl9KTtcbiAgICBhcGkuaGlzdG9yeVN0b3JhZ2Uub25EZWFsQWRkZWQoJzE6cHMtbXBhLTEnLCB7dGltZTogbmV3IERhdGUoJzIwMjAtMDEtMDJUMDA6MDA6MDAuMDAwWicpfSk7XG4gICAgYXdhaXQgYXBpLnN5bmNocm9uaXplKCcxOnBzLW1wYS0xJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnN5bmNocm9uaXplLCAnYWNjb3VudElkJywgMSwgJ3BzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJyxcbiAgICAgIG5ldyBEYXRlKCcyMDIwLTEwLTA3VDAwOjAwOjAwLjAwMFonKSwgbmV3IERhdGUoJzIwMjAtMTAtMDdUMDA6MDA6MDAuMDAwWicpLCBlbXB0eUhhc2gsIGVtcHR5SGFzaCwgZW1wdHlIYXNoKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNzdWJzY3JpYmVUb01hcmtldERhdGF9XG4gICAqL1xuICBpdCgnc2hvdWxkIHN1YnNjcmliZSB0byBtYXJrZXQgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnc3Vic2NyaWJlVG9NYXJrZXREYXRhJykucmVzb2x2ZXMoKTtcbiAgICBsZXQgcHJvbWlzZSA9IGFwaS5zdWJzY3JpYmVUb01hcmtldERhdGEoJ0VVUlVTRCcsIHVuZGVmaW5lZCwgMSk7XG4gICAgYXBpLnRlcm1pbmFsU3RhdGUub25TeW1ib2xQcmljZXNVcGRhdGVkKCcxOnBzLW1wYS0xJywgW3t0aW1lOiBuZXcgRGF0ZSgpLCBzeW1ib2w6ICdFVVJVU0QnLCBiaWQ6IDEsIGFzazogMS4xfV0pO1xuICAgIGF3YWl0IHByb21pc2U7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnN1YnNjcmliZVRvTWFya2V0RGF0YSwgJ2FjY291bnRJZCcsIDEsICdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnfV0pO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChhcGkuc3Vic2NyaXB0aW9ucygnRVVSVVNEJyksIFt7dHlwZTogJ3F1b3Rlcyd9XSk7XG4gICAgYXdhaXQgYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSgnRVVSVVNEJywgW3t0eXBlOiAnYm9va3MnfSwge3R5cGU6ICdjYW5kbGVzJywgdGltZWZyYW1lOiAnMW0nfV0sIDEpO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChhcGkuc3Vic2NyaXB0aW9ucygnRVVSVVNEJyksIFt7dHlwZTogJ3F1b3Rlcyd9LCB7dHlwZTogJ2Jvb2tzJ30sXG4gICAgICB7dHlwZTogJ2NhbmRsZXMnLCB0aW1lZnJhbWU6ICcxbSd9XSk7XG4gICAgYXdhaXQgYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSgnRVVSVVNEJywgW3t0eXBlOiAncXVvdGVzJ30sIHt0eXBlOiAnY2FuZGxlcycsIHRpbWVmcmFtZTogJzVtJ31dLCAxKTtcbiAgICBzaW5vbi5hc3NlcnQubWF0Y2goYXBpLnN1YnNjcmlwdGlvbnMoJ0VVUlVTRCcpLCBbe3R5cGU6ICdxdW90ZXMnfSwge3R5cGU6ICdib29rcyd9LFxuICAgICAge3R5cGU6ICdjYW5kbGVzJywgdGltZWZyYW1lOiAnMW0nfSwge3R5cGU6ICdjYW5kbGVzJywgdGltZWZyYW1lOiAnNW0nfV0pO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3Vuc3Vic2NyaWJlRnJvbU1hcmtldERhdGF9XG4gICAqL1xuICBpdCgnc2hvdWxkIHVuc3Vic2NyaWJlIGZyb20gbWFya2V0IGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLnRlcm1pbmFsU3RhdGUub25TeW1ib2xQcmljZXNVcGRhdGVkKCcxOnBzLW1wYS0xJyxcbiAgICAgIFt7dGltZTogbmV3IERhdGUoKSwgc3ltYm9sOiAnRVVSVVNEJywgYmlkOiAxLCBhc2s6IDEuMX1dKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndW5zdWJzY3JpYmVGcm9tTWFya2V0RGF0YScpLnJlc29sdmVzKCk7XG4gICAgYXdhaXQgYXBpLnVuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEoJ0VVUlVTRCcsIFt7dHlwZTogJ3F1b3Rlcyd9XSwgMSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnVuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEsICdhY2NvdW50SWQnLCAxLCAnRVVSVVNEJywgW3t0eXBlOiAncXVvdGVzJ31dKTtcbiAgICBhd2FpdCBhcGkuc3Vic2NyaWJlVG9NYXJrZXREYXRhKCdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnfSwge3R5cGU6ICdib29rcyd9LFxuICAgICAge3R5cGU6ICdjYW5kbGVzJywgdGltZWZyYW1lOiAnMW0nfSwge3R5cGU6ICdjYW5kbGVzJywgdGltZWZyYW1lOiAnNW0nfV0sIDEpO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChhcGkuc3Vic2NyaXB0aW9ucygnRVVSVVNEJyksIFt7dHlwZTogJ3F1b3Rlcyd9LCB7dHlwZTogJ2Jvb2tzJ30sXG4gICAgICB7dHlwZTogJ2NhbmRsZXMnLCB0aW1lZnJhbWU6ICcxbSd9LCB7dHlwZTogJ2NhbmRsZXMnLCB0aW1lZnJhbWU6ICc1bSd9XSk7XG4gICAgYXdhaXQgYXBpLnVuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEoJ0VVUlVTRCcsIFt7dHlwZTogJ3F1b3Rlcyd9LCB7dHlwZTogJ2NhbmRsZXMnLCB0aW1lZnJhbWU6ICc1bSd9XSwgMSk7XG4gICAgc2lub24uYXNzZXJ0Lm1hdGNoKGFwaS5zdWJzY3JpcHRpb25zKCdFVVJVU0QnKSwgW3t0eXBlOiAnYm9va3MnfSwge3R5cGU6ICdjYW5kbGVzJywgdGltZWZyYW1lOiAnMW0nfV0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnb25TdWJzY3JpcHRpb25Eb3duZ3JhZGUnLCAoKSA9PiB7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25TdWJzY3JpcHRpb25Eb3duZ3JhZGV9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB1bnN1YnNjcmliZSBkdXJpbmcgbWFya2V0IGRhdGEgc3Vic2NyaXB0aW9uIGRvd25ncmFkZScsIGFzeW5jICgpID0+IHtcbiAgICAgIHNhbmRib3guc3R1YihhcGksICdzdWJzY3JpYmVUb01hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgICAgc2FuZGJveC5zdHViKGFwaSwgJ3Vuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgICAgYXdhaXQgYXBpLm9uU3Vic2NyaXB0aW9uRG93bmdyYWRlZCgnMTpwcy1tcGEtMScsICdFVVJVU0QnLCB1bmRlZmluZWQsIFt7dHlwZTogJ3RpY2tzJ30sIHt0eXBlOiAnYm9va3MnfV0pO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoYXBpLnVuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEsICdFVVJVU0QnLCBbe3R5cGU6ICd0aWNrcyd9LCB7dHlwZTogJ2Jvb2tzJ31dKTtcbiAgICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQoYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25TdWJzY3JpcHRpb25Eb3duZ3JhZGV9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgbWFya2V0IGRhdGEgc3Vic2NyaXB0aW9uIG9uIGRvd25ncmFkZScsIGFzeW5jICgpID0+IHtcbiAgICAgIHNhbmRib3guc3R1YihhcGksICdzdWJzY3JpYmVUb01hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgICAgc2FuZGJveC5zdHViKGFwaSwgJ3Vuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgICAgYXdhaXQgYXBpLm9uU3Vic2NyaXB0aW9uRG93bmdyYWRlZCgnMTpwcy1tcGEtMScsICdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnLCBpbnRlcnZhbEluTWlsbGlzZWNvbmRzOiAzMDAwMH1dKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGFwaS5zdWJzY3JpYmVUb01hcmtldERhdGEsICdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnLCBpbnRlcnZhbEluTWlsbGlzZWNvbmRzOiAzMDAwMH1dKTtcbiAgICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQoYXBpLnVuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEpO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0U3ltYm9sc31cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgc3ltYm9scycsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgc3ltYm9scyA9IFsnRVVSVVNEJ107XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldFN5bWJvbHMnKS5yZXNvbHZlcyhzeW1ib2xzKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldFN5bWJvbHMoKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHN5bWJvbHMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRTeW1ib2xzLCAnYWNjb3VudElkJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0U3ltYm9sU3BlY2lmaWNhdGlvbn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgc3ltYm9sIHNwZWNpZmljYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHNwZWNpZmljYXRpb24gPSB7XG4gICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgdGlja1NpemU6IDAuMDAwMDEsXG4gICAgICBtaW5Wb2x1bWU6IDAuMDEsXG4gICAgICBtYXhWb2x1bWU6IDEwMCxcbiAgICAgIHZvbHVtZVN0ZXA6IDAuMDFcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRTeW1ib2xTcGVjaWZpY2F0aW9uJykucmVzb2x2ZXMoc3BlY2lmaWNhdGlvbik7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRTeW1ib2xTcGVjaWZpY2F0aW9uKCdBVUROWkQnKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHNwZWNpZmljYXRpb24pO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRTeW1ib2xTcGVjaWZpY2F0aW9uLCAnYWNjb3VudElkJywgJ0FVRE5aRCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldFN5bWJvbFByaWNlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBzeW1ib2wgcHJpY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHByaWNlID0ge1xuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIGJpZDogMS4wNTI5NyxcbiAgICAgIGFzazogMS4wNTMwOSxcbiAgICAgIHByb2ZpdFRpY2tWYWx1ZTogMC41OTczMSxcbiAgICAgIGxvc3NUaWNrVmFsdWU6IDAuNTk3MzZcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRTeW1ib2xQcmljZScpLnJlc29sdmVzKHByaWNlKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldFN5bWJvbFByaWNlKCdBVUROWkQnKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHByaWNlKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0U3ltYm9sUHJpY2UsICdhY2NvdW50SWQnLCAnQVVETlpEJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0Q2FuZGxlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBjdXJyZW50IGNhbmRsZScsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgY2FuZGxlID0ge1xuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIHRpbWVmcmFtZTogJzE1bScsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0wN1QwMzo0NTowMC4wMDBaJyksXG4gICAgICBicm9rZXJUaW1lOiAnMjAyMC0wNC0wNyAwNjo0NTowMC4wMDAnLFxuICAgICAgb3BlbjogMS4wMzI5NyxcbiAgICAgIGhpZ2g6IDEuMDYzMDksXG4gICAgICBsb3c6IDEuMDI3MDUsXG4gICAgICBjbG9zZTogMS4wNDMsXG4gICAgICB0aWNrVm9sdW1lOiAxNDM1LFxuICAgICAgc3ByZWFkOiAxNyxcbiAgICAgIHZvbHVtZTogMzQ1XG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0Q2FuZGxlJykucmVzb2x2ZXMoY2FuZGxlKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldENhbmRsZSgnQVVETlpEJywgJzE1bScpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goY2FuZGxlKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0Q2FuZGxlLCAnYWNjb3VudElkJywgJ0FVRE5aRCcsICcxNW0nKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRUaWNrfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBsYXRlc3QgdGljaycsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdGljayA9IHtcbiAgICAgIHN5bWJvbDogJ0FVRE5aRCcsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0wN1QwMzo0NTowMC4wMDBaJyksXG4gICAgICBicm9rZXJUaW1lOiAnMjAyMC0wNC0wNyAwNjo0NTowMC4wMDAnLFxuICAgICAgYmlkOiAxLjA1Mjk3LFxuICAgICAgYXNrOiAxLjA1MzA5LFxuICAgICAgbGFzdDogMC41Mjk4LFxuICAgICAgdm9sdW1lOiAwLjEzLFxuICAgICAgc2lkZTogJ2J1eSdcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRUaWNrJykucmVzb2x2ZXModGljayk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRUaWNrKCdBVUROWkQnKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRpY2spO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRUaWNrLCAnYWNjb3VudElkJywgJ0FVRE5aRCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldEJvb2t9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGxhdGVzdCBvcmRlciBib29rJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBib29rID0ge1xuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTA3VDAzOjQ1OjAwLjAwMFonKSxcbiAgICAgIGJyb2tlclRpbWU6ICcyMDIwLTA0LTA3IDA2OjQ1OjAwLjAwMCcsXG4gICAgICBib29rOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnQk9PS19UWVBFX1NFTEwnLFxuICAgICAgICAgIHByaWNlOiAxLjA1MzA5LFxuICAgICAgICAgIHZvbHVtZTogNS42N1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ0JPT0tfVFlQRV9CVVknLFxuICAgICAgICAgIHByaWNlOiAxLjA1Mjk3LFxuICAgICAgICAgIHZvbHVtZTogMy40NVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0Qm9vaycpLnJlc29sdmVzKGJvb2spO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0Qm9vaygnQVVETlpEJyk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChib29rKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0Qm9vaywgJ2FjY291bnRJZCcsICdBVUROWkQnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNzYXZlVXB0aW1lfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBzYXZlIHVwdGltZSBzdGF0cyB0byB0aGUgc2VydmVyJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdzYXZlVXB0aW1lJykucmVzb2x2ZXMoKTtcbiAgICBhd2FpdCBhcGkuc2F2ZVVwdGltZSh7JzFoJzogMTAwfSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnNhdmVVcHRpbWUsICdhY2NvdW50SWQnLCB7JzFoJzogMTAwfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jdGVybWluYWxTdGF0ZX1cbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2hpc3RvcnlTdG9yYWdlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIGxpc3RlbmVycywgdGVybWluYWwgc3RhdGUgYW5kIGhpc3Rvcnkgc3RvcmFnZSBmb3IgYWNjb3VudHMgd2l0aCB1c2VyIHN5bmNoIG1vZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2FkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyJykucmV0dXJucygpO1xuICAgIGFwaSA9IG5ldyBNZXRhQXBpQ29ubmVjdGlvbihjbGllbnQsIHtpZDogJ2FjY291bnRJZCd9LCB1bmRlZmluZWQsIGNvbm5lY3Rpb25SZWdpc3RyeSk7XG4gICAgc2hvdWxkLmV4aXN0KGFwaS50ZXJtaW5hbFN0YXRlKTtcbiAgICBzaG91bGQuZXhpc3QoYXBpLmhpc3RvcnlTdG9yYWdlKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIsICdhY2NvdW50SWQnLCBhcGkpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lciwgJ2FjY291bnRJZCcsIGFwaS50ZXJtaW5hbFN0YXRlKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIsICdhY2NvdW50SWQnLCBhcGkuaGlzdG9yeVN0b3JhZ2UpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2FkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBhZGQgc3luY2hyb25pemF0aW9uIGxpc3RlbmVycycsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXInKS5yZXR1cm5zKCk7XG4gICAgYXBpID0gbmV3IE1ldGFBcGlDb25uZWN0aW9uKGNsaWVudCwge2lkOiAnYWNjb3VudElkJ30sIHVuZGVmaW5lZCwgY29ubmVjdGlvblJlZ2lzdHJ5KTtcbiAgICBsZXQgbGlzdGVuZXIgPSB7fTtcbiAgICBhcGkuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lciwgJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNyZW1vdmVTeW5jaHJvbml6YXRpb25MaXN0ZW5lcn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmVtb3ZlIHN5bmNocm9uaXphdGlvbiBsaXN0ZW5lcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3JlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyJykucmV0dXJucygpO1xuICAgIGFwaSA9IG5ldyBNZXRhQXBpQ29ubmVjdGlvbihjbGllbnQsIHtpZDogJ2FjY291bnRJZCd9LCB1bmRlZmluZWQsIGNvbm5lY3Rpb25SZWdpc3RyeSk7XG4gICAgbGV0IGxpc3RlbmVyID0ge307XG4gICAgYXBpLnJlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQucmVtb3ZlU3luY2hyb25pemF0aW9uTGlzdGVuZXIsICdhY2NvdW50SWQnLCBsaXN0ZW5lcik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25Db25uZWN0ZWR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHN5Y2hyb25pemUgb24gY29ubmVjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnc3luY2hyb25pemUnKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihyYW5kb21zdHJpbmcsICdnZW5lcmF0ZScpLnJldHVybnMoJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgYXBpID0gbmV3IE1ldGFBcGlDb25uZWN0aW9uKGNsaWVudCwge2lkOiAnYWNjb3VudElkJ30sIHVuZGVmaW5lZCwgY29ubmVjdGlvblJlZ2lzdHJ5KTtcbiAgICBhcGkuaGlzdG9yeVN0b3JhZ2Uub25IaXN0b3J5T3JkZXJBZGRlZCgnMTpwcy1tcGEtMScsIHtkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpfSk7XG4gICAgYXBpLmhpc3RvcnlTdG9yYWdlLm9uRGVhbEFkZGVkKCcxOnBzLW1wYS0xJywge3RpbWU6IG5ldyBEYXRlKCcyMDIwLTAxLTAyVDAwOjAwOjAwLjAwMFonKX0pO1xuICAgIGF3YWl0IGFwaS5vbkNvbm5lY3RlZCgnMTpwcy1tcGEtMScsIDEpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuc3luY2hyb25pemUsICdhY2NvdW50SWQnLCAxLCAncHMtbXBhLTEnLCAnc3luY2hyb25pemF0aW9uSWQnLFxuICAgICAgbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpLCBuZXcgRGF0ZSgnMjAyMC0wMS0wMlQwMDowMDowMC4wMDBaJyksIGVtcHR5SGFzaCwgZW1wdHlIYXNoLCBlbXB0eUhhc2gpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI29uQ29ubmVjdGVkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBtYWludGFpbiBzeW5jaHJvbml6YXRpb24gaWYgY29ubmVjdGlvbiBoYXMgZmFpbGVkJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBzdHViID0gc2FuZGJveC5zdHViKGNsaWVudCwgJ3N5bmNocm9uaXplJyk7XG4gICAgc3R1Yi5vbkZpcnN0Q2FsbCgpLnRocm93cyhuZXcgRXJyb3IoJ3Rlc3QgZXJyb3InKSk7XG4gICAgc3R1Yi5vblNlY29uZENhbGwoKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihyYW5kb21zdHJpbmcsICdnZW5lcmF0ZScpLnJldHVybnMoJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgYXBpID0gbmV3IE1ldGFBcGlDb25uZWN0aW9uKGNsaWVudCwge2lkOiAnYWNjb3VudElkJ30sIHVuZGVmaW5lZCwgY29ubmVjdGlvblJlZ2lzdHJ5KTtcbiAgICBhd2FpdCBhcGkuaGlzdG9yeVN0b3JhZ2Uub25IaXN0b3J5T3JkZXJBZGRlZCgnMTpwcy1tcGEtMScsIHtkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpfSk7XG4gICAgYXdhaXQgYXBpLmhpc3RvcnlTdG9yYWdlLm9uRGVhbEFkZGVkKCcxOnBzLW1wYS0xJywge3RpbWU6IG5ldyBEYXRlKCcyMDIwLTAxLTAyVDAwOjAwOjAwLjAwMFonKX0pO1xuICAgIGF3YWl0IGFwaS5vbkNvbm5lY3RlZCgnMTpwcy1tcGEtMScsIDEpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuc3luY2hyb25pemUsICdhY2NvdW50SWQnLCAxLCAncHMtbXBhLTEnLCAnc3luY2hyb25pemF0aW9uSWQnLFxuICAgICAgbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpLCBuZXcgRGF0ZSgnMjAyMC0wMS0wMlQwMDowMDowMC4wMDBaJyksIGVtcHR5SGFzaCwgZW1wdHlIYXNoLCBlbXB0eUhhc2gpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI29uQ29ubmVjdGVkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBub3Qgc3luY2hyb25pemUgaWYgY29ubmVjdGlvbiBpcyBjbG9zZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHN5bmNocm9uaXplU3R1YiA9IHNhbmRib3guc3R1YihjbGllbnQsICdzeW5jaHJvbml6ZScpO1xuICAgIGFwaSA9IG5ldyBNZXRhQXBpQ29ubmVjdGlvbihjbGllbnQsIHtpZDogJ2FjY291bnRJZCd9LCB1bmRlZmluZWQsIGNvbm5lY3Rpb25SZWdpc3RyeSk7XG4gICAgYXdhaXQgYXBpLmhpc3RvcnlTdG9yYWdlLm9uSGlzdG9yeU9yZGVyQWRkZWQoJzE6cHMtbXBhLTEnLCB7ZG9uZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTAxLTAxVDAwOjAwOjAwLjAwMFonKX0pO1xuICAgIGF3YWl0IGFwaS5oaXN0b3J5U3RvcmFnZS5vbkRlYWxBZGRlZCgnMTpwcy1tcGEtMScsIHt0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wMS0wMlQwMDowMDowMC4wMDBaJyl9KTtcbiAgICBhd2FpdCBhcGkuY2xvc2UoKTtcbiAgICBhd2FpdCBhcGkub25Db25uZWN0ZWQoJzE6cHMtbXBhLTEnLCAxKTtcbiAgICBzaW5vbi5hc3NlcnQubm90Q2FsbGVkKHN5bmNocm9uaXplU3R1Yik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25Db25uZWN0ZWR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJlc3RvcmUgbWFya2V0IGRhdGEgc3Vic2NyaXB0aW9ucyBvbiBzeW5jaHJvbml6YXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGNhbGxDb3VudCA9IDA7XG4gICAgc2FuZGJveC5zdHViKGFwaS50ZXJtaW5hbFN0YXRlLCAncHJpY2UnKS5jYWxsc0Zha2UoKHN5bWJvbCkgPT4ge1xuICAgICAgY2FsbENvdW50Kys7XG4gICAgICBpZiAoY2FsbENvdW50ID09PSA2KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4ge3N5bWJvbH07XG4gICAgfSk7XG4gICAgYXdhaXQgYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSgnRVVSVVNEJyk7XG4gICAgYXdhaXQgYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSgnQVVETlpEJyk7XG4gICAgY29uc3Qgc3Vic2NyaWJlU3R1YiA9IHNhbmRib3guc3R1YihjbGllbnQsICdzdWJzY3JpYmVUb01hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgIGF3YWl0IGFwaS5vbkFjY291bnRJbmZvcm1hdGlvblVwZGF0ZWQoJzE6cHMtbXBhLTEnLCB7fSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxDb3VudChzdWJzY3JpYmVTdHViLCAxKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChzdWJzY3JpYmVTdHViLCAnYWNjb3VudElkJywgMSwgJ0FVRE5aRCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2Nsb3NlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB1bnN1YnNjcmliZSBmcm9tIGV2ZW50cyBvbiBjbG9zZScsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXInKS5yZXR1cm5zKCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3JlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyJykucmV0dXJucygpO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd1bnN1YnNjcmliZScpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGNvbm5lY3Rpb25SZWdpc3RyeSwgJ3JlbW92ZScpLnJldHVybnMoKTtcbiAgICBhcGkgPSBuZXcgTWV0YUFwaUNvbm5lY3Rpb24oY2xpZW50LCB7aWQ6ICdhY2NvdW50SWQnfSwgdW5kZWZpbmVkLCBjb25uZWN0aW9uUmVnaXN0cnkpO1xuICAgIGF3YWl0IGFwaS5jbG9zZSgpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC51bnN1YnNjcmliZSwgJ2FjY291bnRJZCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5yZW1vdmVTeW5jaHJvbml6YXRpb25MaXN0ZW5lciwgJ2FjY291bnRJZCcsIGFwaSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyLCAnYWNjb3VudElkJywgYXBpLnRlcm1pbmFsU3RhdGUpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5yZW1vdmVTeW5jaHJvbml6YXRpb25MaXN0ZW5lciwgJ2FjY291bnRJZCcsIGFwaS5oaXN0b3J5U3RvcmFnZSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY29ubmVjdGlvblJlZ2lzdHJ5LnJlbW92ZSwgJ2FjY291bnRJZCcpO1xuICB9KTtcblxuICBkZXNjcmliZSgnd2FpdFN5bmNocm9uaXplZCcsICgpID0+IHtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiN3YWl0U3luY2hyb25pemVkfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgd2FpdCB1dGlsIHN5bmNocm9uaXphdGlvbiBjb21wbGV0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIHNhbmRib3guc3R1YihjbGllbnQsICd3YWl0U3luY2hyb25pemVkJykucmVzb2x2ZXMoKTtcbiAgICAgIHNpbm9uLmFzc2VydC5tYXRjaChhd2FpdCBhcGkuaXNTeW5jaHJvbml6ZWQoJzE6cHMtbXBhLTEnKSwgZmFsc2UpO1xuICAgICAgKGF3YWl0IGFwaS5pc1N5bmNocm9uaXplZCgpKS5zaG91bGQuZXF1YWwoZmFsc2UpO1xuICAgICAgbGV0IHByb21pc2UgPSBhcGkud2FpdFN5bmNocm9uaXplZCh7YXBwbGljYXRpb25QYXR0ZXJuOiAnYXBwLionLCBzeW5jaHJvbml6YXRpb25JZDogJ3N5bmNocm9uaXphdGlvbklkJyxcbiAgICAgICAgdGltZW91dEluU2Vjb25kczogMSwgaW50ZXJ2YWxJbk1pbGxpc2Vjb25kczogMTB9KTtcbiAgICAgIGxldCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgYXdhaXQgUHJvbWlzZS5yYWNlKFtwcm9taXNlLCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSldKTtcbiAgICAgIChEYXRlLm5vdygpIC0gc3RhcnRUaW1lKS5zaG91bGQuYmUuYXBwcm94aW1hdGVseSg1MCwgMTApO1xuICAgICAgYXBpLm9uSGlzdG9yeU9yZGVyc1N5bmNocm9uaXplZCgnMTpwcy1tcGEtMScsICdzeW5jaHJvbml6YXRpb25JZCcpO1xuICAgICAgYXBpLm9uRGVhbHNTeW5jaHJvbml6ZWQoJzE6cHMtbXBhLTEnLCAnc3luY2hyb25pemF0aW9uSWQnKTtcbiAgICAgIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgKERhdGUubm93KCkgLSBzdGFydFRpbWUpLnNob3VsZC5iZS5hcHByb3hpbWF0ZWx5KDEwLCAxMCk7XG4gICAgICAoYXdhaXQgYXBpLmlzU3luY2hyb25pemVkKCcxOnBzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJykpLnNob3VsZC5lcXVhbCh0cnVlKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiN3YWl0U3luY2hyb25pemVkfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgdGltZSBvdXQgd2FpdGluZyBmb3Igc3luY2hyb25pemF0aW9uIGNvbXBsZXRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYXBpLndhaXRTeW5jaHJvbml6ZWQoe2FwcGxpY2F0aW9uUGF0dGVybjogJ2FwcC4qJywgc3luY2hyb25pemF0aW9uSWQ6ICdzeW5jaHJvbml6YXRpb25JZCcsXG4gICAgICAgICAgdGltZW91dEluU2Vjb25kczogMSwgaW50ZXJ2YWxJbk1pbGxpc2Vjb25kczogMTB9KTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaW1lb3V0RXJyb3IgaXMgZXhwZWN0ZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnIubmFtZS5zaG91bGQuZXF1YWwoJ1RpbWVvdXRFcnJvcicpO1xuICAgICAgfVxuICAgICAgKGF3YWl0IGFwaS5pc1N5bmNocm9uaXplZCgnc3luY2hyb25pemF0aW9uSWQnKSkuc2hvdWxkLmVxdWFsKGZhbHNlKTtcbiAgICB9KTtcblxuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2luaXRpYWxpemV9XG4gICAqL1xuICBpdCgnc2hvdWxkIGxvYWQgZGF0YSB0byBoaXN0b3J5IHN0b3JhZ2UgZnJvbSBkaXNrJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihhcGkuaGlzdG9yeVN0b3JhZ2UsICdpbml0aWFsaXplJykucmVzb2x2ZXMoKTtcbiAgICBhd2FpdCBhcGkuaW5pdGlhbGl6ZSgpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRPbmNlKGFwaS5oaXN0b3J5U3RvcmFnZS5pbml0aWFsaXplKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNvbkRpc2Nvbm5lY3RlZH1cbiAgICovXG4gIGl0KCdzaG91bGQgc2V0IHN5bmNocm9uaXplZCBmYWxzZSBvbiBkaXNjb25uZWN0JywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5vbkNvbm5lY3RlZCgnMTpwcy1tcGEtMScsIDIpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBzaW5vbi5hc3NlcnQubWF0Y2goYXBpLnN5bmNocm9uaXplZCwgdHJ1ZSk7XG4gICAgYXdhaXQgYXBpLm9uRGlzY29ubmVjdGVkKCcxOnBzLW1wYS0xJyk7XG4gICAgc2lub24uYXNzZXJ0Lm1hdGNoKGFwaS5zeW5jaHJvbml6ZWQsIGZhbHNlKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNvbkRpc2Nvbm5lY3RlZH1cbiAgICovXG4gIGl0KCdzaG91bGQgZGVsZXRlIHN0YXRlIGlmIHN0cmVhbSBjbG9zZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLm9uQ29ubmVjdGVkKCcxOnBzLW1wYS0xJywgMik7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChhcGkuc3luY2hyb25pemVkLCB0cnVlKTtcbiAgICBhd2FpdCBhcGkub25TdHJlYW1DbG9zZWQoJzE6cHMtbXBhLTEnKTtcbiAgICBzaW5vbi5hc3NlcnQubWF0Y2goYXBpLnN5bmNocm9uaXplZCwgZmFsc2UpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI29uRGlzY29ubmVjdGVkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgcmVmcmVzaCBzdWJzY3JpcHRpb25zIGpvYicsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAncmVmcmVzaE1hcmtldERhdGFTdWJzY3JpcHRpb25zJykucmVzb2x2ZXMoKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnc3Vic2NyaWJlVG9NYXJrZXREYXRhJykucmVzb2x2ZXMoKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnd2FpdFN5bmNocm9uaXplZCcpLnJlc29sdmVzKCk7XG4gICAgYXdhaXQgYXBpLm9uU3luY2hyb25pemF0aW9uU3RhcnRlZCgnMTpwcy1tcGEtMScpO1xuICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYyg1MCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucywgJ2FjY291bnRJZCcsIDEsIFtdKTtcbiAgICBhcGkudGVybWluYWxTdGF0ZS5vblN5bWJvbFByaWNlc1VwZGF0ZWQoJzE6cHMtbXBhLTEnLCBbe3RpbWU6IG5ldyBEYXRlKCksIHN5bWJvbDogJ0VVUlVTRCcsIGJpZDogMSwgYXNrOiAxLjF9XSk7XG4gICAgYXdhaXQgYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSgnRVVSVVNEJywgW3t0eXBlOiAncXVvdGVzJ31dLCAxKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMTA1MCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucywgJ2FjY291bnRJZCcsIDEsIFxuICAgICAgW3tzeW1ib2w6ICdFVVJVU0QnLCBzdWJzY3JpcHRpb25zOiBbe3R5cGU6ICdxdW90ZXMnfV19XSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxDb3VudChjbGllbnQucmVmcmVzaE1hcmtldERhdGFTdWJzY3JpcHRpb25zLCAyKTtcbiAgICBhd2FpdCBhcGkub25EaXNjb25uZWN0ZWQoJzE6cHMtbXBhLTEnKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMTA1MCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxDb3VudChjbGllbnQucmVmcmVzaE1hcmtldERhdGFTdWJzY3JpcHRpb25zLCAyKTtcbiAgICBhd2FpdCBhcGkub25TeW5jaHJvbml6YXRpb25TdGFydGVkKCcxOnBzLW1wYS0xJyk7XG4gICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDUwKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbENvdW50KGNsaWVudC5yZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMsIDMpO1xuICAgIGF3YWl0IGFwaS5jbG9zZSgpO1xuICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYygxMDUwKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbENvdW50KGNsaWVudC5yZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMsIDMpO1xuICB9KTtcblxufSk7XG4iXX0=