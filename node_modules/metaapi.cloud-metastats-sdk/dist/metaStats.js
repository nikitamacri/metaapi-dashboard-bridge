'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _httpClient = require('./clients/httpClient');

var _httpClient2 = _interopRequireDefault(_httpClient);

var _metaStats = require('./clients/metaStats.client');

var _metaStats2 = _interopRequireDefault(_metaStats);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * MetaStats API SDK
 */
class MetaStats {

  /**
   * @typedef {Object} ConnectionOptions connection options
   * @property {Number} [requestTimeout] request timeout in seconds, default 60
   * @property {String} [domain] request domain, default 'agiliumtrade.agiliumtrade.ai'
   * @property {RetryOptions} [retryOpts] retry options
   */

  /**
   * Constructs MetaStats class instance
   * @param {String} token authorization token
   * @param {ConnectionOptions} [opts] connection options
   */
  constructor(token, opts = {}) {
    const httpClient = new _httpClient2.default(opts.requestTimeout, opts.retryOpts);
    this._metaStatsClient = new _metaStats2.default(httpClient, token, opts.domain);
  }

  /**
   * Returns the getMetrics MetaStatsClient method bound to the MetaStatsClient instance
   * @returns {Function} getMetrics MetaStatsClient method
   */
  get getMetrics() {
    return this._metaStatsClient.getMetrics.bind(this._metaStatsClient);
  }

}
exports.default = MetaStats;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9tZXRhU3RhdHMuZXM2Il0sIm5hbWVzIjpbIk1ldGFTdGF0cyIsImNvbnN0cnVjdG9yIiwidG9rZW4iLCJvcHRzIiwiaHR0cENsaWVudCIsIkh0dHBDbGllbnQiLCJyZXF1ZXN0VGltZW91dCIsInJldHJ5T3B0cyIsIl9tZXRhU3RhdHNDbGllbnQiLCJNZXRhU3RhdHNDbGllbnQiLCJkb21haW4iLCJnZXRNZXRyaWNzIiwiYmluZCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQUVBOzs7O0FBQ0E7Ozs7OztBQUVBOzs7QUFHZSxNQUFNQSxTQUFOLENBQWdCOztBQUU3Qjs7Ozs7OztBQU9BOzs7OztBQUtBQyxjQUFZQyxLQUFaLEVBQW1CQyxPQUFPLEVBQTFCLEVBQThCO0FBQzVCLFVBQU1DLGFBQWEsSUFBSUMsb0JBQUosQ0FBZUYsS0FBS0csY0FBcEIsRUFBb0NILEtBQUtJLFNBQXpDLENBQW5CO0FBQ0EsU0FBS0MsZ0JBQUwsR0FBd0IsSUFBSUMsbUJBQUosQ0FBb0JMLFVBQXBCLEVBQWdDRixLQUFoQyxFQUF1Q0MsS0FBS08sTUFBNUMsQ0FBeEI7QUFDRDs7QUFFRDs7OztBQUlBLE1BQUlDLFVBQUosR0FBaUI7QUFDZixXQUFPLEtBQUtILGdCQUFMLENBQXNCRyxVQUF0QixDQUFpQ0MsSUFBakMsQ0FBc0MsS0FBS0osZ0JBQTNDLENBQVA7QUFDRDs7QUF6QjRCO2tCQUFWUixTIiwiZmlsZSI6Im1ldGFTdGF0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEh0dHBDbGllbnQgZnJvbSAnLi9jbGllbnRzL2h0dHBDbGllbnQnO1xuaW1wb3J0IE1ldGFTdGF0c0NsaWVudCBmcm9tICcuL2NsaWVudHMvbWV0YVN0YXRzLmNsaWVudCc7XG5cbi8qKlxuICogTWV0YVN0YXRzIEFQSSBTREtcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWV0YVN0YXRzIHtcblxuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gQ29ubmVjdGlvbk9wdGlvbnMgY29ubmVjdGlvbiBvcHRpb25zXG4gICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbcmVxdWVzdFRpbWVvdXRdIHJlcXVlc3QgdGltZW91dCBpbiBzZWNvbmRzLCBkZWZhdWx0IDYwXG4gICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbZG9tYWluXSByZXF1ZXN0IGRvbWFpbiwgZGVmYXVsdCAnYWdpbGl1bXRyYWRlLmFnaWxpdW10cmFkZS5haSdcbiAgICogQHByb3BlcnR5IHtSZXRyeU9wdGlvbnN9IFtyZXRyeU9wdHNdIHJldHJ5IG9wdGlvbnNcbiAgICovXG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgTWV0YVN0YXRzIGNsYXNzIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0b2tlbiBhdXRob3JpemF0aW9uIHRva2VuXG4gICAqIEBwYXJhbSB7Q29ubmVjdGlvbk9wdGlvbnN9IFtvcHRzXSBjb25uZWN0aW9uIG9wdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRva2VuLCBvcHRzID0ge30pIHtcbiAgICBjb25zdCBodHRwQ2xpZW50ID0gbmV3IEh0dHBDbGllbnQob3B0cy5yZXF1ZXN0VGltZW91dCwgb3B0cy5yZXRyeU9wdHMpO1xuICAgIHRoaXMuX21ldGFTdGF0c0NsaWVudCA9IG5ldyBNZXRhU3RhdHNDbGllbnQoaHR0cENsaWVudCwgdG9rZW4sIG9wdHMuZG9tYWluKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBnZXRNZXRyaWNzIE1ldGFTdGF0c0NsaWVudCBtZXRob2QgYm91bmQgdG8gdGhlIE1ldGFTdGF0c0NsaWVudCBpbnN0YW5jZVxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IGdldE1ldHJpY3MgTWV0YVN0YXRzQ2xpZW50IG1ldGhvZFxuICAgKi9cbiAgZ2V0IGdldE1ldHJpY3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21ldGFTdGF0c0NsaWVudC5nZXRNZXRyaWNzLmJpbmQodGhpcy5fbWV0YVN0YXRzQ2xpZW50KTtcbiAgfVxuXG59XG4iXX0=